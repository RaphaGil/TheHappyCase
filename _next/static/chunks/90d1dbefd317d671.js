(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46372,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(52086),a=e.i(14420),n=e.i(18566),i=e.i(20786),l=e.i(92808),o=e.i(52670),c=e.i(30858),d=e.i(28690);let m=(e,t,r,s,a,n)=>{let i=0;return e.forEach(l=>{if("charm"===l.type){if(l.id===a||void 0===a&&e.indexOf(l)===n)return;let o=l.pin||l,c=o.name||o.src,d=o.category||l.category||s;(c===t||c===r)&&d===s&&(i+=l.quantity||1)}}),i},x=(e,t,r,s,a,n)=>{let i=0;return e.forEach(l=>{"charm"===l.type||l.id===a||e.indexOf(l)===n||(l.pins||l.pinsDetails||[]).forEach(e=>{if(!e)return;let a=e.name||e.src,n=e.src||"",o=e.category||s;(a===t||a===r||n===t||n===r)&&o===s&&(i+=l.quantity||1)})}),i},h=(e,t,r,s)=>e.filter(e=>{let a=e.pin||e,n=a.name||a.src,i=a.category||s;return(n===t||n===r)&&i===s}).length,g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"colorful",r=t&&""!==t.trim()?t:"colorful",s=e.name||e.src||"",a=e.src||"";return{name:s,price:e.price||2,totalPrice:e.price||2,image:a,pin:e,category:r,type:"charm"}};var u=e.i(11488),f=e.i(68757);let p=e=>{let{totalItems:r=0,onBack:s}=e,a=r||0;return(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("button",{onClick:s,className:"flex items-center text-gray-600 hover:text-gray-900 px-4 py-2 text-xs uppercase tracking-wider font-light transition-colors duration-200 mb-6 font-inter",children:[(0,t.jsx)(u.FontAwesomeIcon,{icon:f.faArrowLeft,className:"mr-2 text-xs"}),"Continue Shopping"]}),(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsxs)("h1",{className:"text-title text-gray-900 tracking-title mb-2 font-inter",children:["YOUR CART (",a," ",1===a,")"]}),(0,t.jsx)("div",{className:"w-16 sm:w-20 md:w-24 h-px bg-gray-200 mx-auto mb-4"})]})]})},y=e=>{let{onContinueShopping:r}=e;return(0,t.jsx)("div",{className:"text-center py-16 flex flex-col items-center justify-center",children:(0,t.jsxs)("div",{className:"border border-gray-200 p-8 md:p-12 max-w-md mx-auto bg-white",children:[(0,t.jsx)("h2",{className:"text-xl md:text-2xl font-light text-gray-900 mb-4 font-inter",children:"Your cart is empty"}),(0,t.jsx)("p",{className:"text-gray-500 mb-8 text-sm font-light font-inter",children:"Start creating your custom case to add items to your cart."}),(0,t.jsx)("button",{onClick:r,className:"px-6 py-2 text-xs uppercase tracking-wider font-light font-inter bg-btn-primary-blue hover:bg-btn-primary-blue-hover text-btn-primary-blue-text border border-btn-primary-blue-border hover:border-btn-primary-blue-hover transition-all duration-200",children:"Create Your Case"})]})})},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t)=>{let r="".concat(t.src,"|").concat(t.name,"|").concat(t.price);return e[r]||(e[r]=(0,l._)((0,i._)({},t),{count:0})),e[r].count+=1,e},{})};var v=e.i(22123);let j=e=>{if(!e)return"";let t=e;return(t=(t=t.replace(/\s*-\s*(Flag|Colorful Charm|Bronze Charm)$/i,"")).replace(/\s+Flag$/i,"")).trim()},N=e=>{var r,s;let{item:a,formatPrice:n,errorMessage:i}=e,l=j(a.name||(null==(r=a.pin)?void 0:r.name)),o=a.quantity||1,c=a.price||a.totalPrice||0;return(0,t.jsx)("div",{className:"mt-2 flex flex-col gap-2",children:(0,t.jsxs)("div",{className:"flex items-start justify-between px-2 py-2 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[a.image?(0,t.jsx)("img",{src:(0,v.normalizeImagePath)(a.image),alt:a.name||"Charm",className:"w-24 h-24 object-contain rounded",loading:"lazy",fetchPriority:"low",decoding:"async",width:"96",height:"96",sizes:"96px"}):(null==(s=a.pin)?void 0:s.src)?(0,t.jsx)("img",{src:(0,v.normalizeImagePath)(a.pin.src),alt:a.pin.name||"Charm",className:"w-24 h-24 object-contain rounded",loading:"lazy",fetchPriority:"low",decoding:"async",width:"96",height:"96",sizes:"96px"}):(0,t.jsx)("div",{className:"w-24 h-24 rounded bg-gray-50 border border-gray-200 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Image"})}),i&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center z-10 shadow-lg",children:(0,t.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"text-xs font-light text-gray-900 mb-1 font-inter",children:[(0,t.jsx)("div",{className:"break-words",children:l||"Charm"}),(0,t.jsx)("div",{className:"text-gray-500 font-light font-inter text-[10px]",children:"bronze"===a.category?"Bronze Charm":"flags"===a.category?"Flag":"Colorful Charm"})]}),i&&(0,t.jsx)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-sm animate-pulse",children:(0,t.jsx)("p",{className:"text-xs text-red-700 font-inter leading-tight font-medium",children:i})})]})]}),(0,t.jsx)("div",{className:"text-xs font-medium text-gray-900 font-inter flex-shrink-0",children:n(c*o)})]})})},w=e=>{let{item:r,formatPrice:s,errorMessage:a,charmErrors:n={}}=e,i=Object.values(b(r.pinsDetails)),l="number"==typeof r.basePrice?r.basePrice:8;return(0,t.jsxs)("div",{className:"mt-2 flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex items-start px-2 py-2 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[r.designImage?(0,t.jsx)("img",{src:(0,v.normalizeImagePath)(r.designImage),alt:"Your Design",className:"w-24 h-18 object-contain rounded",loading:"lazy",fetchPriority:"low",decoding:"async",width:"96",height:"72",sizes:"96px"}):r.caseImage||r.image?(0,t.jsx)("img",{src:(0,v.normalizeImagePath)(r.caseImage||r.image),alt:"Case",className:"w-24 h-18 object-contain rounded",loading:"lazy",fetchPriority:"low",decoding:"async",width:"96",height:"72",sizes:"96px"}):(0,t.jsx)("div",{className:"w-24 h-18 rounded border-2 border-gray-300 flex items-center justify-center",style:{backgroundColor:r.color}}),a&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center z-10 shadow-lg",children:(0,t.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"text-xs font-light text-gray-900 mb-1 font-inter",children:[(0,t.jsx)("div",{className:"break-words",children:r.caseName||r.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"text-gray-500 font-light font-inter",children:"Color:"}),(0,t.jsx)("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:r.color}})]})]}),a&&(0,t.jsx)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-sm animate-pulse",children:(0,t.jsx)("p",{className:"text-xs text-red-700 font-inter leading-tight font-medium",children:a})})]})]}),(0,t.jsx)("div",{className:"text-xs font-medium text-gray-900 font-inter flex-shrink-0",children:s(l)})]}),i.map((e,r)=>{let a=e.name||e.src||"",i=e.category&&""!==e.category.trim()?e.category:"colorful",l=n["".concat(a,"-").concat(i)],o=j(e.name);return(0,t.jsxs)("div",{className:"flex items-start justify-between px-2 py-2 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,t.jsx)("img",{src:(0,v.normalizeImagePath)(e.src),alt:o||"Charm",className:"w-24 h-24 object-contain",loading:"lazy",fetchPriority:"low",decoding:"async",width:"96",height:"96",sizes:"96px"}),l&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center z-10 shadow-lg",children:(0,t.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),(0,t.jsxs)("div",{className:"text-xs font-light text-gray-900 mb-1 font-inter flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"break-words",children:[o||"Charm"," ",e.count>1?"(x".concat(e.count,")"):""]}),l&&(0,t.jsx)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-sm animate-pulse",children:(0,t.jsx)("p",{className:"text-xs text-red-700 font-inter leading-tight font-medium",children:l})})]})]}),(0,t.jsx)("div",{className:"text-xs font-medium text-gray-900 font-inter flex-shrink-0",children:s(e.price*e.count)})]},r)})]})},C=e=>{let{item:r,formatPrice:s,errorMessage:a}=e;return(0,t.jsx)("div",{className:"mt-2 flex flex-col gap-2",children:(0,t.jsxs)("div",{className:"flex items-start justify-between px-2 py-2 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"relative flex-shrink-0",children:[r.designImage?(0,t.jsx)("img",{src:(0,v.normalizeImagePath)(r.designImage),alt:"Your Design",className:"w-24 h-18 object-contain rounded",loading:"lazy",fetchPriority:"low",decoding:"async",width:"96",height:"72",sizes:"96px"}):r.caseImage||r.image?(0,t.jsx)("img",{src:(0,v.normalizeImagePath)(r.caseImage||r.image),alt:r.caseName||r.name||"Case",className:"w-24 h-18 object-contain rounded",loading:"lazy",fetchPriority:"low",decoding:"async",width:"96",height:"72",sizes:"96px"}):(0,t.jsx)("div",{className:"w-24 h-18 rounded border-2 border-gray-300 flex items-center justify-center",style:{backgroundColor:r.color}}),a&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center z-10 shadow-lg",children:(0,t.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"text-xs font-light text-gray-900 mb-1 font-inter",children:[(0,t.jsx)("div",{className:"break-words",children:r.caseName||r.name||"Passport Case"}),r.color&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"text-gray-500 font-light font-inter",children:"Color:"}),(0,t.jsx)("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:r.color}})]})]}),a&&(0,t.jsx)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-sm animate-pulse",children:(0,t.jsx)("p",{className:"text-xs text-red-700 font-inter leading-tight font-medium",children:a})})]})]}),(0,t.jsx)("div",{className:"text-xs font-medium text-gray-900 font-inter flex-shrink-0",children:s(r.basePrice||r.price||r.totalPrice||0)})]})})},k=e=>{let{index:r,item:s,incrementItemQty:a,decrementItemQty:n}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-2 font-light font-inter",children:"Quantity:"}),(0,t.jsx)("div",{className:"flex flex-col gap-2",children:(0,t.jsxs)("div",{className:"flex items-center border border-gray-200 rounded-sm p-1 w-fit",children:[(0,t.jsx)("button",{onClick:()=>n(void 0!==s.id?s.id:r),className:"w-6 h-6 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors",title:"Decrease",children:"âˆ’"}),(0,t.jsx)("div",{className:"px-3 py-1 text-sm text-gray-900 font-light font-inter",children:s.quantity||1}),(0,t.jsx)("button",{onClick:()=>a(void 0!==s.id?s.id:r),className:"w-6 h-6 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors",title:"Add one more",children:"+"})]})})]})},I=e=>{let{index:r,item:s,openNoteIndex:a,noteTexts:n,setOpenNoteIndex:o,setNoteTexts:c,handleNoteChange:d,handleSaveNote:m}=e;return(0,t.jsxs)(t.Fragment,{children:[a===r&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-2 font-light font-inter",children:"Add a note for this item:"}),(0,t.jsx)("textarea",{value:void 0!==n[r]?n[r]:s.note||"",onChange:e=>d(r,e.target.value),placeholder:"Add any special instructions or notes...",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 font-light resize-none font-inter",rows:"3"}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,t.jsx)("button",{onClick:()=>{o(null),c((0,l._)((0,i._)({},n),{[r]:s.note||""}))},className:"px-4 py-1.5 text-xs uppercase tracking-wider text-gray-600 hover:text-gray-900 font-light transition-colors font-inter",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>m(r),className:"px-4 py-1.5 text-xs uppercase tracking-wider font-light font-inter bg-btn-primary hover:bg-btn-primary-hover text-btn-primary-text border border-btn-primary-border hover:border-btn-primary-hover transition-all duration-200",children:"Save Note"})]})]}),s.note&&a!==r&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-1 font-light font-inter",children:"Note:"}),(0,t.jsx)("div",{className:"text-sm text-gray-700 font-light whitespace-pre-wrap font-inter",children:s.note})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,t.jsxs)("button",{onClick:()=>o(a===r?null:r),className:"flex items-center text-gray-500 hover:text-gray-900 px-4 py-2 text-xs uppercase tracking-wider font-light transition-colors font-inter",children:[s.note?"Edit Note":"Add Note",(0,t.jsx)(u.FontAwesomeIcon,{icon:a===r?f.faChevronUp:f.faChevronDown,className:"ml-2 text-xs"})]})})]})},z=e=>{var r,s;let{item:a,index:n,formatPrice:i,incrementItemQty:l,decrementItemQty:o,removeFromCart:c,openNoteIndex:d,setOpenNoteIndex:m,noteTexts:x,setNoteTexts:h,handleNoteChange:g,handleSaveNote:p,errorMessage:y,charmErrors:b={}}=e;return(0,t.jsx)("div",{className:"border border-gray-200 p-6 bg-white","data-item-id":a.id||n,children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:["charm"===a.type?(0,t.jsx)(N,{item:a,formatPrice:i,errorMessage:y}):a.pinsDetails&&a.pinsDetails.length>0?(0,t.jsx)(w,{item:a,formatPrice:i,errorMessage:y,charmErrors:b}):(0,t.jsx)(C,{item:a,formatPrice:i,errorMessage:y}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-100",children:[(0,t.jsx)(k,{index:n,item:a,incrementItemQty:l,decrementItemQty:o}),(0,t.jsx)("div",{className:"flex items-center justify-end",children:(0,t.jsxs)("button",{onClick:()=>c(n),className:"flex items-center text-gray-500 hover:text-gray-900 px-4 py-2 text-xs uppercase tracking-wider font-light transition-colors font-inter",children:[(0,t.jsx)(u.FontAwesomeIcon,{icon:f.faTrash,className:"mr-2 text-xs"}),"Remove"]})})]}),(0,t.jsx)(I,{index:n,item:a,openNoteIndex:d,noteTexts:x,setOpenNoteIndex:m,setNoteTexts:h,handleNoteChange:g,handleSaveNote:p}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-light text-gray-700 font-inter",children:"Item Total:"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 font-inter",children:(r=a,s=i,"charm"===r.type?s((r.price||r.totalPrice||0)*(r.quantity||1)):s((("number"==typeof r.basePrice?r.basePrice:r.price||0)+(r.pinsDetails&&r.pinsDetails.length?r.pinsDetails.reduce((e,t)=>e+(t.price||0),0):0))*(r.quantity||1)))})]})})]})})})};var P=e.i(22016);let A=e=>{let{totalPrice:r,onCheckout:s}=e;return(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)("div",{className:"border border-gray-200 p-6 bg-white sticky top-8",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-100",children:[(0,t.jsx)("span",{className:"text-sm font-light text-gray-700 uppercase tracking-wider font-inter",children:"Subtotal:"}),(0,t.jsx)("span",{className:"text-lg font-medium text-gray-900 font-inter",children:r})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 text-center mb-4 font-light font-inter",children:[(0,t.jsx)(P.default,{href:"/shipping",className:"text-gray-500 hover:text-gray-900 underline transition-colors",children:"Shipping"})," ","and taxes calculated at checkout."]}),(0,t.jsx)("button",{onClick:s,className:"w-full py-3 text-xs uppercase tracking-wider font-light font-inter bg-btn-success hover:bg-btn-success-hover text-btn-success-text border border-btn-success-border hover:border-btn-success-hover transition-all duration-200",children:"Checkout"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-4 text-center font-light font-inter",children:"Secure payment powered by Stripe"})]})})})};e.s(["default",0,()=>{let{cart:e,removeFromCart:u,getTotalPrice:f,getTotalQuantity:b,updateItemNote:v}=(0,s.useCart)(),{formatPrice:j}=(0,a.useCurrency)(),N=(0,n.useRouter)(),w=(e=>{let[t,s]=(0,r.useState)({}),a=(0,r.useRef)({});return(0,r.useEffect)(()=>{let e=a.current;return Object.keys(t).forEach(t=>{e[t]&&clearTimeout(e[t]),e[t]=setTimeout(()=>{s(e=>{let r=(0,i._)({},e);return"string"==typeof r[t]?delete r[t]:r[t]&&"object"==typeof r[t]&&delete r[t],r}),delete e[t]},3e3)}),()=>{Object.values(e).forEach(e=>{clearTimeout(e)})}},[t]),{itemErrors:t,setItemErrors:s,setErrorForAllIdenticalCharms:(t,r)=>{s(s=>{let a=(0,i._)({},s);return e.forEach(s=>{"charm"===s.type&&(0,o.areItemsIdentical)(t,s)&&(a[s.id||e.indexOf(s)]=r)}),a})},clearErrorForAllIdenticalCharms:t=>{s(r=>{let s=(0,i._)({},r);return e.forEach(r=>{if("charm"===r.type&&(0,o.areItemsIdentical)(t,r)){let t=r.id||e.indexOf(r);delete s[t]}}),s})},setItemError:(e,t)=>{s(r=>(0,l._)((0,i._)({},r),{[e]:t}))},clearItemError:e=>{s(t=>{let r=(0,i._)({},t);return delete r[e],r})},scrollToItem:e=>{setTimeout(()=>{let t=document.querySelector('[data-item-id="'.concat(e,'"]'));t&&t.scrollIntoView({behavior:"smooth",block:"center"})},100)}}})(e),C=(e=>{let[t,s]=(0,r.useState)(null),[a,n]=(0,r.useState)({});return{openNoteIndex:t,setOpenNoteIndex:s,noteTexts:a,setNoteTexts:n,handleNoteChange:(e,t)=>{n((0,l._)((0,i._)({},a),{[e]:t}))},handleSaveNote:t=>{e(t,a[t]||""),s(null)}}})(v),k=((e,t)=>{let{incrementItemQty:r,decrementItemQty:a}=(0,s.useCart)(),{setItemError:n,clearItemError:o,setErrorForAllIdenticalCharms:u,clearErrorForAllIdenticalCharms:f,scrollToItem:p,setItemErrors:y}=t;return{handleIncrementWithCheck:(s,a)=>{let y=e.find(e=>e.id===s)||e[s]||e[a];if(!y)return void console.error("Item not found for increment:",s,a);if("charm"===y.type){let t=((e,t,r,s)=>{var a,n,i,l,o;let d=(0,c.getMaxAvailableQuantity)(e,t),h=e.category||(null==(a=e.pin)?void 0:a.category)||"colorful",g=(null==(n=e.pin)?void 0:n.name)||e.name||"",u=(null==(i=e.pin)?void 0:i.src)||"";if(null!==d&&0===d)return{canIncrement:!1,errorMessage:"Oops! We don't have any more ".concat(e.name||(null==(l=e.pin)?void 0:l.name)||"Charm"," in stock right now, so you can't add more to your basket.")};if(null===d)return{canIncrement:!0};let f=m(t,g,u,h,r,s),p=x(t,g,u,h,r,s);return(e.quantity||1)+1+p>d+f?{canIncrement:!1,errorMessage:"Oops! We don't have any more ".concat(e.name||(null==(o=e.pin)?void 0:o.name)||"Charm"," in stock right now, so you can't add more to your basket.")}:{canIncrement:!0}})(y,e,s,a);if(!t.canIncrement){n(s||a,t.errorMessage),u(y,t.errorMessage),p(s||a);return}r(s),o(s||a),f(y);return}let b=(0,c.getMaxAvailableQuantity)(y,e);if(!(null===b||b>0)){let e=y.caseName||y.name||"Passport Case",t=y.color?(0,d.getColorName)(y.color,y.caseImage||y.case_image||y.image):"";n(s||a,{case:"Oops! We don't have any more ".concat(e).concat(t?" in ".concat(t):""," in stock right now, so you can't add more to your basket."),charms:{}}),p(s||a);return}if(y.customDesign||y.pins&&Array.isArray(y.pins)&&y.pins.length>0||y.pinsDetails&&Array.isArray(y.pinsDetails)&&y.pinsDetails.length>0){let r=((e,t,r,s)=>{let a=(0,c.getMaxAvailableQuantity)(e,t),n=e.pins||e.pinsDetails||[],i=e.quantity||1;if(!(null===a||a>0)){let t=e.caseName||e.name||"Passport Case",r=e.color?(0,d.getColorName)(e.color,e.caseImage||e.case_image||e.image):"";return{canIncrement:!1,errorMessage:"Oops! We don't have any more ".concat(t).concat(r?" in ".concat(r):""," in stock right now, so you can't add more to your basket."),errorType:"case"}}for(let e of n){if(!e)continue;let a=e.category&&""!==e.category.trim()?e.category:"colorful",l=e.name||e.src||"",o=e.src||"",d=g(e,a),u=(0,c.getMaxAvailableQuantity)(d,t);if(null===u)continue;let f=m(t,l,o,a,r,s),p=x(t,l,o,a,r,s),y=h(n,l,o,a),b=u+f,v=f+p+y*i+y;if(0===u||v>b)return{canIncrement:!1,errorMessage:"Oops! We don't have any more ".concat(e.name||"this charm"," in stock right now, so you can't add more to your basket."),errorType:"charm",errorKey:"".concat(l,"-").concat(a),charmProduct:d}}return{canIncrement:!0}})(y,e,s,a);if(!r.canIncrement){"case"===r.errorType?n(s||a,{case:r.errorMessage,charms:{}}):"charm"===r.errorType&&(t.setItemErrors(e=>{var t,n;return(0,l._)((0,i._)({},e),{[s||a]:{case:(null==(t=e[s||a])?void 0:t.case)||null,charms:(0,l._)((0,i._)({},(null==(n=e[s||a])?void 0:n.charms)||{}),{[r.errorKey]:r.errorMessage})}})}),u(r.charmProduct,r.errorMessage)),p(s||a);return}}r(s),o(s||a),(y.customDesign||y.pins&&Array.isArray(y.pins)&&y.pins.length>0||y.pinsDetails&&Array.isArray(y.pinsDetails)&&y.pinsDetails.length>0)&&(y.pins||y.pinsDetails||[]).forEach(e=>{e&&f(g(e,e.category||"colorful"))})},handleDecrementWithCheck:(t,r)=>{let s=e.find(e=>e.id===t)||e[t]||e[r];a(t),s&&"charm"===s.type?f(s):o(t||r)}}})(e,w),I=j(f());return(0,t.jsx)("div",{className:"min-h-screen bg-white py-8 md:py-12",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)(p,{totalItems:b(),onBack:()=>N.push("/")}),0===e.length?(0,t.jsx)(y,{onContinueShopping:()=>{N.push("/custom-passport-holder")}}):(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2 space-y-6",children:e.map((e,r)=>{var s,a;return(0,t.jsx)(z,{item:e,index:r,formatPrice:j,incrementItemQty:e=>k.handleIncrementWithCheck(e,r),decrementItemQty:e=>k.handleDecrementWithCheck(e,r),removeFromCart:u,openNoteIndex:C.openNoteIndex,setOpenNoteIndex:C.setOpenNoteIndex,noteTexts:C.noteTexts,setNoteTexts:C.setNoteTexts,handleNoteChange:C.handleNoteChange,handleSaveNote:C.handleSaveNote,errorMessage:"string"==typeof w.itemErrors[e.id||r]?w.itemErrors[e.id||r]:null==(s=w.itemErrors[e.id||r])?void 0:s.case,charmErrors:(null==(a=w.itemErrors[e.id||r])?void 0:a.charms)||{}},r)})}),(0,t.jsx)(A,{totalPrice:I,onCheckout:()=>{e.length>0&&N.push("/Checkout")}})]})]})})}],46372)}]);