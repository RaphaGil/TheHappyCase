(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_to_array.js [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "_",
    ()=>_to_array
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_array_with_holes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_array_with_holes.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_iterable_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_iterable_to_array.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_non_iterable_rest$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_non_iterable_rest.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_unsupported_iterable_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js [app-client] (ecmascript)");
;
;
;
;
function _to_array(arr) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_array_with_holes$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(arr) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_iterable_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(arr) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_unsupported_iterable_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(arr) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_non_iterable_rest$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])();
}
;
}),
"[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/fabric/dist/index.min.mjs [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ActiveSelection",
    ()=>Qo,
    "BaseBrush",
    ()=>so,
    "BaseFabricObject",
    ()=>ei,
    "Canvas",
    ()=>Xn,
    "Canvas2dFilterBackend",
    ()=>Zo,
    "CanvasDOMManager",
    ()=>Pn,
    "Circle",
    ()=>co,
    "CircleBrush",
    ()=>lo,
    "ClipPathLayout",
    ()=>qo,
    "Color",
    ()=>Ie,
    "Control",
    ()=>ai,
    "Ellipse",
    ()=>xo,
    "FabricImage",
    ()=>oa,
    "FabricObject",
    ()=>Li,
    "FabricText",
    ()=>Ao,
    "FitContentLayout",
    ()=>Yr,
    "FixedLayout",
    ()=>Ko,
    "Gradient",
    ()=>$n,
    "Group",
    ()=>Ur,
    "IText",
    ()=>No,
    "Image",
    ()=>oa,
    "InteractiveFabricObject",
    ()=>ji,
    "Intersection",
    ()=>Qs,
    "LayoutManager",
    ()=>Gr,
    "LayoutStrategy",
    ()=>Xr,
    "Line",
    ()=>vo,
    "Object",
    ()=>Li,
    "Observable",
    ()=>st,
    "Path",
    ()=>no,
    "Pattern",
    ()=>eo,
    "PatternBrush",
    ()=>go,
    "PencilBrush",
    ()=>oo,
    "Point",
    ()=>ot,
    "Polygon",
    ()=>To,
    "Polyline",
    ()=>wo,
    "Rect",
    ()=>jr,
    "Shadow",
    ()=>Ds,
    "SprayBrush",
    ()=>uo,
    "StaticCanvas",
    ()=>ie,
    "StaticCanvasDOMManager",
    ()=>te,
    "Text",
    ()=>Ao,
    "Textbox",
    ()=>Uo,
    "Triangle",
    ()=>yo,
    "WebGLFilterBackend",
    ()=>$o,
    "cache",
    ()=>_,
    "classRegistry",
    ()=>tt,
    "config",
    ()=>o,
    "controlsUtils",
    ()=>Fa,
    "createCollectionMixin",
    ()=>ct,
    "filters",
    ()=>Sh,
    "getCSSRules",
    ()=>pa,
    "getEnv",
    ()=>p,
    "getFabricDocument",
    ()=>m,
    "getFabricWindow",
    ()=>v,
    "getFilterBackend",
    ()=>sa,
    "iMatrix",
    ()=>T,
    "initFilterBackend",
    ()=>ea,
    "isPutImageFaster",
    ()=>Ra,
    "isWebGLPipelineState",
    ()=>La,
    "loadSVGFromString",
    ()=>Ca,
    "loadSVGFromURL",
    ()=>ba,
    "parseAttributes",
    ()=>Pr,
    "parseFontDeclaration",
    ()=>Or,
    "parsePointsAttribute",
    ()=>Co,
    "parseSVGDocument",
    ()=>xa,
    "parseStyleAttribute",
    ()=>Dr,
    "parseTransformAttribute",
    ()=>wr,
    "runningAnimations",
    ()=>et,
    "setEnv",
    ()=>f,
    "setFilterBackend",
    ()=>ia,
    "util",
    ()=>Mn,
    "version",
    ()=>x
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_async_to_generator.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_call_super.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_class_call_check.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_create_class.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_define_property$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_define_property.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_get.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_get_prototype_of.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_inherits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_instanceof$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_instanceof.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_sliced_to_array.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_to_array.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_to_consumable_array.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_type_of.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_wrap_native_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/@swc/helpers/esm/_wrap_native_super.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__ = __turbopack_context__.i("[project]/Desktop/HappyCase/TheHappy/TheHappyCase/node_modules/tslib/tslib.es6.mjs [app-client] (ecmascript) <export __generator as _>");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
function t(t, e, s) {
    return (e = function(t) {
        var _$e = function(t, e) {
            if ("object" != (typeof t === "undefined" ? "undefined" : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t)) || !t) return t;
            var _$s = t[Symbol.toPrimitive];
            if (void 0 !== _$s) {
                var i = _$s.call(t, e || "default");
                if ("object" != (typeof i === "undefined" ? "undefined" : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(i))) return i;
                throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return (("TURBOPACK compile-time truthy", 1) ? String : "TURBOPACK unreachable")(t);
        }(t, "string");
        return "symbol" == (typeof _$e === "undefined" ? "undefined" : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$e)) ? _$e : _$e + "";
    }(e)) in t ? Object.defineProperty(t, e, {
        value: s,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : t[e] = s, t;
}
function e(t, e) {
    var _$s = Object.keys(t);
    if (Object.getOwnPropertySymbols) {
        var i = Object.getOwnPropertySymbols(t);
        e && (i = i.filter(function(e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
        })), _$s.push.apply(_$s, i);
    }
    return _$s;
}
function s(s) {
    for(var i = 1; i < arguments.length; i++){
        var _$r = null != arguments[i] ? arguments[i] : {};
        i % 2 ? e(Object(_$r), !0).forEach(function(e) {
            t(s, e, _$r[e]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(s, Object.getOwnPropertyDescriptors(_$r)) : e(Object(_$r)).forEach(function(t) {
            Object.defineProperty(s, t, Object.getOwnPropertyDescriptor(_$r, t));
        });
    }
    return s;
}
function i(t, e) {
    if (null == t) return {};
    var _$s, i, _$r = function(t, e) {
        if (null == t) return {};
        var _$s = {};
        for(var i in t)if (({}).hasOwnProperty.call(t, i)) {
            if (e.indexOf(i) >= 0) continue;
            _$s[i] = t[i];
        }
        return _$s;
    }(t, e);
    if (Object.getOwnPropertySymbols) {
        var n = Object.getOwnPropertySymbols(t);
        for(i = 0; i < n.length; i++)_$s = n[i], e.indexOf(_$s) >= 0 || ({}).propertyIsEnumerable.call(t, _$s) && (_$r[_$s] = t[_$s]);
    }
    return _$r;
}
function r(t, e) {
    return e || (e = t.slice(0)), Object.freeze(Object.defineProperties(t, {
        raw: {
            value: Object.freeze(e)
        }
    }));
}
var n = function n() {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, n);
    t(this, "browserShadowBlurConstant", 1), t(this, "DPI", 96), t(this, "devicePixelRatio", "undefined" != typeof window ? window.devicePixelRatio : 1), t(this, "perfLimitSizeTotal", 2097152), t(this, "maxCacheSideLimit", 4096), t(this, "minCacheSideLimit", 256), t(this, "disableStyleCopyPaste", !1), t(this, "enableGLFiltering", !0), t(this, "textureSize", 4096), t(this, "forceGLPutImageData", !1), t(this, "cachesBoundsOfCurve", !1), t(this, "fontPaths", {}), t(this, "NUM_FRACTION_DIGITS", 4);
};
var o = new (/*#__PURE__*/ function(n1) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_class, n1);
    function _class(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, _class);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, _class), _this.configure(t);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_class, [
        {
            key: "configure",
            value: function configure() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                Object.assign(this, _$t);
            }
        },
        {
            key: "addFonts",
            value: function addFonts() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                this.fontPaths = s(s({}, this.fontPaths), _$t);
            }
        },
        {
            key: "removeFonts",
            value: function removeFonts() {
                var _this = this;
                (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).forEach(function(t) {
                    delete _this.fontPaths[t];
                });
            }
        },
        {
            key: "clearFonts",
            value: function clearFonts() {
                this.fontPaths = {};
            }
        },
        {
            key: "restoreDefaults",
            value: function restoreDefaults(t) {
                var e = new n, _$s = (null == t ? void 0 : t.reduce(function(t, s) {
                    return t[s] = e[s], t;
                }, {})) || e;
                this.configure(_$s);
            }
        }
    ]);
    return _class;
}(n)), a = function a(t) {
    var _console;
    for(var e = arguments.length, _$s = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)_$s[i - 1] = arguments[i];
    return (_console = console)[t].apply(_console, [
        "fabric"
    ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s)));
};
var h = /*#__PURE__*/ function(Error1) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(h, Error1);
    function h(t, e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, h);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, h, [
            "fabric: ".concat(t),
            e
        ]);
    }
    return h;
}((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_wrap_native_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Error));
var c = /*#__PURE__*/ function(h) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(c, h);
    function c(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, c);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, c, [
            "".concat(t, " 'options.signal' is in 'aborted' state")
        ]);
    }
    return c;
}(h);
var l = function l() {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, l);
};
var u = /*#__PURE__*/ function(l) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(u, l);
    function u() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, u);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, u, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(u, [
        {
            key: "testPrecision",
            value: function testPrecision(t, e) {
                var _$s = "precision ".concat(e, " float;\nvoid main(){}"), i = t.createShader(t.FRAGMENT_SHADER);
                return !!i && (t.shaderSource(i, _$s), t.compileShader(i), !!t.getShaderParameter(i, t.COMPILE_STATUS));
            }
        },
        {
            key: "queryWebGL",
            value: function queryWebGL(t) {
                var _this = this;
                var e = t.getContext("webgl");
                e && (this.maxTextureSize = e.getParameter(e.MAX_TEXTURE_SIZE), this.GLPrecision = [
                    "highp",
                    "mediump",
                    "lowp"
                ].find(function(t) {
                    return _this.testPrecision(e, t);
                }), e.getExtension("WEBGL_lose_context").loseContext(), a("log", "WebGL: max texture size ".concat(this.maxTextureSize)));
            }
        },
        {
            key: "isSupported",
            value: function isSupported(t) {
                return !!this.maxTextureSize && this.maxTextureSize >= t;
            }
        }
    ]);
    return u;
}(l);
var d = {};
var g;
var f = function(t) {
    g = t;
}, p = function() {
    return g || (g = {
        document: document,
        window: window,
        isTouchSupported: "ontouchstart" in window || "ontouchstart" in document || window && window.navigator && window.navigator.maxTouchPoints > 0,
        WebGLProbe: new u,
        dispose: function dispose() {},
        copyPasteData: d
    });
}, m = function() {
    return p().document;
}, v = function() {
    return p().window;
}, y = function() {
    var _$t;
    return Math.max(null !== (_$t = o.devicePixelRatio) && void 0 !== _$t ? _$t : v().devicePixelRatio, 1);
};
var _ = new (/*#__PURE__*/ function() {
    "use strict";
    function _class() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, _class);
        t(this, "boundsOfCurveCache", {}), this.charWidthsCache = new Map;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_class, [
        {
            key: "getFontCache",
            value: function getFontCache(t) {
                var e = t.fontFamily, _$s = t.fontStyle, i = t.fontWeight;
                e = e.toLowerCase();
                var _$r = this.charWidthsCache;
                _$r.has(e) || _$r.set(e, new Map);
                var n = _$r.get(e), o = "".concat(_$s.toLowerCase(), "_").concat((i + "").toLowerCase());
                return n.has(o) || n.set(o, new Map), n.get(o);
            }
        },
        {
            key: "clearFontCache",
            value: function clearFontCache(t) {
                t ? this.charWidthsCache.delete((t || "").toLowerCase()) : this.charWidthsCache = new Map;
            }
        },
        {
            key: "limitDimsByArea",
            value: function limitDimsByArea(t) {
                var e = o.perfLimitSizeTotal, _$s = Math.sqrt(e * t);
                return [
                    Math.floor(_$s),
                    Math.floor(e / _$s)
                ];
            }
        }
    ]);
    return _class;
}());
var x = "6.9.1";
function C() {}
var b = Math.PI / 2, S = 2 * Math.PI, w = Math.PI / 180, T = Object.freeze([
    1,
    0,
    0,
    1,
    0,
    0
]), O = 16, k = .4477152502, D = "center", M = "left", P = "top", E = "bottom", A = "right", j = "none", F = /\r?\n/, L = "moving", R = "scaling", I = "rotating", B = "rotate", X = "skewing", Y = "resizing", W = "modifyPoly", V = "modifyPath", z = "changed", G = "scale", H = "scaleX", N = "scaleY", U = "skewX", q = "skewY", K = "fill", J = "stroke", Q = "modified", Z = "json", $ = "svg";
var tt = new (/*#__PURE__*/ function() {
    "use strict";
    function _class() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, _class);
        this[Z] = new Map, this[$] = new Map;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_class, [
        {
            key: "has",
            value: function has(t) {
                return this[Z].has(t);
            }
        },
        {
            key: "getClass",
            value: function getClass(t) {
                var e = this[Z].get(t);
                if (!e) throw new h("No class registered for ".concat(t));
                return e;
            }
        },
        {
            key: "setClass",
            value: function setClass(t, e) {
                e ? this[Z].set(e, t) : (this[Z].set(t.type, t), this[Z].set(t.type.toLowerCase(), t));
            }
        },
        {
            key: "getSVGClass",
            value: function getSVGClass(t) {
                return this[$].get(t);
            }
        },
        {
            key: "setSVGClass",
            value: function setSVGClass(t, e) {
                this[$].set(null != e ? e : t.type.toLowerCase(), t);
            }
        }
    ]);
    return _class;
}());
var et = new (/*#__PURE__*/ function(Array1) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_class, Array1);
    function _class() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, _class);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, _class, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_class, [
        {
            key: "remove",
            value: function remove(t) {
                var e = this.indexOf(t);
                e > -1 && this.splice(e, 1);
            }
        },
        {
            key: "cancelAll",
            value: function cancelAll() {
                var _$t = this.splice(0);
                return _$t.forEach(function(t) {
                    return t.abort();
                }), _$t;
            }
        },
        {
            key: "cancelByCanvas",
            value: function cancelByCanvas(t) {
                if (!t) return [];
                var e = this.filter(function(e) {
                    var _$s;
                    return e.target === t || "object" == (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e.target) && (null === (_$s = e.target) || void 0 === _$s ? void 0 : _$s.canvas) === t;
                });
                return e.forEach(function(t) {
                    return t.abort();
                }), e;
            }
        },
        {
            key: "cancelByTarget",
            value: function cancelByTarget(t) {
                if (!t) return [];
                var e = this.filter(function(e) {
                    return e.target === t;
                });
                return e.forEach(function(t) {
                    return t.abort();
                }), e;
            }
        }
    ]);
    return _class;
}((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_wrap_native_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Array)));
var st = /*#__PURE__*/ function() {
    "use strict";
    function st() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, st);
        t(this, "__eventListeners", {});
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(st, [
        {
            key: "on",
            value: function on(t, e) {
                var _this = this;
                if (this.__eventListeners || (this.__eventListeners = {}), "object" == (typeof t === "undefined" ? "undefined" : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t))) return Object.entries(t).forEach(function(t) {
                    var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), _$e = _t[0], _$s = _t[1];
                    _this.on(_$e, _$s);
                }), function() {
                    return _this.off(t);
                };
                if (e) {
                    var _$s = t;
                    return this.__eventListeners[_$s] || (this.__eventListeners[_$s] = []), this.__eventListeners[_$s].push(e), function() {
                        return _this.off(_$s, e);
                    };
                }
                return function() {
                    return !1;
                };
            }
        },
        {
            key: "once",
            value: function once(t, e) {
                var _this = this;
                if ("object" == (typeof t === "undefined" ? "undefined" : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t))) {
                    var _$e = [];
                    return Object.entries(t).forEach(function(t) {
                        var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), _$s = _t[0], i = _t[1];
                        _$e.push(_this.once(_$s, i));
                    }), function() {
                        return _$e.forEach(function(t) {
                            return t();
                        });
                    };
                }
                if (e) {
                    var _$s = this.on(t, function() {
                        var _e;
                        for(var _$t = arguments.length, i = new Array(_$t), _$r = 0; _$r < _$t; _$r++)i[_$r] = arguments[_$r];
                        (_e = e).call.apply(_e, [
                            this
                        ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(i))), _$s();
                    });
                    return _$s;
                }
                return function() {
                    return !1;
                };
            }
        },
        {
            key: "_removeEventListener",
            value: function _removeEventListener(t, e) {
                if (this.__eventListeners[t]) if (e) {
                    var _$s = this.__eventListeners[t], i = _$s.indexOf(e);
                    i > -1 && _$s.splice(i, 1);
                } else this.__eventListeners[t] = [];
            }
        },
        {
            key: "off",
            value: function off(t, e) {
                var _this = this;
                if (this.__eventListeners) if (void 0 === t) for(var _$t in this.__eventListeners)this._removeEventListener(_$t);
                else "object" == (typeof t === "undefined" ? "undefined" : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t)) ? Object.entries(t).forEach(function(t) {
                    var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), _$e = _t[0], _$s = _t[1];
                    _this._removeEventListener(_$e, _$s);
                }) : this._removeEventListener(t, e);
            }
        },
        {
            key: "fire",
            value: function fire(t, e) {
                var _$s;
                if (!this.__eventListeners) return;
                var i = null === (_$s = this.__eventListeners[t]) || void 0 === _$s ? void 0 : _$s.concat();
                if (i) for(var _$t = 0; _$t < i.length; _$t++)i[_$t].call(this, e || {});
            }
        }
    ]);
    return st;
}();
var it = function(t, e) {
    var _$s = t.indexOf(e);
    return -1 !== _$s && t.splice(_$s, 1), t;
}, rt = function(t) {
    if (0 === t) return 1;
    switch(Math.abs(t) / b){
        case 1:
        case 3:
            return 0;
        case 2:
            return -1;
    }
    return Math.cos(t);
}, nt = function(t) {
    if (0 === t) return 0;
    var e = t / b, _$s = Math.sign(t);
    switch(e){
        case 1:
            return _$s;
        case 2:
            return 0;
        case 3:
            return -_$s;
    }
    return Math.sin(t);
};
var ot = /*#__PURE__*/ function() {
    "use strict";
    function ot() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ot);
        var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        "object" == (typeof _$t === "undefined" ? "undefined" : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$t)) ? (this.x = _$t.x, this.y = _$t.y) : (this.x = _$t, this.y = e);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ot, [
        {
            key: "add",
            value: function add(t) {
                return new ot(this.x + t.x, this.y + t.y);
            }
        },
        {
            key: "addEquals",
            value: function addEquals(t) {
                return this.x += t.x, this.y += t.y, this;
            }
        },
        {
            key: "scalarAdd",
            value: function scalarAdd(t) {
                return new ot(this.x + t, this.y + t);
            }
        },
        {
            key: "scalarAddEquals",
            value: function scalarAddEquals(t) {
                return this.x += t, this.y += t, this;
            }
        },
        {
            key: "subtract",
            value: function subtract(t) {
                return new ot(this.x - t.x, this.y - t.y);
            }
        },
        {
            key: "subtractEquals",
            value: function subtractEquals(t) {
                return this.x -= t.x, this.y -= t.y, this;
            }
        },
        {
            key: "scalarSubtract",
            value: function scalarSubtract(t) {
                return new ot(this.x - t, this.y - t);
            }
        },
        {
            key: "scalarSubtractEquals",
            value: function scalarSubtractEquals(t) {
                return this.x -= t, this.y -= t, this;
            }
        },
        {
            key: "multiply",
            value: function multiply(t) {
                return new ot(this.x * t.x, this.y * t.y);
            }
        },
        {
            key: "scalarMultiply",
            value: function scalarMultiply(t) {
                return new ot(this.x * t, this.y * t);
            }
        },
        {
            key: "scalarMultiplyEquals",
            value: function scalarMultiplyEquals(t) {
                return this.x *= t, this.y *= t, this;
            }
        },
        {
            key: "divide",
            value: function divide(t) {
                return new ot(this.x / t.x, this.y / t.y);
            }
        },
        {
            key: "scalarDivide",
            value: function scalarDivide(t) {
                return new ot(this.x / t, this.y / t);
            }
        },
        {
            key: "scalarDivideEquals",
            value: function scalarDivideEquals(t) {
                return this.x /= t, this.y /= t, this;
            }
        },
        {
            key: "eq",
            value: function eq(t) {
                return this.x === t.x && this.y === t.y;
            }
        },
        {
            key: "lt",
            value: function lt(t) {
                return this.x < t.x && this.y < t.y;
            }
        },
        {
            key: "lte",
            value: function lte(t) {
                return this.x <= t.x && this.y <= t.y;
            }
        },
        {
            key: "gt",
            value: function gt(t) {
                return this.x > t.x && this.y > t.y;
            }
        },
        {
            key: "gte",
            value: function gte(t) {
                return this.x >= t.x && this.y >= t.y;
            }
        },
        {
            key: "lerp",
            value: function lerp(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : .5;
                return e = Math.max(Math.min(1, e), 0), new ot(this.x + (t.x - this.x) * e, this.y + (t.y - this.y) * e);
            }
        },
        {
            key: "distanceFrom",
            value: function distanceFrom(t) {
                var e = this.x - t.x, _$s = this.y - t.y;
                return Math.sqrt(e * e + _$s * _$s);
            }
        },
        {
            key: "midPointFrom",
            value: function midPointFrom(t) {
                return this.lerp(t);
            }
        },
        {
            key: "min",
            value: function min(t) {
                return new ot(Math.min(this.x, t.x), Math.min(this.y, t.y));
            }
        },
        {
            key: "max",
            value: function max(t) {
                return new ot(Math.max(this.x, t.x), Math.max(this.y, t.y));
            }
        },
        {
            key: "toString",
            value: function toString() {
                return "".concat(this.x, ",").concat(this.y);
            }
        },
        {
            key: "setXY",
            value: function setXY(t, e) {
                return this.x = t, this.y = e, this;
            }
        },
        {
            key: "setX",
            value: function setX(t) {
                return this.x = t, this;
            }
        },
        {
            key: "setY",
            value: function setY(t) {
                return this.y = t, this;
            }
        },
        {
            key: "setFromPoint",
            value: function setFromPoint(t) {
                return this.x = t.x, this.y = t.y, this;
            }
        },
        {
            key: "swap",
            value: function swap(t) {
                var e = this.x, _$s = this.y;
                this.x = t.x, this.y = t.y, t.x = e, t.y = _$s;
            }
        },
        {
            key: "clone",
            value: function clone() {
                return new ot(this.x, this.y);
            }
        },
        {
            key: "rotate",
            value: function rotate(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : at;
                var _$s = nt(t), i = rt(t), _$r = this.subtract(e);
                return new ot(_$r.x * i - _$r.y * _$s, _$r.x * _$s + _$r.y * i).add(e);
            }
        },
        {
            key: "transform",
            value: function transform(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                return new ot(t[0] * this.x + t[2] * this.y + (e ? 0 : t[4]), t[1] * this.x + t[3] * this.y + (e ? 0 : t[5]));
            }
        }
    ]);
    return ot;
}();
var at = new ot(0, 0), ht = function(t) {
    return !!t && Array.isArray(t._objects);
};
function ct(e) {
    var _$s = /*#__PURE__*/ function(e) {
        "use strict";
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(s, e);
        function s() {
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, s);
            var _this;
            _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, s, arguments), t(_this, "_objects", []);
            return _this;
        }
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(s, [
            {
                key: "_onObjectAdded",
                value: function _onObjectAdded(t) {}
            },
            {
                key: "_onObjectRemoved",
                value: function _onObjectRemoved(t) {}
            },
            {
                key: "_onStackOrderChanged",
                value: function _onStackOrderChanged(t) {}
            },
            {
                key: "add",
                value: function add() {
                    var _this = this;
                    var _this__objects;
                    for(var _$t = arguments.length, _$e = new Array(_$t), _$s = 0; _$s < _$t; _$s++)_$e[_$s] = arguments[_$s];
                    var i = (_this__objects = this._objects).push.apply(_this__objects, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$e));
                    return _$e.forEach(function(t) {
                        return _this._onObjectAdded(t);
                    }), i;
                }
            },
            {
                key: "insertAt",
                value: function insertAt(t) {
                    var _this = this;
                    var _this__objects;
                    for(var _$e = arguments.length, _$s = new Array(_$e > 1 ? _$e - 1 : 0), i = 1; i < _$e; i++)_$s[i - 1] = arguments[i];
                    return (_this__objects = this._objects).splice.apply(_this__objects, [
                        t,
                        0
                    ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s))), _$s.forEach(function(t) {
                        return _this._onObjectAdded(t);
                    }), this._objects.length;
                }
            },
            {
                key: "remove",
                value: function remove() {
                    var _this = this;
                    var _$t = this._objects, _$e = [];
                    for(var _$s = arguments.length, i = new Array(_$s), _$r = 0; _$r < _$s; _$r++)i[_$r] = arguments[_$r];
                    return i.forEach(function(s) {
                        var i = _$t.indexOf(s);
                        -1 !== i && (_$t.splice(i, 1), _$e.push(s), _this._onObjectRemoved(s));
                    }), _$e;
                }
            },
            {
                key: "forEachObject",
                value: function forEachObject(t) {
                    this.getObjects().forEach(function(e, s, i) {
                        return t(e, s, i);
                    });
                }
            },
            {
                key: "getObjects",
                value: function getObjects() {
                    var _t;
                    for(var _$t = arguments.length, _$e = new Array(_$t), _$s = 0; _$s < _$t; _$s++)_$e[_$s] = arguments[_$s];
                    return 0 === _$e.length ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this._objects) : this._objects.filter(function(t) {
                        return (_t = t).isType.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$e));
                    });
                }
            },
            {
                key: "item",
                value: function item(t) {
                    return this._objects[t];
                }
            },
            {
                key: "isEmpty",
                value: function isEmpty() {
                    return 0 === this._objects.length;
                }
            },
            {
                key: "size",
                value: function size() {
                    return this._objects.length;
                }
            },
            {
                key: "contains",
                value: function contains(t, e) {
                    return !!this._objects.includes(t) || !!e && this._objects.some(function(e) {
                        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_instanceof$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, s) && e.contains(t, !0);
                    });
                }
            },
            {
                key: "complexity",
                value: function complexity() {
                    return this._objects.reduce(function(t, e) {
                        return t += e.complexity ? e.complexity() : 0;
                    }, 0);
                }
            },
            {
                key: "sendObjectToBack",
                value: function sendObjectToBack(t) {
                    return !(!t || t === this._objects[0]) && (it(this._objects, t), this._objects.unshift(t), this._onStackOrderChanged(t), !0);
                }
            },
            {
                key: "bringObjectToFront",
                value: function bringObjectToFront(t) {
                    return !(!t || t === this._objects[this._objects.length - 1]) && (it(this._objects, t), this._objects.push(t), this._onStackOrderChanged(t), !0);
                }
            },
            {
                key: "sendObjectBackwards",
                value: function sendObjectBackwards(t, e) {
                    if (!t) return !1;
                    var _$s = this._objects.indexOf(t);
                    if (0 !== _$s) {
                        var i = this.findNewLowerIndex(t, _$s, e);
                        return it(this._objects, t), this._objects.splice(i, 0, t), this._onStackOrderChanged(t), !0;
                    }
                    return !1;
                }
            },
            {
                key: "bringObjectForward",
                value: function bringObjectForward(t, e) {
                    if (!t) return !1;
                    var _$s = this._objects.indexOf(t);
                    if (_$s !== this._objects.length - 1) {
                        var i = this.findNewUpperIndex(t, _$s, e);
                        return it(this._objects, t), this._objects.splice(i, 0, t), this._onStackOrderChanged(t), !0;
                    }
                    return !1;
                }
            },
            {
                key: "moveObjectTo",
                value: function moveObjectTo(t, e) {
                    return t !== this._objects[e] && (it(this._objects, t), this._objects.splice(e, 0, t), this._onStackOrderChanged(t), !0);
                }
            },
            {
                key: "findNewLowerIndex",
                value: function findNewLowerIndex(t, e, s) {
                    var i;
                    if (s) {
                        i = e;
                        for(var _$s = e - 1; _$s >= 0; --_$s)if (t.isOverlapping(this._objects[_$s])) {
                            i = _$s;
                            break;
                        }
                    } else i = e - 1;
                    return i;
                }
            },
            {
                key: "findNewUpperIndex",
                value: function findNewUpperIndex(t, e, s) {
                    var i;
                    if (s) {
                        i = e;
                        for(var _$s = e + 1; _$s < this._objects.length; ++_$s)if (t.isOverlapping(this._objects[_$s])) {
                            i = _$s;
                            break;
                        }
                    } else i = e + 1;
                    return i;
                }
            },
            {
                key: "collectObjects",
                value: function collectObjects(t) {
                    var _$e = t.left, _$s = t.top, i = t.width, _$r = t.height, _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, tmp = _ref.includeIntersecting, n = tmp === void 0 ? !0 : tmp;
                    var o = [], a = new ot(_$e, _$s), h = a.add(new ot(i, _$r));
                    for(var _$t = this._objects.length - 1; _$t >= 0; _$t--){
                        var _$e1 = this._objects[_$t];
                        _$e1.selectable && _$e1.visible && (n && _$e1.intersectsWithRect(a, h) || _$e1.isContainedWithinRect(a, h) || n && _$e1.containsPoint(a) || n && _$e1.containsPoint(h)) && o.push(_$e1);
                    }
                    return o;
                }
            }
        ]);
        return s;
    }(e);
    return _$s;
}
var lt = /*#__PURE__*/ function(st) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(lt, st);
    function lt() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, lt);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, lt, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(lt, [
        {
            key: "_setOptions",
            value: function _setOptions() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                for(var e in _$t)this.set(e, _$t[e]);
            }
        },
        {
            key: "_setObject",
            value: function _setObject(t) {
                for(var e in t)this._set(e, t[e]);
            }
        },
        {
            key: "set",
            value: function set(t, e) {
                return "object" == (typeof t === "undefined" ? "undefined" : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t)) ? this._setObject(t) : this._set(t, e), this;
            }
        },
        {
            key: "_set",
            value: function _set(t, e) {
                this[t] = e;
            }
        },
        {
            key: "toggle",
            value: function toggle(t) {
                var e = this.get(t);
                return "boolean" == typeof e && this.set(t, !e), this;
            }
        },
        {
            key: "get",
            value: function get(t) {
                return this[t];
            }
        }
    ]);
    return lt;
}(st);
function ut(t) {
    return v().requestAnimationFrame(t);
}
function dt(t) {
    return v().cancelAnimationFrame(t);
}
var gt = 0;
var ft = function() {
    return gt++;
}, pt = function() {
    var _$t = m().createElement("canvas");
    if (!_$t || void 0 === _$t.getContext) throw new h("Failed to create `canvas` element");
    return _$t;
}, mt = function() {
    return m().createElement("img");
}, vt = function(t) {
    var e = pt();
    return e.width = t.width, e.height = t.height, e;
}, yt = function(t, e, s) {
    return t.toDataURL("image/".concat(e), s);
}, _t = function(t, e, s) {
    return new Promise(function(i, r) {
        t.toBlob(i, "image/".concat(e), s);
    });
}, xt = function(t) {
    return t * w;
}, Ct = function(t) {
    return t / w;
}, bt = function(t) {
    return t.every(function(t, e) {
        return t === T[e];
    });
}, St = function(t, e, s) {
    return new ot(t).transform(e, s);
}, wt = function(t) {
    var e = 1 / (t[0] * t[3] - t[1] * t[2]), _$s = [
        e * t[3],
        -e * t[1],
        -e * t[2],
        e * t[0],
        0,
        0
    ], _transform = new ot(t[4], t[5]).transform(_$s, !0), i = _transform.x, _$r = _transform.y;
    return _$s[4] = -i, _$s[5] = -_$r, _$s;
}, Tt = function(t, e, s) {
    return [
        t[0] * e[0] + t[2] * e[1],
        t[1] * e[0] + t[3] * e[1],
        t[0] * e[2] + t[2] * e[3],
        t[1] * e[2] + t[3] * e[3],
        s ? 0 : t[0] * e[4] + t[2] * e[5] + t[4],
        s ? 0 : t[1] * e[4] + t[3] * e[5] + t[5]
    ];
}, Ot = function(t, e) {
    return t.reduceRight(function(t, s) {
        return s && t ? Tt(s, t, e) : s || t;
    }, void 0) || T.concat();
}, kt = function(t) {
    var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), e = _t[0], _$s = _t[1];
    return Math.atan2(_$s, e);
}, Dt = function(t) {
    var e = kt(t), _$s = Math.pow(t[0], 2) + Math.pow(t[1], 2), i = Math.sqrt(_$s), _$r = (t[0] * t[3] - t[2] * t[1]) / i, n = Math.atan2(t[0] * t[2] + t[1] * t[3], _$s);
    return {
        angle: Ct(e),
        scaleX: i,
        scaleY: _$r,
        skewX: Ct(n),
        skewY: 0,
        translateX: t[4] || 0,
        translateY: t[5] || 0
    };
}, Mt = function Mt(t) {
    return [
        1,
        0,
        0,
        1,
        t,
        arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
    ];
};
function Pt() {
    var _ref = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, tmp = _ref.angle, _$t = tmp === void 0 ? 0 : tmp, _ref1 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, tmp1 = _ref1.x, e = tmp1 === void 0 ? 0 : tmp1, tmp2 = _ref1.y, _$s = tmp2 === void 0 ? 0 : tmp2;
    var i = xt(_$t), _$r = rt(i), n = nt(i);
    return [
        _$r,
        n,
        -n,
        _$r,
        e ? e - (_$r * e - n * _$s) : 0,
        _$s ? _$s - (n * e + _$r * _$s) : 0
    ];
}
var Et = function Et(t) {
    return [
        t,
        0,
        0,
        arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t,
        0,
        0
    ];
}, At = function(t) {
    return Math.tan(xt(t));
}, jt = function(t) {
    return [
        1,
        0,
        At(t),
        1,
        0,
        0
    ];
}, Ft = function(t) {
    return [
        1,
        At(t),
        0,
        1,
        0,
        0
    ];
}, Lt = function(t) {
    var tmp = t.scaleX, e = tmp === void 0 ? 1 : tmp, tmp1 = t.scaleY, _$s = tmp1 === void 0 ? 1 : tmp1, tmp2 = t.flipX, i = tmp2 === void 0 ? !1 : tmp2, tmp3 = t.flipY, _$r = tmp3 === void 0 ? !1 : tmp3, tmp4 = t.skewX, n = tmp4 === void 0 ? 0 : tmp4, tmp5 = t.skewY, o = tmp5 === void 0 ? 0 : tmp5, a = Et(i ? -e : e, _$r ? -_$s : _$s);
    return n && (a = Tt(a, jt(n), !0)), o && (a = Tt(a, Ft(o), !0)), a;
}, Rt = function(t) {
    var tmp = t.translateX, e = tmp === void 0 ? 0 : tmp, tmp1 = t.translateY, _$s = tmp1 === void 0 ? 0 : tmp1, tmp2 = t.angle, i = tmp2 === void 0 ? 0 : tmp2;
    var _$r = Mt(e, _$s);
    i && (_$r = Tt(_$r, Pt({
        angle: i
    })));
    var n = Lt(t);
    return bt(n) || (_$r = Tt(_$r, n)), _$r;
}, It = function It(t) {
    var _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = _ref.signal, tmp = _ref.crossOrigin, _$s = tmp === void 0 ? null : tmp;
    return new Promise(function(i, r) {
        if (e && e.aborted) return r(new c("loadImage"));
        var n = mt();
        var o;
        e && (o = function o(t) {
            n.src = "", r(t);
        }, e.addEventListener("abort", o, {
            once: !0
        }));
        var a = function a() {
            n.onload = n.onerror = null, o && (null == e || e.removeEventListener("abort", o)), i(n);
        };
        t ? (n.onload = a, n.onerror = function() {
            o && (null == e || e.removeEventListener("abort", o)), r(new h("Error loading ".concat(n.src)));
        }, _$s && (n.crossOrigin = _$s), n.src = t) : a();
    });
}, Bt = function Bt(t) {
    var _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = _ref.signal, tmp = _ref.reviver, _$s = tmp === void 0 ? C : tmp;
    return new Promise(function(i, r) {
        var n = [];
        e && e.addEventListener("abort", r, {
            once: !0
        }), Promise.all(t.map(function(t) {
            return tt.getClass(t.type).fromObject(t, {
                signal: e
            }).then(function(e) {
                return _$s(t, e), n.push(e), e;
            });
        })).then(i).catch(function(t) {
            n.forEach(function(t) {
                t.dispose && t.dispose();
            }), r(t);
        }).finally(function() {
            e && e.removeEventListener("abort", r);
        });
    });
}, Xt = function Xt(t) {
    var _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = _ref.signal;
    return new Promise(function(s, i) {
        var _$r = [];
        e && e.addEventListener("abort", i, {
            once: !0
        });
        var n = Object.values(t).map(function(t) {
            return t && t.type && tt.has(t.type) ? Bt([
                t
            ], {
                signal: e
            }).then(function(t) {
                var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 1), e = _t[0];
                return _$r.push(e), e;
            }) : t;
        }), o = Object.keys(t);
        Promise.all(n).then(function(t) {
            return t.reduce(function(t, e, s) {
                return t[o[s]] = e, t;
            }, {});
        }).then(s).catch(function(t) {
            _$r.forEach(function(t) {
                t.dispose && t.dispose();
            }), i(t);
        }).finally(function() {
            e && e.removeEventListener("abort", i);
        });
    });
}, Yt = function Yt(t) {
    return (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []).reduce(function(e, s) {
        return s in t && (e[s] = t[s]), e;
    }, {});
}, Wt = function(t, e) {
    return Object.keys(t).reduce(function(s, i) {
        return e(t[i], i, t) && (s[i] = t[i]), s;
    }, {});
}, Vt = function(t, e) {
    return parseFloat(Number(t).toFixed(e));
}, zt = function(t) {
    return "matrix(" + t.map(function(t) {
        return Vt(t, o.NUM_FRACTION_DIGITS);
    }).join(" ") + ")";
}, Gt = function(t) {
    return !!t && void 0 !== t.toLive;
}, Ht = function(t) {
    return !!t && "function" == typeof t.toObject;
}, Nt = function(t) {
    return !!t && void 0 !== t.offsetX && "source" in t;
}, Ut = function(t) {
    return !!t && "multiSelectionStacking" in t;
};
function qt(t) {
    var e = t && Kt(t);
    var _$s = 0, i = 0;
    if (!t || !e) return {
        left: _$s,
        top: i
    };
    var _$r = t;
    var n = e.documentElement, o = e.body || {
        scrollLeft: 0,
        scrollTop: 0
    };
    for(; _$r && (_$r.parentNode || _$r.host) && (_$r = _$r.parentNode || _$r.host, _$r === e ? (_$s = o.scrollLeft || n.scrollLeft || 0, i = o.scrollTop || n.scrollTop || 0) : (_$s += _$r.scrollLeft || 0, i += _$r.scrollTop || 0), 1 !== _$r.nodeType || "fixed" !== _$r.style.position););
    return {
        left: _$s,
        top: i
    };
}
var Kt = function(t) {
    return t.ownerDocument || null;
}, Jt = function(t) {
    var e;
    return (null === (e = t.ownerDocument) || void 0 === e ? void 0 : e.defaultView) || null;
}, Qt = function Qt(t, e, s) {
    var i = s.width, _$r = s.height, n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
    t.width = i, t.height = _$r, n > 1 && (t.setAttribute("width", (i * n).toString()), t.setAttribute("height", (_$r * n).toString()), e.scale(n, n));
}, Zt = function(t, e) {
    var _$s = e.width, i = e.height;
    _$s && (t.style.width = "number" == typeof _$s ? "".concat(_$s, "px") : _$s), i && (t.style.height = "number" == typeof i ? "".concat(i, "px") : i);
};
function $t(t) {
    return void 0 !== t.onselectstart && (t.onselectstart = function() {
        return !1;
    }), t.style.userSelect = j, t;
}
var te = /*#__PURE__*/ function() {
    "use strict";
    function te(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, te);
        t(this, "_originalCanvasStyle", void 0), t(this, "lower", void 0);
        var _$s = this.createLowerCanvas(e);
        this.lower = {
            el: _$s,
            ctx: _$s.getContext("2d")
        };
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(te, [
        {
            key: "createLowerCanvas",
            value: function createLowerCanvas(t) {
                var e = (_$s = t) && void 0 !== _$s.getContext ? t : t && m().getElementById(t) || pt();
                var _$s;
                if (e.hasAttribute("data-fabric")) throw new h("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");
                return this._originalCanvasStyle = e.style.cssText, e.setAttribute("data-fabric", "main"), e.classList.add("lower-canvas"), e;
            }
        },
        {
            key: "cleanupDOM",
            value: function cleanupDOM(t) {
                var e = t.width, _$s = t.height;
                var _this_lower = this.lower, i = _this_lower.el;
                i.classList.remove("lower-canvas"), i.removeAttribute("data-fabric"), i.setAttribute("width", "".concat(e)), i.setAttribute("height", "".concat(_$s)), i.style.cssText = this._originalCanvasStyle || "", this._originalCanvasStyle = void 0;
            }
        },
        {
            key: "setDimensions",
            value: function setDimensions(t, e) {
                var _this_lower = this.lower, _$s = _this_lower.el, i = _this_lower.ctx;
                Qt(_$s, i, t, e);
            }
        },
        {
            key: "setCSSDimensions",
            value: function setCSSDimensions(t) {
                Zt(this.lower.el, t);
            }
        },
        {
            key: "calcOffset",
            value: function calcOffset() {
                return function(t) {
                    var e;
                    var _$s = t && Kt(t), i = {
                        left: 0,
                        top: 0
                    };
                    if (!_$s) return i;
                    var _$r = (null === (e = Jt(t)) || void 0 === e ? void 0 : e.getComputedStyle(t, null)) || {};
                    i.left += parseInt(_$r.borderLeftWidth, 10) || 0, i.top += parseInt(_$r.borderTopWidth, 10) || 0, i.left += parseInt(_$r.paddingLeft, 10) || 0, i.top += parseInt(_$r.paddingTop, 10) || 0;
                    var n = {
                        left: 0,
                        top: 0
                    };
                    var o = _$s.documentElement;
                    void 0 !== t.getBoundingClientRect && (n = t.getBoundingClientRect());
                    var a = qt(t);
                    return {
                        left: n.left + a.left - (o.clientLeft || 0) + i.left,
                        top: n.top + a.top - (o.clientTop || 0) + i.top
                    };
                }(this.lower.el);
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                p().dispose(this.lower.el), delete this.lower;
            }
        }
    ]);
    return te;
}();
var ee = {
    backgroundVpt: !0,
    backgroundColor: "",
    overlayVpt: !0,
    overlayColor: "",
    includeDefaultValues: !0,
    svgViewportTransformation: !0,
    renderOnAddRemove: !0,
    skipOffscreen: !0,
    enableRetinaScaling: !0,
    imageSmoothingEnabled: !0,
    controlsAboveOverlay: !1,
    allowTouchScrolling: !1,
    viewportTransform: (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(T)
}, se = [
    "objects"
];
var ie = /*#__PURE__*/ function(_superClass) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ie, _superClass);
    function ie(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ie);
        var _this;
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ie), Object.assign(_this, _this.constructor.getDefaults()), _this.set(e), _this.initElements(t), _this._setDimensionsImpl({
            width: _this.width || _this.elements.lower.el.width || 0,
            height: _this.height || _this.elements.lower.el.height || 0
        }), _this.skipControlsDrawing = !1, _this.viewportTransform = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_this.viewportTransform), _this.calcViewportBoundaries();
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ie, [
        {
            key: "lowerCanvasEl",
            get: function get() {
                var _$t;
                return null === (_$t = this.elements.lower) || void 0 === _$t ? void 0 : _$t.el;
            }
        },
        {
            key: "contextContainer",
            get: function get() {
                var _$t;
                return null === (_$t = this.elements.lower) || void 0 === _$t ? void 0 : _$t.ctx;
            }
        },
        {
            key: "initElements",
            value: function initElements(t) {
                this.elements = new te(t);
            }
        },
        {
            key: "add",
            value: function add() {
                var _$t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ie.prototype), "add", this).apply(this, arguments);
                return arguments.length > 0 && this.renderOnAddRemove && this.requestRenderAll(), _$t;
            }
        },
        {
            key: "insertAt",
            value: function insertAt(t) {
                var _$_get;
                for(var e = arguments.length, _$s = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)_$s[i - 1] = arguments[i];
                var _$r = (_$_get = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ie.prototype), "insertAt", this)).call.apply(_$_get, [
                    this,
                    t
                ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s)));
                return _$s.length > 0 && this.renderOnAddRemove && this.requestRenderAll(), _$r;
            }
        },
        {
            key: "remove",
            value: function remove() {
                var _$t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ie.prototype), "remove", this).apply(this, arguments);
                return _$t.length > 0 && this.renderOnAddRemove && this.requestRenderAll(), _$t;
            }
        },
        {
            key: "_onObjectAdded",
            value: function _onObjectAdded(t) {
                t.canvas && t.canvas !== this && (a("warn", "Canvas is trying to add an object that belongs to a different canvas.\nResulting to default behavior: removing object from previous canvas and adding to new canvas"), t.canvas.remove(t)), t._set("canvas", this), t.setCoords(), this.fire("object:added", {
                    target: t
                }), t.fire("added", {
                    target: this
                });
            }
        },
        {
            key: "_onObjectRemoved",
            value: function _onObjectRemoved(t) {
                t._set("canvas", void 0), this.fire("object:removed", {
                    target: t
                }), t.fire("removed", {
                    target: this
                });
            }
        },
        {
            key: "_onStackOrderChanged",
            value: function _onStackOrderChanged() {
                this.renderOnAddRemove && this.requestRenderAll();
            }
        },
        {
            key: "getRetinaScaling",
            value: function getRetinaScaling() {
                return this.enableRetinaScaling ? y() : 1;
            }
        },
        {
            key: "calcOffset",
            value: function calcOffset() {
                return this._offset = this.elements.calcOffset();
            }
        },
        {
            key: "getWidth",
            value: function getWidth() {
                return this.width;
            }
        },
        {
            key: "getHeight",
            value: function getHeight() {
                return this.height;
            }
        },
        {
            key: "setWidth",
            value: function setWidth(t, e) {
                return this.setDimensions({
                    width: t
                }, e);
            }
        },
        {
            key: "setHeight",
            value: function setHeight(t, e) {
                return this.setDimensions({
                    height: t
                }, e);
            }
        },
        {
            key: "_setDimensionsImpl",
            value: function _setDimensionsImpl(t) {
                var _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, tmp = _ref.cssOnly, e = tmp === void 0 ? !1 : tmp, tmp1 = _ref.backstoreOnly, i = tmp1 === void 0 ? !1 : tmp1;
                if (!e) {
                    var e1 = s({
                        width: this.width,
                        height: this.height
                    }, t);
                    this.elements.setDimensions(e1, this.getRetinaScaling()), this.hasLostContext = !0, this.width = e1.width, this.height = e1.height;
                }
                i || this.elements.setCSSDimensions(t), this.calcOffset();
            }
        },
        {
            key: "setDimensions",
            value: function setDimensions(t, e) {
                this._setDimensionsImpl(t, e), e && e.cssOnly || this.requestRenderAll();
            }
        },
        {
            key: "getZoom",
            value: function getZoom() {
                return this.viewportTransform[0];
            }
        },
        {
            key: "setViewportTransform",
            value: function setViewportTransform(t) {
                this.viewportTransform = t, this.calcViewportBoundaries(), this.renderOnAddRemove && this.requestRenderAll();
            }
        },
        {
            key: "zoomToPoint",
            value: function zoomToPoint(t, e) {
                var _$s = t, i = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.viewportTransform), _$r = St(t, wt(i));
                i[0] = e, i[3] = e;
                var n = St(_$r, i);
                i[4] += _$s.x - n.x, i[5] += _$s.y - n.y, this.setViewportTransform(i);
            }
        },
        {
            key: "setZoom",
            value: function setZoom(t) {
                this.zoomToPoint(new ot(0, 0), t);
            }
        },
        {
            key: "absolutePan",
            value: function absolutePan(t) {
                var e = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.viewportTransform);
                return e[4] = -t.x, e[5] = -t.y, this.setViewportTransform(e);
            }
        },
        {
            key: "relativePan",
            value: function relativePan(t) {
                return this.absolutePan(new ot(-t.x - this.viewportTransform[4], -t.y - this.viewportTransform[5]));
            }
        },
        {
            key: "getElement",
            value: function getElement() {
                return this.elements.lower.el;
            }
        },
        {
            key: "clearContext",
            value: function clearContext(t) {
                t.clearRect(0, 0, this.width, this.height);
            }
        },
        {
            key: "getContext",
            value: function getContext() {
                return this.elements.lower.ctx;
            }
        },
        {
            key: "clear",
            value: function clear() {
                this.remove.apply(this, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.getObjects())), this.backgroundImage = void 0, this.overlayImage = void 0, this.backgroundColor = "", this.overlayColor = "", this.clearContext(this.getContext()), this.fire("canvas:cleared"), this.renderOnAddRemove && this.requestRenderAll();
            }
        },
        {
            key: "renderAll",
            value: function renderAll() {
                this.cancelRequestedRender(), this.destroyed || this.renderCanvas(this.getContext(), this._objects);
            }
        },
        {
            key: "renderAndReset",
            value: function renderAndReset() {
                this.nextRenderHandle = 0, this.renderAll();
            }
        },
        {
            key: "requestRenderAll",
            value: function requestRenderAll() {
                var _this = this;
                this.nextRenderHandle || this.disposed || this.destroyed || (this.nextRenderHandle = ut(function() {
                    return _this.renderAndReset();
                }));
            }
        },
        {
            key: "calcViewportBoundaries",
            value: function calcViewportBoundaries() {
                var _$t = this.width, e = this.height, _$s = wt(this.viewportTransform), i = St({
                    x: 0,
                    y: 0
                }, _$s), _$r = St({
                    x: _$t,
                    y: e
                }, _$s), n = i.min(_$r), o = i.max(_$r);
                return this.vptCoords = {
                    tl: n,
                    tr: new ot(o.x, n.y),
                    bl: new ot(n.x, o.y),
                    br: o
                };
            }
        },
        {
            key: "cancelRequestedRender",
            value: function cancelRequestedRender() {
                this.nextRenderHandle && (dt(this.nextRenderHandle), this.nextRenderHandle = 0);
            }
        },
        {
            key: "drawControls",
            value: function drawControls(t) {}
        },
        {
            key: "renderCanvas",
            value: function renderCanvas(t, e) {
                if (this.destroyed) return;
                var _$s = this.viewportTransform, i = this.clipPath;
                this.calcViewportBoundaries(), this.clearContext(t), t.imageSmoothingEnabled = this.imageSmoothingEnabled, t.patternQuality = "best", this.fire("before:render", {
                    ctx: t
                }), this._renderBackground(t), t.save(), t.transform(_$s[0], _$s[1], _$s[2], _$s[3], _$s[4], _$s[5]), this._renderObjects(t, e), t.restore(), this.controlsAboveOverlay || this.skipControlsDrawing || this.drawControls(t), i && (i._set("canvas", this), i.shouldCache(), i._transformDone = !0, i.renderCache({
                    forClipping: !0
                }), this.drawClipPathOnCanvas(t, i)), this._renderOverlay(t), this.controlsAboveOverlay && !this.skipControlsDrawing && this.drawControls(t), this.fire("after:render", {
                    ctx: t
                }), this.__cleanupTask && (this.__cleanupTask(), this.__cleanupTask = void 0);
            }
        },
        {
            key: "drawClipPathOnCanvas",
            value: function drawClipPathOnCanvas(t, e) {
                var _t;
                var _$s = this.viewportTransform;
                t.save(), (_t = t).transform.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s)), t.globalCompositeOperation = "destination-in", e.transform(t), t.scale(1 / e.zoomX, 1 / e.zoomY), t.drawImage(e._cacheCanvas, -e.cacheTranslationX, -e.cacheTranslationY), t.restore();
            }
        },
        {
            key: "_renderObjects",
            value: function _renderObjects(t, e) {
                for(var _$s = 0, i = e.length; _$s < i; ++_$s)e[_$s] && e[_$s].render(t);
            }
        },
        {
            key: "_renderBackgroundOrOverlay",
            value: function _renderBackgroundOrOverlay(t, e) {
                var _$s = this["".concat(e, "Color")], i = this["".concat(e, "Image")], _$r = this.viewportTransform, n = this["".concat(e, "Vpt")];
                if (!_$s && !i) return;
                var o = Gt(_$s);
                if (_$s) {
                    var _t;
                    if (t.save(), t.beginPath(), t.moveTo(0, 0), t.lineTo(this.width, 0), t.lineTo(this.width, this.height), t.lineTo(0, this.height), t.closePath(), t.fillStyle = o ? _$s.toLive(t) : _$s, n && (_t = t).transform.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$r)), o) {
                        var _t1;
                        t.transform(1, 0, 0, 1, _$s.offsetX || 0, _$s.offsetY || 0);
                        var _$e = _$s.gradientTransform || _$s.patternTransform;
                        _$e && (_t1 = t).transform.apply(_t1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$e));
                    }
                    t.fill(), t.restore();
                }
                if (i) {
                    var _t2;
                    t.save();
                    var _this = this, _$e1 = _this.skipOffscreen;
                    this.skipOffscreen = n, n && (_t2 = t).transform.apply(_t2, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$r)), i.render(t), this.skipOffscreen = _$e1, t.restore();
                }
            }
        },
        {
            key: "_renderBackground",
            value: function _renderBackground(t) {
                this._renderBackgroundOrOverlay(t, "background");
            }
        },
        {
            key: "_renderOverlay",
            value: function _renderOverlay(t) {
                this._renderBackgroundOrOverlay(t, "overlay");
            }
        },
        {
            key: "getCenter",
            value: function getCenter() {
                return {
                    top: this.height / 2,
                    left: this.width / 2
                };
            }
        },
        {
            key: "getCenterPoint",
            value: function getCenterPoint() {
                return new ot(this.width / 2, this.height / 2);
            }
        },
        {
            key: "centerObjectH",
            value: function centerObjectH(t) {
                return this._centerObject(t, new ot(this.getCenterPoint().x, t.getCenterPoint().y));
            }
        },
        {
            key: "centerObjectV",
            value: function centerObjectV(t) {
                return this._centerObject(t, new ot(t.getCenterPoint().x, this.getCenterPoint().y));
            }
        },
        {
            key: "centerObject",
            value: function centerObject(t) {
                return this._centerObject(t, this.getCenterPoint());
            }
        },
        {
            key: "viewportCenterObject",
            value: function viewportCenterObject(t) {
                return this._centerObject(t, this.getVpCenter());
            }
        },
        {
            key: "viewportCenterObjectH",
            value: function viewportCenterObjectH(t) {
                return this._centerObject(t, new ot(this.getVpCenter().x, t.getCenterPoint().y));
            }
        },
        {
            key: "viewportCenterObjectV",
            value: function viewportCenterObjectV(t) {
                return this._centerObject(t, new ot(t.getCenterPoint().x, this.getVpCenter().y));
            }
        },
        {
            key: "getVpCenter",
            value: function getVpCenter() {
                return St(this.getCenterPoint(), wt(this.viewportTransform));
            }
        },
        {
            key: "_centerObject",
            value: function _centerObject(t, e) {
                t.setXY(e, D, D), t.setCoords(), this.renderOnAddRemove && this.requestRenderAll();
            }
        },
        {
            key: "toDatalessJSON",
            value: function toDatalessJSON(t) {
                return this.toDatalessObject(t);
            }
        },
        {
            key: "toObject",
            value: function toObject(t) {
                return this._toObjectMethod("toObject", t);
            }
        },
        {
            key: "toJSON",
            value: function toJSON() {
                return this.toObject();
            }
        },
        {
            key: "toDatalessObject",
            value: function toDatalessObject(t) {
                return this._toObjectMethod("toDatalessObject", t);
            }
        },
        {
            key: "_toObjectMethod",
            value: function _toObjectMethod(t, e) {
                var _this = this;
                var i = this.clipPath, _$r = i && !i.excludeFromExport ? this._toObject(i, t, e) : null;
                return s(s(s({
                    version: x
                }, Yt(this, e)), {}, {
                    objects: this._objects.filter(function(t) {
                        return !t.excludeFromExport;
                    }).map(function(s) {
                        return _this._toObject(s, t, e);
                    })
                }, this.__serializeBgOverlay(t, e)), _$r ? {
                    clipPath: _$r
                } : null);
            }
        },
        {
            key: "_toObject",
            value: function _toObject(t, e, s) {
                var i;
                this.includeDefaultValues || (i = t.includeDefaultValues, t.includeDefaultValues = !1);
                var _$r = t[e](s);
                return this.includeDefaultValues || (t.includeDefaultValues = !!i), _$r;
            }
        },
        {
            key: "__serializeBgOverlay",
            value: function __serializeBgOverlay(t, e) {
                var _$s = {}, i = this.backgroundImage, _$r = this.overlayImage, n = this.backgroundColor, o = this.overlayColor;
                return Gt(n) ? n.excludeFromExport || (_$s.background = n.toObject(e)) : n && (_$s.background = n), Gt(o) ? o.excludeFromExport || (_$s.overlay = o.toObject(e)) : o && (_$s.overlay = o), i && !i.excludeFromExport && (_$s.backgroundImage = this._toObject(i, t, e)), _$r && !_$r.excludeFromExport && (_$s.overlayImage = this._toObject(_$r, t, e)), _$s;
            }
        },
        {
            key: "toSVG",
            value: function toSVG() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e = arguments.length > 1 ? arguments[1] : void 0;
                _$t.reviver = e;
                var _$s = [];
                return this._setSVGPreamble(_$s, _$t), this._setSVGHeader(_$s, _$t), this.clipPath && _$s.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId, ')" >\n')), this._setSVGBgOverlayColor(_$s, "background"), this._setSVGBgOverlayImage(_$s, "backgroundImage", e), this._setSVGObjects(_$s, e), this.clipPath && _$s.push("</g>\n"), this._setSVGBgOverlayColor(_$s, "overlay"), this._setSVGBgOverlayImage(_$s, "overlayImage", e), _$s.push("</svg>"), _$s.join("");
            }
        },
        {
            key: "_setSVGPreamble",
            value: function _setSVGPreamble(t, e) {
                e.suppressPreamble || t.push('<?xml version="1.0" encoding="', e.encoding || "UTF-8", '" standalone="no" ?>\n', '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ', '"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n');
            }
        },
        {
            key: "_setSVGHeader",
            value: function _setSVGHeader(t, e) {
                var _$s = e.width || "".concat(this.width), i = e.height || "".concat(this.height), _$r = o.NUM_FRACTION_DIGITS, n = e.viewBox;
                var a;
                if (n) a = 'viewBox="'.concat(n.x, " ").concat(n.y, " ").concat(n.width, " ").concat(n.height, '" ');
                else if (this.svgViewportTransformation) {
                    var _$t = this.viewportTransform;
                    a = 'viewBox="'.concat(Vt(-_$t[4] / _$t[0], _$r), " ").concat(Vt(-_$t[5] / _$t[3], _$r), " ").concat(Vt(this.width / _$t[0], _$r), " ").concat(Vt(this.height / _$t[3], _$r), '" ');
                } else a = 'viewBox="0 0 '.concat(this.width, " ").concat(this.height, '" ');
                t.push("<svg ", 'xmlns="http://www.w3.org/2000/svg" ', 'xmlns:xlink="http://www.w3.org/1999/xlink" ', 'version="1.1" ', 'width="', _$s, '" ', 'height="', i, '" ', a, 'xml:space="preserve">\n', "<desc>Created with Fabric.js ", x, "</desc>\n", "<defs>\n", this.createSVGFontFacesMarkup(), this.createSVGRefElementsMarkup(), this.createSVGClipPathMarkup(e), "</defs>\n");
            }
        },
        {
            key: "createSVGClipPathMarkup",
            value: function createSVGClipPathMarkup(t) {
                var e = this.clipPath;
                return e ? (e.clipPathId = "CLIPPATH_".concat(ft()), '<clipPath id="'.concat(e.clipPathId, '" >\n').concat(e.toClipPathSVG(t.reviver), "</clipPath>\n")) : "";
            }
        },
        {
            key: "createSVGRefElementsMarkup",
            value: function createSVGRefElementsMarkup() {
                var _this = this;
                return [
                    "background",
                    "overlay"
                ].map(function(t) {
                    var e = _this["".concat(t, "Color")];
                    if (Gt(e)) {
                        var _$s = _this["".concat(t, "Vpt")], i = _this.viewportTransform, _$r = {
                            isType: function() {
                                return !1;
                            },
                            width: _this.width / (_$s ? i[0] : 1),
                            height: _this.height / (_$s ? i[3] : 1)
                        };
                        return e.toSVG(_$r, {
                            additionalTransform: _$s ? zt(i) : ""
                        });
                    }
                }).join("");
            }
        },
        {
            key: "createSVGFontFacesMarkup",
            value: function createSVGFontFacesMarkup() {
                var _$t = [], e = {}, _$s = o.fontPaths;
                this._objects.forEach(function e(s) {
                    _$t.push(s), ht(s) && s._objects.forEach(e);
                }), _$t.forEach(function(t) {
                    if (!(i = t) || "function" != typeof i._renderText) return;
                    var i;
                    var _$r = t.styles, n = t.fontFamily;
                    !e[n] && _$s[n] && (e[n] = !0, _$r && Object.values(_$r).forEach(function(t) {
                        Object.values(t).forEach(function(t) {
                            var tmp = t.fontFamily, i = tmp === void 0 ? "" : tmp;
                            !e[i] && _$s[i] && (e[i] = !0);
                        });
                    }));
                });
                var i = Object.keys(e).map(function(t) {
                    return "\t\t@font-face {\n\t\t\tfont-family: '".concat(t, "';\n\t\t\tsrc: url('").concat(_$s[t], "');\n\t\t}\n");
                }).join("");
                return i ? '\t<style type="text/css"><![CDATA[\n'.concat(i, "]]></style>\n") : "";
            }
        },
        {
            key: "_setSVGObjects",
            value: function _setSVGObjects(t, e) {
                var _this = this;
                this.forEachObject(function(s) {
                    s.excludeFromExport || _this._setSVGObject(t, s, e);
                });
            }
        },
        {
            key: "_setSVGObject",
            value: function _setSVGObject(t, e, s) {
                t.push(e.toSVG(s));
            }
        },
        {
            key: "_setSVGBgOverlayImage",
            value: function _setSVGBgOverlayImage(t, e, s) {
                var i = this[e];
                i && !i.excludeFromExport && i.toSVG && t.push(i.toSVG(s));
            }
        },
        {
            key: "_setSVGBgOverlayColor",
            value: function _setSVGBgOverlayColor(t, e) {
                var _$s = this["".concat(e, "Color")];
                if (_$s) if (Gt(_$s)) {
                    var i = _$s.repeat || "", _$r = this.width, n = this.height, o = this["".concat(e, "Vpt")] ? zt(wt(this.viewportTransform)) : "";
                    t.push('<rect transform="'.concat(o, " translate(").concat(_$r / 2, ",").concat(n / 2, ')" x="').concat(_$s.offsetX - _$r / 2, '" y="').concat(_$s.offsetY - n / 2, '" width="').concat("repeat-y" !== i && "no-repeat" !== i || !Nt(_$s) ? _$r : _$s.source.width, '" height="').concat("repeat-x" !== i && "no-repeat" !== i || !Nt(_$s) ? n : _$s.source.height, '" fill="url(#SVGID_').concat(_$s.id, ')"></rect>\n'));
                } else t.push('<rect x="0" y="0" width="100%" height="100%" ', 'fill="', _$s, '"', "></rect>\n");
            }
        },
        {
            key: "loadFromJSON",
            value: function loadFromJSON(t, e) {
                var _this = this;
                var _ref = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, _$s = _ref.signal;
                if (!t) return Promise.reject(new h("`json` is undefined"));
                var _$r = "string" == typeof t ? JSON.parse(t) : t, tmp = _$r.objects, n = tmp === void 0 ? [] : tmp, o = i(_$r, se), a = o.backgroundImage, c = o.background, l = o.overlayImage, u = o.overlay, d = o.clipPath, g = this.renderOnAddRemove;
                return this.renderOnAddRemove = !1, Promise.all([
                    Bt(n, {
                        reviver: e,
                        signal: _$s
                    }),
                    Xt({
                        backgroundImage: a,
                        backgroundColor: c,
                        overlayImage: l,
                        overlayColor: u,
                        clipPath: d
                    }, {
                        signal: _$s
                    })
                ]).then(function(t) {
                    var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), _$e = _t[0], _$s = _t[1];
                    return _this.clear(), _this.add.apply(_this, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$e)), _this.set(o), _this.set(_$s), _this.renderOnAddRemove = g, _this;
                });
            }
        },
        {
            key: "clone",
            value: function clone(t) {
                var e = this.toObject(t);
                return this.cloneWithoutData().loadFromJSON(e);
            }
        },
        {
            key: "cloneWithoutData",
            value: function cloneWithoutData() {
                var _$t = vt(this);
                return new this.constructor(_$t);
            }
        },
        {
            key: "toDataURL",
            value: function toDataURL() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                var tmp = _$t.format, e = tmp === void 0 ? "png" : tmp, tmp1 = _$t.quality, _$s = tmp1 === void 0 ? 1 : tmp1, tmp2 = _$t.multiplier, i = tmp2 === void 0 ? 1 : tmp2, tmp3 = _$t.enableRetinaScaling, _$r = tmp3 === void 0 ? !1 : tmp3, n = i * (_$r ? this.getRetinaScaling() : 1);
                return yt(this.toCanvasElement(n, _$t), e, _$s);
            }
        },
        {
            key: "toBlob",
            value: function toBlob() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                var tmp = _$t.format, e = tmp === void 0 ? "png" : tmp, tmp1 = _$t.quality, _$s = tmp1 === void 0 ? 1 : tmp1, tmp2 = _$t.multiplier, i = tmp2 === void 0 ? 1 : tmp2, tmp3 = _$t.enableRetinaScaling, _$r = tmp3 === void 0 ? !1 : tmp3, n = i * (_$r ? this.getRetinaScaling() : 1);
                return _t(this.toCanvasElement(n, _$t), e, _$s);
            }
        },
        {
            key: "toCanvasElement",
            value: function toCanvasElement() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1, _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = _ref.width, _$s = _ref.height, i = _ref.left, _$r = _ref.top, n = _ref.filter;
                var o = (e || this.width) * _$t, a = (_$s || this.height) * _$t, h = this.getZoom(), c = this.width, l = this.height, u = this.skipControlsDrawing, d = h * _$t, g = this.viewportTransform, f = [
                    d,
                    0,
                    0,
                    d,
                    (g[4] - (i || 0)) * _$t,
                    (g[5] - (_$r || 0)) * _$t
                ], p = this.enableRetinaScaling, m = vt({
                    width: o,
                    height: a
                }), v = n ? this._objects.filter(function(t) {
                    return n(t);
                }) : this._objects;
                return this.enableRetinaScaling = !1, this.viewportTransform = f, this.width = o, this.height = a, this.skipControlsDrawing = !0, this.calcViewportBoundaries(), this.renderCanvas(m.getContext("2d"), v), this.viewportTransform = g, this.width = c, this.height = l, this.calcViewportBoundaries(), this.enableRetinaScaling = p, this.skipControlsDrawing = u, m;
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                var _this = this;
                return !this.disposed && this.elements.cleanupDOM({
                    width: this.width,
                    height: this.height
                }), et.cancelByCanvas(this), this.disposed = !0, new Promise(function(t, e) {
                    var _$s = function() {
                        _this.destroy(), t(!0);
                    };
                    _$s.kill = e, _this.__cleanupTask && _this.__cleanupTask.kill("aborted"), _this.destroyed ? t(!1) : _this.nextRenderHandle ? _this.__cleanupTask = _$s : _$s();
                });
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                this.destroyed = !0, this.cancelRequestedRender(), this.forEachObject(function(t) {
                    return t.dispose();
                }), this._objects = [], this.backgroundImage && this.backgroundImage.dispose(), this.backgroundImage = void 0, this.overlayImage && this.overlayImage.dispose(), this.overlayImage = void 0, this.elements.dispose();
            }
        },
        {
            key: "toString",
            value: function toString() {
                return "#<Canvas (".concat(this.complexity(), "): { objects: ").concat(this._objects.length, " }>");
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return ie.ownDefaults;
            }
        }
    ]);
    return ie;
}(ct(lt));
t(ie, "ownDefaults", ee);
var re = [
    "touchstart",
    "touchmove",
    "touchend"
];
var ne = function(t) {
    var e = qt(t.target), _$s = function(t) {
        var e = t.changedTouches;
        return e && e[0] ? e[0] : t;
    }(t);
    return new ot(_$s.clientX + e.left, _$s.clientY + e.top);
}, oe = function(t) {
    return re.includes(t.type) || "touch" === t.pointerType;
}, ae = function(t) {
    t.preventDefault(), t.stopPropagation();
}, he = function(t) {
    var e = 0, _$s = 0, i = 0, _$r = 0;
    for(var n = 0, o = t.length; n < o; n++){
        var _t_n = t[n], o1 = _t_n.x, a = _t_n.y;
        (o1 > i || !n) && (i = o1), (o1 < e || !n) && (e = o1), (a > _$r || !n) && (_$r = a), (a < _$s || !n) && (_$s = a);
    }
    return {
        left: e,
        top: _$s,
        width: i - e,
        height: _$r - _$s
    };
}, ce = [
    "translateX",
    "translateY",
    "scaleX",
    "scaleY"
], le = function(t, e) {
    return ue(t, Tt(e, t.calcOwnMatrix()));
}, ue = function(t, e) {
    var _$s = Dt(e), _$r = _$s.translateX, n = _$s.translateY, o = _$s.scaleX, a = _$s.scaleY, h = i(_$s, ce), c = new ot(_$r, n);
    t.flipX = !1, t.flipY = !1, Object.assign(t, h), t.set({
        scaleX: o,
        scaleY: a
    }), t.setPositionByOrigin(c, D, D);
}, de = function(t) {
    t.scaleX = 1, t.scaleY = 1, t.skewX = 0, t.skewY = 0, t.flipX = !1, t.flipY = !1, t.rotate(0);
}, ge = function(t) {
    return {
        scaleX: t.scaleX,
        scaleY: t.scaleY,
        skewX: t.skewX,
        skewY: t.skewY,
        angle: t.angle,
        left: t.left,
        flipX: t.flipX,
        flipY: t.flipY,
        top: t.top
    };
}, fe = function(t, e, s) {
    var i = t / 2, _$r = e / 2, n = [
        new ot(-i, -_$r),
        new ot(i, -_$r),
        new ot(-i, _$r),
        new ot(i, _$r)
    ].map(function(t) {
        return t.transform(s);
    }), o = he(n);
    return new ot(o.width, o.height);
}, pe = function pe() {
    var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : T;
    return Tt(wt(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : T), _$t);
}, me = function me(t) {
    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : T, _$s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : T;
    return t.transform(pe(e, _$s));
}, ve = function ve(t) {
    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : T, _$s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : T;
    return t.transform(pe(e, _$s), !0);
}, ye = function(t, e, s) {
    var i = pe(e, s);
    return ue(t, Tt(i, t.calcOwnMatrix())), i;
}, _e = function(t, e) {
    var i;
    var _e_transform = e.transform, _$r = _e_transform.target;
    null === (i = _$r.canvas) || void 0 === i || i.fire("object:".concat(t), s(s({}, e), {}, {
        target: _$r
    })), _$r.fire(t, e);
}, xe = {
    left: -.5,
    top: -.5,
    center: 0,
    bottom: .5,
    right: .5
}, Ce = function(t) {
    return "string" == typeof t ? xe[t] : t - .5;
}, be = "not-allowed";
function Se(t) {
    return Ce(t.originX) === Ce(D) && Ce(t.originY) === Ce(D);
}
function we(t) {
    return .5 - Ce(t);
}
var Te = function(t, e) {
    return t[e];
}, Oe = function(t, e, s, i) {
    return {
        e: t,
        transform: e,
        pointer: new ot(s, i)
    };
};
function ke(t, e) {
    var _$s = t.getTotalAngle() + Ct(Math.atan2(e.y, e.x)) + 360;
    return Math.round(_$s % 360 / 45);
}
function De(t, e, s, i, r) {
    var n;
    var o = t.target, a = t.corner;
    var h = o.controls[a], c = (null === (n = o.canvas) || void 0 === n ? void 0 : n.getZoom()) || 1, l = o.padding / c, u = function(t, e, s, i) {
        var _$r = t.getRelativeCenterPoint(), n = void 0 !== s && void 0 !== i ? t.translateToGivenOrigin(_$r, D, D, s, i) : new ot(t.left, t.top);
        return (t.angle ? e.rotate(-xt(t.angle), _$r) : e).subtract(n);
    }(o, new ot(i, r), e, s);
    return u.x >= l && (u.x -= l), u.x <= -l && (u.x += l), u.y >= l && (u.y -= l), u.y <= l && (u.y += l), u.x -= h.offsetX, u.y -= h.offsetY, u;
}
var Me = function(t, e, s, i) {
    var _$r = e.target, n = e.offsetX, o = e.offsetY, a = s - n, h = i - o, c = !Te(_$r, "lockMovementX") && _$r.left !== a, l = !Te(_$r, "lockMovementY") && _$r.top !== h;
    return c && _$r.set(M, a), l && _$r.set(P, h), (c || l) && _e(L, Oe(t, e, s, i)), c || l;
}, Pe = function(t) {
    return t.replace(/\s+/g, " ");
}, Ee = {
    aliceblue: "#F0F8FF",
    antiquewhite: "#FAEBD7",
    aqua: "#0FF",
    aquamarine: "#7FFFD4",
    azure: "#F0FFFF",
    beige: "#F5F5DC",
    bisque: "#FFE4C4",
    black: "#000",
    blanchedalmond: "#FFEBCD",
    blue: "#00F",
    blueviolet: "#8A2BE2",
    brown: "#A52A2A",
    burlywood: "#DEB887",
    cadetblue: "#5F9EA0",
    chartreuse: "#7FFF00",
    chocolate: "#D2691E",
    coral: "#FF7F50",
    cornflowerblue: "#6495ED",
    cornsilk: "#FFF8DC",
    crimson: "#DC143C",
    cyan: "#0FF",
    darkblue: "#00008B",
    darkcyan: "#008B8B",
    darkgoldenrod: "#B8860B",
    darkgray: "#A9A9A9",
    darkgrey: "#A9A9A9",
    darkgreen: "#006400",
    darkkhaki: "#BDB76B",
    darkmagenta: "#8B008B",
    darkolivegreen: "#556B2F",
    darkorange: "#FF8C00",
    darkorchid: "#9932CC",
    darkred: "#8B0000",
    darksalmon: "#E9967A",
    darkseagreen: "#8FBC8F",
    darkslateblue: "#483D8B",
    darkslategray: "#2F4F4F",
    darkslategrey: "#2F4F4F",
    darkturquoise: "#00CED1",
    darkviolet: "#9400D3",
    deeppink: "#FF1493",
    deepskyblue: "#00BFFF",
    dimgray: "#696969",
    dimgrey: "#696969",
    dodgerblue: "#1E90FF",
    firebrick: "#B22222",
    floralwhite: "#FFFAF0",
    forestgreen: "#228B22",
    fuchsia: "#F0F",
    gainsboro: "#DCDCDC",
    ghostwhite: "#F8F8FF",
    gold: "#FFD700",
    goldenrod: "#DAA520",
    gray: "#808080",
    grey: "#808080",
    green: "#008000",
    greenyellow: "#ADFF2F",
    honeydew: "#F0FFF0",
    hotpink: "#FF69B4",
    indianred: "#CD5C5C",
    indigo: "#4B0082",
    ivory: "#FFFFF0",
    khaki: "#F0E68C",
    lavender: "#E6E6FA",
    lavenderblush: "#FFF0F5",
    lawngreen: "#7CFC00",
    lemonchiffon: "#FFFACD",
    lightblue: "#ADD8E6",
    lightcoral: "#F08080",
    lightcyan: "#E0FFFF",
    lightgoldenrodyellow: "#FAFAD2",
    lightgray: "#D3D3D3",
    lightgrey: "#D3D3D3",
    lightgreen: "#90EE90",
    lightpink: "#FFB6C1",
    lightsalmon: "#FFA07A",
    lightseagreen: "#20B2AA",
    lightskyblue: "#87CEFA",
    lightslategray: "#789",
    lightslategrey: "#789",
    lightsteelblue: "#B0C4DE",
    lightyellow: "#FFFFE0",
    lime: "#0F0",
    limegreen: "#32CD32",
    linen: "#FAF0E6",
    magenta: "#F0F",
    maroon: "#800000",
    mediumaquamarine: "#66CDAA",
    mediumblue: "#0000CD",
    mediumorchid: "#BA55D3",
    mediumpurple: "#9370DB",
    mediumseagreen: "#3CB371",
    mediumslateblue: "#7B68EE",
    mediumspringgreen: "#00FA9A",
    mediumturquoise: "#48D1CC",
    mediumvioletred: "#C71585",
    midnightblue: "#191970",
    mintcream: "#F5FFFA",
    mistyrose: "#FFE4E1",
    moccasin: "#FFE4B5",
    navajowhite: "#FFDEAD",
    navy: "#000080",
    oldlace: "#FDF5E6",
    olive: "#808000",
    olivedrab: "#6B8E23",
    orange: "#FFA500",
    orangered: "#FF4500",
    orchid: "#DA70D6",
    palegoldenrod: "#EEE8AA",
    palegreen: "#98FB98",
    paleturquoise: "#AFEEEE",
    palevioletred: "#DB7093",
    papayawhip: "#FFEFD5",
    peachpuff: "#FFDAB9",
    peru: "#CD853F",
    pink: "#FFC0CB",
    plum: "#DDA0DD",
    powderblue: "#B0E0E6",
    purple: "#800080",
    rebeccapurple: "#639",
    red: "#F00",
    rosybrown: "#BC8F8F",
    royalblue: "#4169E1",
    saddlebrown: "#8B4513",
    salmon: "#FA8072",
    sandybrown: "#F4A460",
    seagreen: "#2E8B57",
    seashell: "#FFF5EE",
    sienna: "#A0522D",
    silver: "#C0C0C0",
    skyblue: "#87CEEB",
    slateblue: "#6A5ACD",
    slategray: "#708090",
    slategrey: "#708090",
    snow: "#FFFAFA",
    springgreen: "#00FF7F",
    steelblue: "#4682B4",
    tan: "#D2B48C",
    teal: "#008080",
    thistle: "#D8BFD8",
    tomato: "#FF6347",
    turquoise: "#40E0D0",
    violet: "#EE82EE",
    wheat: "#F5DEB3",
    white: "#FFF",
    whitesmoke: "#F5F5F5",
    yellow: "#FF0",
    yellowgreen: "#9ACD32"
}, Ae = function(t, e, s) {
    return s < 0 && (s += 1), s > 1 && (s -= 1), s < 1 / 6 ? t + 6 * (e - t) * s : s < .5 ? e : s < 2 / 3 ? t + (e - t) * (2 / 3 - s) * 6 : t;
}, je = function(t, e, s, i) {
    t /= 255, e /= 255, s /= 255;
    var _$r = Math.max(t, e, s), n = Math.min(t, e, s);
    var o, a;
    var h = (_$r + n) / 2;
    if (_$r === n) o = a = 0;
    else {
        var _$i = _$r - n;
        switch(a = h > .5 ? _$i / (2 - _$r - n) : _$i / (_$r + n), _$r){
            case t:
                o = (e - s) / _$i + (e < s ? 6 : 0);
                break;
            case e:
                o = (s - t) / _$i + 2;
                break;
            case s:
                o = (t - e) / _$i + 4;
        }
        o /= 6;
    }
    return [
        Math.round(360 * o),
        Math.round(100 * a),
        Math.round(100 * h),
        i
    ];
}, Fe = function Fe() {
    var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "1";
    return parseFloat(_$t) / (_$t.endsWith("%") ? 100 : 1);
}, Le = function(t) {
    return Math.min(Math.round(t), 255).toString(16).toUpperCase().padStart(2, "0");
}, Re = function(t) {
    var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 4), e = _t[0], _$s = _t[1], i = _t[2], tmp = _t[3], _$r = tmp === void 0 ? 1 : tmp;
    var n = Math.round(.3 * e + .59 * _$s + .11 * i);
    return [
        n,
        n,
        n,
        _$r
    ];
};
var Ie = /*#__PURE__*/ function() {
    "use strict";
    function Ie(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ie);
        if (t(this, "isUnrecognised", !1), e) if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_instanceof$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, Ie)) this.setSource((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e._source));
        else if (Array.isArray(e)) {
            var _e = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, 4), _$t = _e[0], _$s = _e[1], i = _e[2], tmp = _e[3], _$r = tmp === void 0 ? 1 : tmp;
            this.setSource([
                _$t,
                _$s,
                i,
                _$r
            ]);
        } else this.setSource(this._tryParsingColor(e));
        else this.setSource([
            0,
            0,
            0,
            1
        ]);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ie, [
        {
            key: "_tryParsingColor",
            value: function _tryParsingColor(t) {
                return (t = t.toLowerCase()) in Ee && (t = Ee[t]), "transparent" === t ? [
                    255,
                    255,
                    255,
                    0
                ] : Ie.sourceFromHex(t) || Ie.sourceFromRgb(t) || Ie.sourceFromHsl(t) || (this.isUnrecognised = !0) && [
                    0,
                    0,
                    0,
                    1
                ];
            }
        },
        {
            key: "getSource",
            value: function getSource() {
                return this._source;
            }
        },
        {
            key: "setSource",
            value: function setSource(t) {
                this._source = t;
            }
        },
        {
            key: "toRgb",
            value: function toRgb() {
                var _this_getSource = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.getSource(), 3), _$t = _this_getSource[0], e = _this_getSource[1], _$s = _this_getSource[2];
                return "rgb(".concat(_$t, ",").concat(e, ",").concat(_$s, ")");
            }
        },
        {
            key: "toRgba",
            value: function toRgba() {
                return "rgba(".concat(this.getSource().join(","), ")");
            }
        },
        {
            key: "toHsl",
            value: function toHsl() {
                var _je_apply = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(je.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.getSource())), 3), _$t = _je_apply[0], e = _je_apply[1], _$s = _je_apply[2];
                return "hsl(".concat(_$t, ",").concat(e, "%,").concat(_$s, "%)");
            }
        },
        {
            key: "toHsla",
            value: function toHsla() {
                var _je_apply = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(je.apply(void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.getSource())), 4), _$t = _je_apply[0], e = _je_apply[1], _$s = _je_apply[2], i = _je_apply[3];
                return "hsla(".concat(_$t, ",").concat(e, "%,").concat(_$s, "%,").concat(i, ")");
            }
        },
        {
            key: "toHex",
            value: function toHex() {
                return this.toHexa().slice(0, 6);
            }
        },
        {
            key: "toHexa",
            value: function toHexa() {
                var _this_getSource = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.getSource(), 4), _$t = _this_getSource[0], e = _this_getSource[1], _$s = _this_getSource[2], i = _this_getSource[3];
                return "".concat(Le(_$t)).concat(Le(e)).concat(Le(_$s)).concat(Le(Math.round(255 * i)));
            }
        },
        {
            key: "getAlpha",
            value: function getAlpha() {
                return this.getSource()[3];
            }
        },
        {
            key: "setAlpha",
            value: function setAlpha(t) {
                return this._source[3] = t, this;
            }
        },
        {
            key: "toGrayscale",
            value: function toGrayscale() {
                return this.setSource(Re(this.getSource())), this;
            }
        },
        {
            key: "toBlackWhite",
            value: function toBlackWhite(t) {
                var _Re = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Re(this.getSource()), 4), e = _Re[0], _$s = _Re[3], i = e < (t || 127) ? 0 : 255;
                return this.setSource([
                    i,
                    i,
                    i,
                    _$s
                ]), this;
            }
        },
        {
            key: "overlayWith",
            value: function overlayWith(t) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_instanceof$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, Ie) || (t = new Ie(t));
                var e = this.getSource(), _$s = t.getSource(), _e_map = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e.map(function(t, e) {
                    return Math.round(.5 * t + .5 * _$s[e]);
                }), 3), i = _e_map[0], _$r = _e_map[1], n = _e_map[2];
                return this.setSource([
                    i,
                    _$r,
                    n,
                    e[3]
                ]), this;
            }
        }
    ], [
        {
            key: "fromRgb",
            value: function fromRgb(t) {
                return Ie.fromRgba(t);
            }
        },
        {
            key: "fromRgba",
            value: function fromRgba(t) {
                return new Ie(Ie.sourceFromRgb(t));
            }
        },
        {
            key: "sourceFromRgb",
            value: function sourceFromRgb(t) {
                var e = Pe(t).match(/^rgba?\(\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d{0,3}(?:\.\d+)?%?)\s?)?\)$/i);
                if (e) {
                    var _e_slice_map = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e.slice(1, 4).map(function(t) {
                        var e = parseFloat(t);
                        return t.endsWith("%") ? Math.round(2.55 * e) : e;
                    }), 3), _$t = _e_slice_map[0], _$s = _e_slice_map[1], i = _e_slice_map[2];
                    return [
                        _$t,
                        _$s,
                        i,
                        Fe(e[4])
                    ];
                }
            }
        },
        {
            key: "fromHsl",
            value: function fromHsl(t) {
                return Ie.fromHsla(t);
            }
        },
        {
            key: "fromHsla",
            value: function fromHsla(t) {
                return new Ie(Ie.sourceFromHsl(t));
            }
        },
        {
            key: "sourceFromHsl",
            value: function sourceFromHsl(t) {
                var e = Pe(t).match(/^hsla?\(\s?([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d*(?:\.\d+)?%?)\s?)?\)$/i);
                if (!e) return;
                var _$s = (Ie.parseAngletoDegrees(e[1]) % 360 + 360) % 360 / 360, i = parseFloat(e[2]) / 100, _$r = parseFloat(e[3]) / 100;
                var n, o, a;
                if (0 === i) n = o = a = _$r;
                else {
                    var _$t = _$r <= .5 ? _$r * (i + 1) : _$r + i - _$r * i, e1 = 2 * _$r - _$t;
                    n = Ae(e1, _$t, _$s + 1 / 3), o = Ae(e1, _$t, _$s), a = Ae(e1, _$t, _$s - 1 / 3);
                }
                return [
                    Math.round(255 * n),
                    Math.round(255 * o),
                    Math.round(255 * a),
                    Fe(e[4])
                ];
            }
        },
        {
            key: "fromHex",
            value: function fromHex(t) {
                return new Ie(Ie.sourceFromHex(t));
            }
        },
        {
            key: "sourceFromHex",
            value: function sourceFromHex(t) {
                if (t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)) {
                    var e = t.slice(t.indexOf("#") + 1);
                    var _$s;
                    _$s = e.length <= 4 ? e.split("").map(function(t) {
                        return t + t;
                    }) : e.match(/.{2}/g);
                    var _s_map = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s.map(function(t) {
                        return parseInt(t, 16);
                    }), 4), i = _s_map[0], _$r = _s_map[1], n = _s_map[2], tmp = _s_map[3], o = tmp === void 0 ? 255 : tmp;
                    return [
                        i,
                        _$r,
                        n,
                        o / 255
                    ];
                }
            }
        },
        {
            key: "parseAngletoDegrees",
            value: function parseAngletoDegrees(t) {
                var e = t.toLowerCase(), _$s = parseFloat(e);
                return e.includes("rad") ? Ct(_$s) : e.includes("turn") ? 360 * _$s : _$s;
            }
        }
    ]);
    return Ie;
}();
var Be = function Be(t) {
    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : O;
    var _$s = /\D{0,2}$/.exec(t), i = parseFloat(t), _$r = o.DPI;
    switch(null == _$s ? void 0 : _$s[0]){
        case "mm":
            return i * _$r / 25.4;
        case "cm":
            return i * _$r / 2.54;
        case "in":
            return i * _$r;
        case "pt":
            return i * _$r / 72;
        case "pc":
            return i * _$r / 72 * 12;
        case "em":
            return i * e;
        default:
            return i;
    }
}, Xe = function(t) {
    var _t_trim_split = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t.trim().split(" "), 2), e = _t_trim_split[0], _$s = _t_trim_split[1], _ref = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((n = e) && n !== j ? [
        n.slice(1, 4),
        n.slice(5, 8)
    ] : n === j ? [
        n,
        n
    ] : [
        "Mid",
        "Mid"
    ], 2), i = _ref[0], _$r = _ref[1];
    var n;
    return {
        meetOrSlice: _$s || "meet",
        alignX: i,
        alignY: _$r
    };
}, Ye = function Ye(t, e) {
    var _$s, i, _$r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
    if (e) if (e.toLive) _$s = "url(#SVGID_".concat(e.id, ")");
    else {
        var _$t = new Ie(e), _$r1 = _$t.getAlpha();
        _$s = _$t.toRgb(), 1 !== _$r1 && (i = _$r1.toString());
    }
    else _$s = "none";
    return _$r ? "".concat(t, ": ").concat(_$s, "; ").concat(i ? "".concat(t, "-opacity: ").concat(i, "; ") : "") : "".concat(t, '="').concat(_$s, '" ').concat(i ? "".concat(t, '-opacity="').concat(i, '" ') : "");
};
var We = /*#__PURE__*/ function() {
    "use strict";
    function We() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, We);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(We, [
        {
            key: "getSvgStyles",
            value: function getSvgStyles(t) {
                var e = this.fillRule ? this.fillRule : "nonzero", _$s = this.strokeWidth ? this.strokeWidth : "0", i = this.strokeDashArray ? this.strokeDashArray.join(" ") : j, _$r = this.strokeDashOffset ? this.strokeDashOffset : "0", n = this.strokeLineCap ? this.strokeLineCap : "butt", o = this.strokeLineJoin ? this.strokeLineJoin : "miter", a = this.strokeMiterLimit ? this.strokeMiterLimit : "4", h = void 0 !== this.opacity ? this.opacity : "1", c = this.visible ? "" : " visibility: hidden;", l = t ? "" : this.getSvgFilter(), u = Ye(K, this.fill);
                return [
                    Ye(J, this.stroke),
                    "stroke-width: ",
                    _$s,
                    "; ",
                    "stroke-dasharray: ",
                    i,
                    "; ",
                    "stroke-linecap: ",
                    n,
                    "; ",
                    "stroke-dashoffset: ",
                    _$r,
                    "; ",
                    "stroke-linejoin: ",
                    o,
                    "; ",
                    "stroke-miterlimit: ",
                    a,
                    "; ",
                    u,
                    "fill-rule: ",
                    e,
                    "; ",
                    "opacity: ",
                    h,
                    ";",
                    l,
                    c
                ].join("");
            }
        },
        {
            key: "getSvgFilter",
            value: function getSvgFilter() {
                return this.shadow ? "filter: url(#SVGID_".concat(this.shadow.id, ");") : "";
            }
        },
        {
            key: "getSvgCommons",
            value: function getSvgCommons() {
                return [
                    this.id ? 'id="'.concat(this.id, '" ') : "",
                    this.clipPath ? 'clip-path="url(#'.concat(this.clipPath.clipPathId, ')" ') : ""
                ].join("");
            }
        },
        {
            key: "getSvgTransform",
            value: function getSvgTransform(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                var _$s = t ? this.calcTransformMatrix() : this.calcOwnMatrix(), i = 'transform="'.concat(zt(_$s));
                return "".concat(i).concat(e, '" ');
            }
        },
        {
            key: "_toSVG",
            value: function _toSVG(t) {
                return [
                    ""
                ];
            }
        },
        {
            key: "toSVG",
            value: function toSVG(t) {
                return this._createBaseSVGMarkup(this._toSVG(t), {
                    reviver: t
                });
            }
        },
        {
            key: "toClipPathSVG",
            value: function toClipPathSVG(t) {
                return "\t" + this._createBaseClipPathSVGMarkup(this._toSVG(t), {
                    reviver: t
                });
            }
        },
        {
            key: "_createBaseClipPathSVGMarkup",
            value: function _createBaseClipPathSVGMarkup(t) {
                var _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = _ref.reviver, tmp = _ref.additionalTransform, _$s = tmp === void 0 ? "" : tmp;
                var i = [
                    this.getSvgTransform(!0, _$s),
                    this.getSvgCommons()
                ].join(""), _$r = t.indexOf("COMMON_PARTS");
                return t[_$r] = i, e ? e(t.join("")) : t.join("");
            }
        },
        {
            key: "_createBaseSVGMarkup",
            value: function _createBaseSVGMarkup(t) {
                var _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = _ref.noStyle, _$s = _ref.reviver, i = _ref.withShadow, _$r = _ref.additionalTransform;
                var n = e ? "" : 'style="'.concat(this.getSvgStyles(), '" '), o = i ? 'style="'.concat(this.getSvgFilter(), '" ') : "", a = this.clipPath, h = this.strokeUniform ? 'vector-effect="non-scaling-stroke" ' : "", c = a && a.absolutePositioned, l = this.stroke, u = this.fill, d = this.shadow, g = [], f = t.indexOf("COMMON_PARTS");
                var p;
                a && (a.clipPathId = "CLIPPATH_".concat(ft()), p = '<clipPath id="'.concat(a.clipPathId, '" >\n').concat(a.toClipPathSVG(_$s), "</clipPath>\n")), c && g.push("<g ", o, this.getSvgCommons(), " >\n"), g.push("<g ", this.getSvgTransform(!1), c ? "" : o + this.getSvgCommons(), " >\n");
                var m = [
                    n,
                    h,
                    e ? "" : this.addPaintOrder(),
                    " ",
                    _$r ? 'transform="'.concat(_$r, '" ') : ""
                ].join("");
                return t[f] = m, Gt(u) && g.push(u.toSVG(this)), Gt(l) && g.push(l.toSVG(this)), d && g.push(d.toSVG(this)), a && g.push(p), g.push(t.join("")), g.push("</g>\n"), c && g.push("</g>\n"), _$s ? _$s(g.join("")) : g.join("");
            }
        },
        {
            key: "addPaintOrder",
            value: function addPaintOrder() {
                return this.paintFirst !== K ? ' paint-order="'.concat(this.paintFirst, '" ') : "";
            }
        }
    ]);
    return We;
}();
function Ve(t) {
    return new RegExp("^(" + t.join("|") + ")\\b", "i");
}
var ze = "textDecorationThickness", Ge = [
    "fontSize",
    "fontWeight",
    "fontFamily",
    "fontStyle"
], He = [
    "underline",
    "overline",
    "linethrough"
], Ne = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ge).concat([
    "lineHeight",
    "text",
    "charSpacing",
    "textAlign",
    "styles",
    "path",
    "pathStartOffset",
    "pathSide",
    "pathAlign"
]), Ue = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ne).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(He), [
    "textBackgroundColor",
    "direction",
    ze
]), qe = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ge).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(He), [
    J,
    "strokeWidth",
    K,
    "deltaY",
    "textBackgroundColor",
    ze
]), Ke = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_define_property$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])({
    _reNewline: F,
    _reSpacesAndTabs: /[ \t\r]/g,
    _reSpaceAndTab: /[ \t\r]/,
    _reWords: /\S+/g,
    fontSize: 40,
    fontWeight: "normal",
    fontFamily: "Times New Roman",
    underline: !1,
    overline: !1,
    linethrough: !1,
    textAlign: M,
    fontStyle: "normal",
    lineHeight: 1.16,
    textBackgroundColor: "",
    stroke: null,
    shadow: null,
    path: void 0,
    pathStartOffset: 0,
    pathSide: M,
    pathAlign: "baseline",
    charSpacing: 0,
    deltaY: 0,
    direction: "ltr",
    CACHE_FONT_SIZE: 400,
    MIN_TEXT_WIDTH: 2,
    superscript: {
        size: .6,
        baseline: -.35
    },
    subscript: {
        size: .6,
        baseline: .11
    },
    _fontSizeFraction: .222,
    offsets: {
        underline: .1,
        linethrough: -.28167,
        overline: -.81333
    },
    _fontSizeMult: 1.13
}, ze, 66.667), Je = "justify", Qe = "justify-left", Ze = "justify-right", $e = "justify-center";
var ts, es, ss;
var is = String.raw(ts || (ts = r([
    "[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"
], [
    "[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"
]))), rs = String.raw(es || (es = r([
    "(?:s*,?s+|s*,s*)"
], [
    "(?:\\s*,?\\s+|\\s*,\\s*)"
]))), ns = "http://www.w3.org/2000/svg", os = new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*(" + is + "(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|" + is + "))?\\s+(.*)"), as = {
    cx: M,
    x: M,
    r: "radius",
    cy: P,
    y: P,
    display: "visible",
    visibility: "visible",
    transform: "transformMatrix",
    "fill-opacity": "fillOpacity",
    "fill-rule": "fillRule",
    "font-family": "fontFamily",
    "font-size": "fontSize",
    "font-style": "fontStyle",
    "font-weight": "fontWeight",
    "letter-spacing": "charSpacing",
    "paint-order": "paintFirst",
    "stroke-dasharray": "strokeDashArray",
    "stroke-dashoffset": "strokeDashOffset",
    "stroke-linecap": "strokeLineCap",
    "stroke-linejoin": "strokeLineJoin",
    "stroke-miterlimit": "strokeMiterLimit",
    "stroke-opacity": "strokeOpacity",
    "stroke-width": "strokeWidth",
    "text-decoration": "textDecoration",
    "text-anchor": "textAnchor",
    opacity: "opacity",
    "clip-path": "clipPath",
    "clip-rule": "clipRule",
    "vector-effect": "strokeUniform",
    "image-rendering": "imageSmoothing",
    "text-decoration-thickness": ze
}, hs = "font-size", cs = "clip-path", ls = Ve([
    "path",
    "circle",
    "polygon",
    "polyline",
    "ellipse",
    "rect",
    "line",
    "image",
    "text"
]), us = Ve([
    "symbol",
    "image",
    "marker",
    "pattern",
    "view",
    "svg"
]), ds = Ve([
    "symbol",
    "g",
    "a",
    "svg",
    "clipPath",
    "defs"
]), gs = new RegExp(String.raw(ss || (ss = r([
    "^s*(",
    ")",
    "(",
    ")",
    "(",
    ")",
    "(",
    ")s*$"
], [
    "^\\s*(",
    ")",
    "(",
    ")",
    "(",
    ")",
    "(",
    ")\\s*$"
])), is, rs, is, rs, is, rs, is)), fs = new ot(1, 0), ps = new ot, ms = function(t, e) {
    return t.rotate(e);
}, vs = function(t, e) {
    return new ot(e).subtract(t);
}, ys = function(t) {
    return t.distanceFrom(ps);
}, _s = function(t, e) {
    return Math.atan2(Ss(t, e), ws(t, e));
}, xs = function(t) {
    return _s(fs, t);
}, Cs = function(t) {
    return t.eq(ps) ? t : t.scalarDivide(ys(t));
}, bs = function bs(t) {
    var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
    return Cs(new ot(-t.y, t.x).scalarMultiply(e ? 1 : -1));
}, Ss = function(t, e) {
    return t.x * e.y - t.y * e.x;
}, ws = function(t, e) {
    return t.x * e.x + t.y * e.y;
}, Ts = function(t, e, s) {
    if (t.eq(e) || t.eq(s)) return !0;
    var i = Ss(e, s), _$r = Ss(e, t), n = Ss(s, t);
    return i >= 0 ? _$r >= 0 && n <= 0 : !(_$r <= 0 && n >= 0);
}, Os = "(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?", ks = new RegExp("(?:\\s|^)" + Os + Os + "(" + is + "?(?:px)?)?(?:\\s?|$)(?:$|\\s)");
var Ds = /*#__PURE__*/ function() {
    "use strict";
    function Ds(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ds);
        var e = "string" == typeof t ? Ds.parseShadow(t) : t;
        Object.assign(this, Ds.ownDefaults, e), this.id = ft();
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ds, [
        {
            key: "toString",
            value: function toString() {
                return [
                    this.offsetX,
                    this.offsetY,
                    this.blur,
                    this.color
                ].join("px ");
            }
        },
        {
            key: "toSVG",
            value: function toSVG(t) {
                var e = ms(new ot(this.offsetX, this.offsetY), xt(-t.angle)), _$s = new Ie(this.color);
                var i = 40, _$r = 40;
                return t.width && t.height && (i = 100 * Vt((Math.abs(e.x) + this.blur) / t.width, o.NUM_FRACTION_DIGITS) + 20, _$r = 100 * Vt((Math.abs(e.y) + this.blur) / t.height, o.NUM_FRACTION_DIGITS) + 20), t.flipX && (e.x *= -1), t.flipY && (e.y *= -1), '<filter id="SVGID_'.concat(this.id, '" y="-').concat(_$r, '%" height="').concat(100 + 2 * _$r, '%" x="-').concat(i, '%" width="').concat(100 + 2 * i, '%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="').concat(Vt(this.blur ? this.blur / 2 : 0, o.NUM_FRACTION_DIGITS), '"></feGaussianBlur>\n\t<feOffset dx="').concat(Vt(e.x, o.NUM_FRACTION_DIGITS), '" dy="').concat(Vt(e.y, o.NUM_FRACTION_DIGITS), '" result="oBlur" ></feOffset>\n\t<feFlood flood-color="').concat(_$s.toRgb(), '" flood-opacity="').concat(_$s.getAlpha(), '"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n');
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = {
                    color: this.color,
                    blur: this.blur,
                    offsetX: this.offsetX,
                    offsetY: this.offsetY,
                    affectStroke: this.affectStroke,
                    nonScaling: this.nonScaling,
                    type: this.constructor.type
                }, e = Ds.ownDefaults;
                return this.includeDefaultValues ? _$t : Wt(_$t, function(t, s) {
                    return t !== e[s];
                });
            }
        }
    ], [
        {
            key: "parseShadow",
            value: function parseShadow(t) {
                var e = t.trim(), _map = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((ks.exec(e) || []).map(function(t) {
                    return parseFloat(t) || 0;
                }), 4), tmp = _map[1], _$s = tmp === void 0 ? 0 : tmp, tmp1 = _map[2], i = tmp1 === void 0 ? 0 : tmp1, tmp2 = _map[3], _$r = tmp2 === void 0 ? 0 : tmp2;
                return {
                    color: (e.replace(ks, "") || "rgb(0,0,0)").trim(),
                    offsetX: _$s,
                    offsetY: i,
                    blur: _$r
                };
            }
        },
        {
            key: "fromObject",
            value: function fromObject(t) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        return [
                            2,
                            new this(t)
                        ];
                    });
                }).call(this);
            }
        }
    ]);
    return Ds;
}();
t(Ds, "ownDefaults", {
    color: "rgb(0,0,0)",
    blur: 0,
    offsetX: 0,
    offsetY: 0,
    affectStroke: !1,
    includeDefaultValues: !0,
    nonScaling: !1
}), t(Ds, "type", "shadow"), tt.setClass(Ds, "shadow");
var Ms = function(t, e, s) {
    return Math.max(t, Math.min(e, s));
}, Ps = [
    P,
    M,
    H,
    N,
    "flipX",
    "flipY",
    "originX",
    "originY",
    "angle",
    "opacity",
    "globalCompositeOperation",
    "shadow",
    "visible",
    U,
    q
], Es = [
    K,
    J,
    "strokeWidth",
    "strokeDashArray",
    "width",
    "height",
    "paintFirst",
    "strokeUniform",
    "strokeLineCap",
    "strokeDashOffset",
    "strokeLineJoin",
    "strokeMiterLimit",
    "backgroundColor",
    "clipPath"
], As = {
    top: 0,
    left: 0,
    width: 0,
    height: 0,
    angle: 0,
    flipX: !1,
    flipY: !1,
    scaleX: 1,
    scaleY: 1,
    minScaleLimit: 0,
    skewX: 0,
    skewY: 0,
    originX: M,
    originY: P,
    strokeWidth: 1,
    strokeUniform: !1,
    padding: 0,
    opacity: 1,
    paintFirst: K,
    fill: "rgb(0,0,0)",
    fillRule: "nonzero",
    stroke: null,
    strokeDashArray: null,
    strokeDashOffset: 0,
    strokeLineCap: "butt",
    strokeLineJoin: "miter",
    strokeMiterLimit: 4,
    globalCompositeOperation: "source-over",
    backgroundColor: "",
    shadow: null,
    visible: !0,
    includeDefaultValues: !0,
    excludeFromExport: !1,
    objectCaching: !0,
    clipPath: void 0,
    inverted: !1,
    absolutePositioned: !1,
    centeredRotation: !0,
    centeredScaling: !1,
    dirty: !0
}, js = function(t, e, s, i) {
    return t < Math.abs(e) ? (t = e, i = s / 4) : i = 0 === e && 0 === t ? s / S * Math.asin(1) : s / S * Math.asin(e / t), {
        a: t,
        c: e,
        p: s,
        s: i
    };
}, Fs = function(t, e, s, i, r) {
    return t * Math.pow(2, 10 * (i -= 1)) * Math.sin((i * r - e) * S / s);
}, Ls = function(t, e, s, i) {
    return -s * Math.cos(t / i * b) + s + e;
}, Rs = function(t, e, s, i) {
    return (t /= i) < 1 / 2.75 ? s * (7.5625 * t * t) + e : t < 2 / 2.75 ? s * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + e : t < 2.5 / 2.75 ? s * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + e : s * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + e;
}, Is = function(t, e, s, i) {
    return s - Rs(i - t, 0, s, i) + e;
};
var Bs = Object.freeze({
    __proto__: null,
    defaultEasing: Ls,
    easeInBack: function easeInBack(t, e, s, i) {
        var _$r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1.70158;
        return s * (t /= i) * t * ((_$r + 1) * t - _$r) + e;
    },
    easeInBounce: Is,
    easeInCirc: function(t, e, s, i) {
        return -s * (Math.sqrt(1 - (t /= i) * t) - 1) + e;
    },
    easeInCubic: function(t, e, s, i) {
        return s * Math.pow(t / i, 3) + e;
    },
    easeInElastic: function(t, e, s, i) {
        var _$r = s;
        var n = 0;
        if (0 === t) return e;
        if (1 === (t /= i)) return e + s;
        n || (n = .3 * i);
        var _js = js(_$r, s, n, 1.70158), o = _js.a, a = _js.s, h = _js.p;
        return -Fs(o, a, h, t, i) + e;
    },
    easeInExpo: function(t, e, s, i) {
        return 0 === t ? e : s * Math.pow(2, 10 * (t / i - 1)) + e;
    },
    easeInOutBack: function easeInOutBack(t, e, s, i) {
        var _$r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1.70158;
        return (t /= i / 2) < 1 ? s / 2 * (t * t * ((1 + (_$r *= 1.525)) * t - _$r)) + e : s / 2 * ((t -= 2) * t * ((1 + (_$r *= 1.525)) * t + _$r) + 2) + e;
    },
    easeInOutBounce: function(t, e, s, i) {
        return t < i / 2 ? .5 * Is(2 * t, 0, s, i) + e : .5 * Rs(2 * t - i, 0, s, i) + .5 * s + e;
    },
    easeInOutCirc: function(t, e, s, i) {
        return (t /= i / 2) < 1 ? -s / 2 * (Math.sqrt(1 - Math.pow(t, 2)) - 1) + e : s / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + e;
    },
    easeInOutCubic: function(t, e, s, i) {
        return (t /= i / 2) < 1 ? s / 2 * Math.pow(t, 3) + e : s / 2 * (Math.pow(t - 2, 3) + 2) + e;
    },
    easeInOutElastic: function(t, e, s, i) {
        var _$r = s;
        var n = 0;
        if (0 === t) return e;
        if (2 === (t /= i / 2)) return e + s;
        n || (n = i * (.3 * 1.5));
        var _js = js(_$r, s, n, 1.70158), o = _js.a, a = _js.s, h = _js.p, c = _js.c;
        return t < 1 ? -.5 * Fs(o, a, h, t, i) + e : o * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * i - a) * S / h) * .5 + c + e;
    },
    easeInOutExpo: function(t, e, s, i) {
        return 0 === t ? e : t === i ? e + s : (t /= i / 2) < 1 ? s / 2 * Math.pow(2, 10 * (t - 1)) + e : s / 2 * -(Math.pow(2, -10 * --t) + 2) + e;
    },
    easeInOutQuad: function(t, e, s, i) {
        return (t /= i / 2) < 1 ? s / 2 * Math.pow(t, 2) + e : -s / 2 * (--t * (t - 2) - 1) + e;
    },
    easeInOutQuart: function(t, e, s, i) {
        return (t /= i / 2) < 1 ? s / 2 * Math.pow(t, 4) + e : -s / 2 * ((t -= 2) * Math.pow(t, 3) - 2) + e;
    },
    easeInOutQuint: function(t, e, s, i) {
        return (t /= i / 2) < 1 ? s / 2 * Math.pow(t, 5) + e : s / 2 * (Math.pow(t - 2, 5) + 2) + e;
    },
    easeInOutSine: function(t, e, s, i) {
        return -s / 2 * (Math.cos(Math.PI * t / i) - 1) + e;
    },
    easeInQuad: function(t, e, s, i) {
        return s * (t /= i) * t + e;
    },
    easeInQuart: function(t, e, s, i) {
        return s * (t /= i) * Math.pow(t, 3) + e;
    },
    easeInQuint: function(t, e, s, i) {
        return s * Math.pow(t / i, 5) + e;
    },
    easeInSine: function(t, e, s, i) {
        return -s * Math.cos(t / i * b) + s + e;
    },
    easeOutBack: function easeOutBack(t, e, s, i) {
        var _$r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 1.70158;
        return s * ((t = t / i - 1) * t * ((_$r + 1) * t + _$r) + 1) + e;
    },
    easeOutBounce: Rs,
    easeOutCirc: function(t, e, s, i) {
        return s * Math.sqrt(1 - (t = t / i - 1) * t) + e;
    },
    easeOutCubic: function(t, e, s, i) {
        return s * (Math.pow(t / i - 1, 3) + 1) + e;
    },
    easeOutElastic: function(t, e, s, i) {
        var _$r = s;
        var n = 0;
        if (0 === t) return e;
        if (1 === (t /= i)) return e + s;
        n || (n = .3 * i);
        var _js = js(_$r, s, n, 1.70158), o = _js.a, a = _js.s, h = _js.p, c = _js.c;
        return o * Math.pow(2, -10 * t) * Math.sin((t * i - a) * S / h) + c + e;
    },
    easeOutExpo: function(t, e, s, i) {
        return t === i ? e + s : s * -(Math.pow(2, -10 * t / i) + 1) + e;
    },
    easeOutQuad: function(t, e, s, i) {
        return -s * (t /= i) * (t - 2) + e;
    },
    easeOutQuart: function(t, e, s, i) {
        return -s * ((t = t / i - 1) * Math.pow(t, 3) - 1) + e;
    },
    easeOutQuint: function(t, e, s, i) {
        return s * (Math.pow(t / i - 1, 5) + 1) + e;
    },
    easeOutSine: function(t, e, s, i) {
        return s * Math.sin(t / i * b) + e;
    }
});
var Xs = function() {
    return !1;
};
var Ys = /*#__PURE__*/ function() {
    "use strict";
    function Ys(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ys);
        var _$s = e.startValue, i = e.byValue, tmp = e.duration, _$r = tmp === void 0 ? 500 : tmp, tmp1 = e.delay, n = tmp1 === void 0 ? 0 : tmp1, tmp2 = e.easing, o = tmp2 === void 0 ? Ls : tmp2, tmp3 = e.onStart, a = tmp3 === void 0 ? C : tmp3, tmp4 = e.onChange, h = tmp4 === void 0 ? C : tmp4, tmp5 = e.onComplete, c = tmp5 === void 0 ? C : tmp5, tmp6 = e.abort, l = tmp6 === void 0 ? Xs : tmp6, u = e.target;
        t(this, "_state", "pending"), t(this, "durationProgress", 0), t(this, "valueProgress", 0), this.tick = this.tick.bind(this), this.duration = _$r, this.delay = n, this.easing = o, this._onStart = a, this._onChange = h, this._onComplete = c, this._abort = l, this.target = u, this.startValue = _$s, this.byValue = i, this.value = this.startValue, this.endValue = Object.freeze(this.calculate(this.duration).value);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ys, [
        {
            key: "state",
            get: function get() {
                return this._state;
            }
        },
        {
            key: "isDone",
            value: function isDone() {
                return "aborted" === this._state || "completed" === this._state;
            }
        },
        {
            key: "start",
            value: function start() {
                var _this = this;
                var _$t = function(t) {
                    "pending" === _this._state && (_this.startTime = t || +new Date, _this._state = "running", _this._onStart(), _this.tick(_this.startTime));
                };
                this.register(), this.delay > 0 ? setTimeout(function() {
                    return ut(_$t);
                }, this.delay) : ut(_$t);
            }
        },
        {
            key: "tick",
            value: function tick(t) {
                var e = (t || +new Date) - this.startTime, _$s = Math.min(e, this.duration);
                this.durationProgress = _$s / this.duration;
                var _this_calculate = this.calculate(_$s), i = _this_calculate.value, _$r = _this_calculate.valueProgress;
                this.value = Object.freeze(i), this.valueProgress = _$r, "aborted" !== this._state && (this._abort(this.value, this.valueProgress, this.durationProgress) ? (this._state = "aborted", this.unregister()) : e >= this.duration ? (this.durationProgress = this.valueProgress = 1, this._onChange(this.endValue, this.valueProgress, this.durationProgress), this._state = "completed", this._onComplete(this.endValue, this.valueProgress, this.durationProgress), this.unregister()) : (this._onChange(this.value, this.valueProgress, this.durationProgress), ut(this.tick)));
            }
        },
        {
            key: "register",
            value: function register() {
                et.push(this);
            }
        },
        {
            key: "unregister",
            value: function unregister() {
                et.remove(this);
            }
        },
        {
            key: "abort",
            value: function abort() {
                this._state = "aborted", this.unregister();
            }
        }
    ]);
    return Ys;
}();
var Ws = [
    "startValue",
    "endValue"
];
var Vs = /*#__PURE__*/ function(Ys) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Vs, Ys);
    function Vs(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Vs);
        var tmp = t.startValue, e = tmp === void 0 ? 0 : tmp, tmp1 = t.endValue, _$r = tmp1 === void 0 ? 100 : tmp1;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Vs, [
            s(s({}, i(t, Ws)), {}, {
                startValue: e,
                byValue: _$r - e
            })
        ]);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Vs, [
        {
            key: "calculate",
            value: function calculate(t) {
                var e = this.easing(t, this.startValue, this.byValue, this.duration);
                return {
                    value: e,
                    valueProgress: Math.abs((e - this.startValue) / this.byValue)
                };
            }
        }
    ]);
    return Vs;
}(Ys);
var zs = [
    "startValue",
    "endValue"
];
var Gs = /*#__PURE__*/ function(Ys) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Gs, Ys);
    function Gs(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Gs);
        var tmp = t.startValue, e = tmp === void 0 ? [
            0
        ] : tmp, tmp1 = t.endValue, _$r = tmp1 === void 0 ? [
            100
        ] : tmp1;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Gs, [
            s(s({}, i(t, zs)), {}, {
                startValue: e,
                byValue: _$r.map(function(t, s) {
                    return t - e[s];
                })
            })
        ]);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Gs, [
        {
            key: "calculate",
            value: function calculate(t) {
                var _this = this;
                var e = this.startValue.map(function(e, s) {
                    return _this.easing(t, e, _this.byValue[s], _this.duration, s);
                });
                return {
                    value: e,
                    valueProgress: Math.abs((e[0] - this.startValue[0]) / this.byValue[0])
                };
            }
        }
    ]);
    return Gs;
}(Ys);
var Hs = [
    "startValue",
    "endValue",
    "easing",
    "onChange",
    "onComplete",
    "abort"
], Ns = function(t, e, s, i) {
    return e + s * (1 - Math.cos(t / i * b));
}, Us = function(t) {
    return t && function(e, s, i) {
        return t(new Ie(e).toRgba(), s, i);
    };
};
var qs = /*#__PURE__*/ function(Ys) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(qs, Ys);
    function qs(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, qs);
        var e = t.startValue, _$r = t.endValue, tmp = t.easing, n = tmp === void 0 ? Ns : tmp, o = t.onChange, a = t.onComplete, h = t.abort, c = i(t, Hs);
        var l = new Ie(e).getSource(), u = new Ie(_$r).getSource();
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, qs, [
            s(s({}, c), {}, {
                startValue: l,
                byValue: u.map(function(t, e) {
                    return t - l[e];
                }),
                easing: n,
                onChange: Us(o),
                onComplete: Us(a),
                abort: Us(h)
            })
        ]);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(qs, [
        {
            key: "calculate",
            value: function calculate(t) {
                var _this = this;
                var _this_startValue_map = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.startValue.map(function(e, s) {
                    return _this.easing(t, e, _this.byValue[s], _this.duration, s);
                }), 4), e = _this_startValue_map[0], _$s = _this_startValue_map[1], i = _this_startValue_map[2], _$r = _this_startValue_map[3], n = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])([
                    e,
                    _$s,
                    i
                ].map(Math.round)).concat([
                    Ms(0, _$r, 1)
                ]);
                return {
                    value: n,
                    valueProgress: n.map(function(t, e) {
                        return 0 !== _this.byValue[e] ? Math.abs((t - _this.startValue[e]) / _this.byValue[e]) : 0;
                    }).find(function(t) {
                        return 0 !== t;
                    }) || 0
                };
            }
        }
    ]);
    return qs;
}(Ys);
function Ks(t) {
    var e = function(t) {
        return Array.isArray(t.startValue) || Array.isArray(t.endValue);
    }(t) ? new Gs(t) : new Vs(t);
    return e.start(), e;
}
function Js(t) {
    var e = new qs(t);
    return e.start(), e;
}
var Qs = /*#__PURE__*/ function() {
    "use strict";
    function Qs(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Qs);
        this.status = t, this.points = [];
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Qs, [
        {
            key: "includes",
            value: function includes(t) {
                return this.points.some(function(e) {
                    return e.eq(t);
                });
            }
        },
        {
            key: "append",
            value: function append() {
                var _this = this;
                for(var _$t = arguments.length, e = new Array(_$t), _$s = 0; _$s < _$t; _$s++)e[_$s] = arguments[_$s];
                return this.points = this.points.concat(e.filter(function(t) {
                    return !_this.includes(t);
                })), this;
            }
        }
    ], [
        {
            key: "isPointContained",
            value: function isPointContained(t, e, s) {
                var i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                if (e.eq(s)) return t.eq(e);
                if (e.x === s.x) return t.x === e.x && (i || t.y >= Math.min(e.y, s.y) && t.y <= Math.max(e.y, s.y));
                if (e.y === s.y) return t.y === e.y && (i || t.x >= Math.min(e.x, s.x) && t.x <= Math.max(e.x, s.x));
                {
                    var _$r = vs(e, s), n = vs(e, t).divide(_$r);
                    return i ? Math.abs(n.x) === Math.abs(n.y) : n.x === n.y && n.x >= 0 && n.x <= 1;
                }
            }
        },
        {
            key: "isPointInPolygon",
            value: function isPointInPolygon(t, e) {
                var _Math;
                var _$s = new ot(t).setX((_Math = Math).min.apply(_Math, [
                    t.x - 1
                ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e.map(function(t) {
                    return t.x;
                })))));
                var i = 0;
                for(var _$r = 0; _$r < e.length; _$r++){
                    var n = this.intersectSegmentSegment(e[_$r], e[(_$r + 1) % e.length], t, _$s);
                    if (n.includes(t)) return !0;
                    i += Number("Intersection" === n.status);
                }
                return i % 2 == 1;
            }
        },
        {
            key: "intersectLineLine",
            value: function intersectLineLine(t, e, s, i) {
                var _$r = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4], n = !(arguments.length > 5 && void 0 !== arguments[5]) || arguments[5];
                var o = e.x - t.x, a = e.y - t.y, h = i.x - s.x, c = i.y - s.y, l = t.x - s.x, u = t.y - s.y, d = h * u - c * l, g = o * u - a * l, f = c * o - h * a;
                if (0 !== f) {
                    var _$e = d / f, _$s = g / f;
                    return (_$r || 0 <= _$e && _$e <= 1) && (n || 0 <= _$s && _$s <= 1) ? new Qs("Intersection").append(new ot(t.x + _$e * o, t.y + _$e * a)) : new Qs;
                }
                if (0 === d || 0 === g) {
                    var o1 = _$r || n || Qs.isPointContained(t, s, i) || Qs.isPointContained(e, s, i) || Qs.isPointContained(s, t, e) || Qs.isPointContained(i, t, e);
                    return new Qs(o1 ? "Coincident" : void 0);
                }
                return new Qs("Parallel");
            }
        },
        {
            key: "intersectSegmentLine",
            value: function intersectSegmentLine(t, e, s, i) {
                return Qs.intersectLineLine(t, e, s, i, !1, !0);
            }
        },
        {
            key: "intersectSegmentSegment",
            value: function intersectSegmentSegment(t, e, s, i) {
                return Qs.intersectLineLine(t, e, s, i, !1, !1);
            }
        },
        {
            key: "intersectLinePolygon",
            value: function intersectLinePolygon(t, e, s) {
                var i = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
                var _$r = new Qs, n = s.length;
                for(var o, a, h, c = 0; c < n; c++){
                    var _r;
                    if (o = s[c], a = s[(c + 1) % n], h = Qs.intersectLineLine(t, e, o, a, i, !1), "Coincident" === h.status) return h;
                    (_r = _$r).append.apply(_r, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(h.points));
                }
                return _$r.points.length > 0 && (_$r.status = "Intersection"), _$r;
            }
        },
        {
            key: "intersectSegmentPolygon",
            value: function intersectSegmentPolygon(t, e, s) {
                return Qs.intersectLinePolygon(t, e, s, !1);
            }
        },
        {
            key: "intersectPolygonPolygon",
            value: function intersectPolygonPolygon(t, e) {
                var _$s = new Qs, i = t.length, _$r = [];
                for(var n = 0; n < i; n++){
                    var _s;
                    var o = t[n], a = t[(n + 1) % i], h = Qs.intersectSegmentPolygon(o, a, e);
                    "Coincident" === h.status ? (_$r.push(h), _$s.append(o, a)) : (_s = _$s).append.apply(_s, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(h.points));
                }
                return _$r.length > 0 && _$r.length === t.length ? new Qs("Coincident") : (_$s.points.length > 0 && (_$s.status = "Intersection"), _$s);
            }
        },
        {
            key: "intersectPolygonRectangle",
            value: function intersectPolygonRectangle(t, e, s) {
                var i = e.min(s), _$r = e.max(s), n = new ot(_$r.x, i.y), o = new ot(i.x, _$r.y);
                return Qs.intersectPolygonPolygon(t, [
                    i,
                    n,
                    _$r,
                    o
                ]);
            }
        }
    ]);
    return Qs;
}();
var Zs = /*#__PURE__*/ function(lt) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Zs, lt);
    function Zs() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Zs);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Zs, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Zs, [
        {
            key: "getX",
            value: function getX() {
                return this.getXY().x;
            }
        },
        {
            key: "setX",
            value: function setX(t) {
                this.setXY(this.getXY().setX(t));
            }
        },
        {
            key: "getY",
            value: function getY() {
                return this.getXY().y;
            }
        },
        {
            key: "setY",
            value: function setY(t) {
                this.setXY(this.getXY().setY(t));
            }
        },
        {
            key: "getRelativeX",
            value: function getRelativeX() {
                return this.left;
            }
        },
        {
            key: "setRelativeX",
            value: function setRelativeX(t) {
                this.left = t;
            }
        },
        {
            key: "getRelativeY",
            value: function getRelativeY() {
                return this.top;
            }
        },
        {
            key: "setRelativeY",
            value: function setRelativeY(t) {
                this.top = t;
            }
        },
        {
            key: "getXY",
            value: function getXY() {
                var _$t = this.getRelativeXY();
                return this.group ? St(_$t, this.group.calcTransformMatrix()) : _$t;
            }
        },
        {
            key: "setXY",
            value: function setXY(t, e, s) {
                this.group && (t = St(t, wt(this.group.calcTransformMatrix()))), this.setRelativeXY(t, e, s);
            }
        },
        {
            key: "getRelativeXY",
            value: function getRelativeXY() {
                return new ot(this.left, this.top);
            }
        },
        {
            key: "setRelativeXY",
            value: function setRelativeXY(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.originX, _$s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.originY;
                this.setPositionByOrigin(t, e, _$s);
            }
        },
        {
            key: "isStrokeAccountedForInDimensions",
            value: function isStrokeAccountedForInDimensions() {
                return !1;
            }
        },
        {
            key: "getCoords",
            value: function getCoords() {
                var _ref = this.aCoords || (this.aCoords = this.calcACoords()), _$t = _ref.tl, e = _ref.tr, _$s = _ref.br, i = _ref.bl, _$r = [
                    _$t,
                    e,
                    _$s,
                    i
                ];
                if (this.group) {
                    var _$t1 = this.group.calcTransformMatrix();
                    return _$r.map(function(e) {
                        return St(e, _$t1);
                    });
                }
                return _$r;
            }
        },
        {
            key: "intersectsWithRect",
            value: function intersectsWithRect(t, e) {
                return "Intersection" === Qs.intersectPolygonRectangle(this.getCoords(), t, e).status;
            }
        },
        {
            key: "intersectsWithObject",
            value: function intersectsWithObject(t) {
                var e = Qs.intersectPolygonPolygon(this.getCoords(), t.getCoords());
                return "Intersection" === e.status || "Coincident" === e.status || t.isContainedWithinObject(this) || this.isContainedWithinObject(t);
            }
        },
        {
            key: "isContainedWithinObject",
            value: function isContainedWithinObject(t) {
                return this.getCoords().every(function(e) {
                    return t.containsPoint(e);
                });
            }
        },
        {
            key: "isContainedWithinRect",
            value: function isContainedWithinRect(t, e) {
                var _this_getBoundingRect = this.getBoundingRect(), _$s = _this_getBoundingRect.left, i = _this_getBoundingRect.top, _$r = _this_getBoundingRect.width, n = _this_getBoundingRect.height;
                return _$s >= t.x && _$s + _$r <= e.x && i >= t.y && i + n <= e.y;
            }
        },
        {
            key: "isOverlapping",
            value: function isOverlapping(t) {
                return this.intersectsWithObject(t) || this.isContainedWithinObject(t) || t.isContainedWithinObject(this);
            }
        },
        {
            key: "containsPoint",
            value: function containsPoint(t) {
                return Qs.isPointInPolygon(t, this.getCoords());
            }
        },
        {
            key: "isOnScreen",
            value: function isOnScreen() {
                if (!this.canvas) return !1;
                var _this_canvas_vptCoords = this.canvas.vptCoords, _$t = _this_canvas_vptCoords.tl, e = _this_canvas_vptCoords.br;
                return !!this.getCoords().some(function(s) {
                    return s.x <= e.x && s.x >= _$t.x && s.y <= e.y && s.y >= _$t.y;
                }) || !!this.intersectsWithRect(_$t, e) || this.containsPoint(_$t.midPointFrom(e));
            }
        },
        {
            key: "isPartiallyOnScreen",
            value: function isPartiallyOnScreen() {
                if (!this.canvas) return !1;
                var _this_canvas_vptCoords = this.canvas.vptCoords, _$t = _this_canvas_vptCoords.tl, e = _this_canvas_vptCoords.br;
                if (this.intersectsWithRect(_$t, e)) return !0;
                return this.getCoords().every(function(s) {
                    return (s.x >= e.x || s.x <= _$t.x) && (s.y >= e.y || s.y <= _$t.y);
                }) && this.containsPoint(_$t.midPointFrom(e));
            }
        },
        {
            key: "getBoundingRect",
            value: function getBoundingRect() {
                return he(this.getCoords());
            }
        },
        {
            key: "getScaledWidth",
            value: function getScaledWidth() {
                return this._getTransformedDimensions().x;
            }
        },
        {
            key: "getScaledHeight",
            value: function getScaledHeight() {
                return this._getTransformedDimensions().y;
            }
        },
        {
            key: "scale",
            value: function scale(t) {
                this._set(H, t), this._set(N, t), this.setCoords();
            }
        },
        {
            key: "scaleToWidth",
            value: function scaleToWidth(t) {
                var e = this.getBoundingRect().width / this.getScaledWidth();
                return this.scale(t / this.width / e);
            }
        },
        {
            key: "scaleToHeight",
            value: function scaleToHeight(t) {
                var e = this.getBoundingRect().height / this.getScaledHeight();
                return this.scale(t / this.height / e);
            }
        },
        {
            key: "getCanvasRetinaScaling",
            value: function getCanvasRetinaScaling() {
                var _$t;
                return (null === (_$t = this.canvas) || void 0 === _$t ? void 0 : _$t.getRetinaScaling()) || 1;
            }
        },
        {
            key: "getTotalAngle",
            value: function getTotalAngle() {
                return this.group ? Ct(kt(this.calcTransformMatrix())) : this.angle;
            }
        },
        {
            key: "getViewportTransform",
            value: function getViewportTransform() {
                var _$t;
                return (null === (_$t = this.canvas) || void 0 === _$t ? void 0 : _$t.viewportTransform) || T.concat();
            }
        },
        {
            key: "calcACoords",
            value: function calcACoords() {
                var _$t = Pt({
                    angle: this.angle
                }), _this_getRelativeCenterPoint = this.getRelativeCenterPoint(), e = _this_getRelativeCenterPoint.x, _$s = _this_getRelativeCenterPoint.y, i = Mt(e, _$s), _$r = Tt(i, _$t), n = this._getTransformedDimensions(), o = n.x / 2, a = n.y / 2;
                return {
                    tl: St({
                        x: -o,
                        y: -a
                    }, _$r),
                    tr: St({
                        x: o,
                        y: -a
                    }, _$r),
                    bl: St({
                        x: -o,
                        y: a
                    }, _$r),
                    br: St({
                        x: o,
                        y: a
                    }, _$r)
                };
            }
        },
        {
            key: "setCoords",
            value: function setCoords() {
                this.aCoords = this.calcACoords();
            }
        },
        {
            key: "transformMatrixKey",
            value: function transformMatrixKey() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], e = [];
                return !_$t && this.group && (e = this.group.transformMatrixKey(_$t)), e.push(this.top, this.left, this.width, this.height, this.scaleX, this.scaleY, this.angle, this.strokeWidth, this.skewX, this.skewY, +this.flipX, +this.flipY, Ce(this.originX), Ce(this.originY)), e;
            }
        },
        {
            key: "calcTransformMatrix",
            value: function calcTransformMatrix() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], e = this.calcOwnMatrix();
                if (_$t || !this.group) return e;
                var _$s = this.transformMatrixKey(_$t), i = this.matrixCache;
                return i && i.key.every(function(t, e) {
                    return t === _$s[e];
                }) ? i.value : (this.group && (e = Tt(this.group.calcTransformMatrix(!1), e)), this.matrixCache = {
                    key: _$s,
                    value: e
                }, e);
            }
        },
        {
            key: "calcOwnMatrix",
            value: function calcOwnMatrix() {
                var _$t = this.transformMatrixKey(!0), e = this.ownMatrixCache;
                if (e && e.key === _$t) return e.value;
                var _$s = this.getRelativeCenterPoint(), i = {
                    angle: this.angle,
                    translateX: _$s.x,
                    translateY: _$s.y,
                    scaleX: this.scaleX,
                    scaleY: this.scaleY,
                    skewX: this.skewX,
                    skewY: this.skewY,
                    flipX: this.flipX,
                    flipY: this.flipY
                }, _$r = Rt(i);
                return this.ownMatrixCache = {
                    key: _$t,
                    value: _$r
                }, _$r;
            }
        },
        {
            key: "_getNonTransformedDimensions",
            value: function _getNonTransformedDimensions() {
                return new ot(this.width, this.height).scalarAdd(this.strokeWidth);
            }
        },
        {
            key: "_calculateCurrentDimensions",
            value: function _calculateCurrentDimensions(t) {
                return this._getTransformedDimensions(t).transform(this.getViewportTransform(), !0).scalarAdd(2 * this.padding);
            }
        },
        {
            key: "_getTransformedDimensions",
            value: function _getTransformedDimensions() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                var e = s({
                    scaleX: this.scaleX,
                    scaleY: this.scaleY,
                    skewX: this.skewX,
                    skewY: this.skewY,
                    width: this.width,
                    height: this.height,
                    strokeWidth: this.strokeWidth
                }, _$t), i = e.strokeWidth;
                var _$r = i, n = 0;
                this.strokeUniform && (_$r = 0, n = i);
                var o = e.width + _$r, a = e.height + _$r;
                var h;
                return h = 0 === e.skewX && 0 === e.skewY ? new ot(o * e.scaleX, a * e.scaleY) : fe(o, a, Lt(e)), h.scalarAdd(n);
            }
        },
        {
            key: "translateToGivenOrigin",
            value: function translateToGivenOrigin(t, e, s, i, r) {
                var n = t.x, o = t.y;
                var a = Ce(i) - Ce(e), h = Ce(r) - Ce(s);
                if (a || h) {
                    var _$t = this._getTransformedDimensions();
                    n += a * _$t.x, o += h * _$t.y;
                }
                return new ot(n, o);
            }
        },
        {
            key: "translateToCenterPoint",
            value: function translateToCenterPoint(t, e, s) {
                if (e === D && s === D) return t;
                var i = this.translateToGivenOrigin(t, e, s, D, D);
                return this.angle ? i.rotate(xt(this.angle), t) : i;
            }
        },
        {
            key: "translateToOriginPoint",
            value: function translateToOriginPoint(t, e, s) {
                var i = this.translateToGivenOrigin(t, D, D, e, s);
                return this.angle ? i.rotate(xt(this.angle), t) : i;
            }
        },
        {
            key: "getCenterPoint",
            value: function getCenterPoint() {
                var _$t = this.getRelativeCenterPoint();
                return this.group ? St(_$t, this.group.calcTransformMatrix()) : _$t;
            }
        },
        {
            key: "getRelativeCenterPoint",
            value: function getRelativeCenterPoint() {
                return this.translateToCenterPoint(new ot(this.left, this.top), this.originX, this.originY);
            }
        },
        {
            key: "getPointByOrigin",
            value: function getPointByOrigin(t, e) {
                return this.translateToOriginPoint(this.getRelativeCenterPoint(), t, e);
            }
        },
        {
            key: "setPositionByOrigin",
            value: function setPositionByOrigin(t, e, s) {
                var i = this.translateToCenterPoint(t, e, s), _$r = this.translateToOriginPoint(i, this.originX, this.originY);
                this.set({
                    left: _$r.x,
                    top: _$r.y
                });
            }
        },
        {
            key: "_getLeftTopCoords",
            value: function _getLeftTopCoords() {
                return this.translateToOriginPoint(this.getRelativeCenterPoint(), M, P);
            }
        }
    ]);
    return Zs;
}(lt);
var $s = [
    "type"
], ti = [
    "extraParam"
];
var ei = /*#__PURE__*/ function(Zs) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, Zs);
    function e(s) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, e);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, e), t(_this, "_cacheContext", null), Object.assign(_this, e.ownDefaults), _this.setOptions(s);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, [
        {
            key: "type",
            get: function get() {
                var _$t = this.constructor.type;
                return "FabricObject" === _$t ? "object" : _$t.toLowerCase();
            },
            set: function set(t) {
                a("warn", "Setting type has no effect", t);
            }
        },
        {
            key: "_createCacheCanvas",
            value: function _createCacheCanvas() {
                this._cacheCanvas = pt(), this._cacheContext = this._cacheCanvas.getContext("2d"), this._updateCacheCanvas(), this.dirty = !0;
            }
        },
        {
            key: "_limitCacheSize",
            value: function _limitCacheSize(t) {
                var _$e = t.width, _$s = t.height, i = o.maxCacheSideLimit, _$r = o.minCacheSideLimit;
                if (_$e <= i && _$s <= i && _$e * _$s <= o.perfLimitSizeTotal) return _$e < _$r && (t.width = _$r), _$s < _$r && (t.height = _$r), t;
                var n = _$e / _$s, __limitDimsByArea = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_.limitDimsByArea(n), 2), a = __limitDimsByArea[0], h = __limitDimsByArea[1], c = Ms(_$r, a, i), l = Ms(_$r, h, i);
                return _$e > c && (t.zoomX /= _$e / c, t.width = c, t.capped = !0), _$s > l && (t.zoomY /= _$s / l, t.height = l, t.capped = !0), t;
            }
        },
        {
            key: "_getCacheCanvasDimensions",
            value: function _getCacheCanvasDimensions() {
                var _$t = this.getTotalObjectScaling(), _$e = this._getTransformedDimensions({
                    skewX: 0,
                    skewY: 0
                }), _$s = _$e.x * _$t.x / this.scaleX, i = _$e.y * _$t.y / this.scaleY;
                return {
                    width: Math.ceil(_$s + 2),
                    height: Math.ceil(i + 2),
                    zoomX: _$t.x,
                    zoomY: _$t.y,
                    x: _$s,
                    y: i
                };
            }
        },
        {
            key: "_updateCacheCanvas",
            value: function _updateCacheCanvas() {
                var _$t = this._cacheCanvas, _$e = this._cacheContext, _this__limitCacheSize = this._limitCacheSize(this._getCacheCanvasDimensions()), _$s = _this__limitCacheSize.width, i = _this__limitCacheSize.height, _$r = _this__limitCacheSize.zoomX, n = _this__limitCacheSize.zoomY, o = _this__limitCacheSize.x, a = _this__limitCacheSize.y, h = _$s !== _$t.width || i !== _$t.height, c = this.zoomX !== _$r || this.zoomY !== n;
                if (!_$t || !_$e) return !1;
                if (h || c) {
                    _$s !== _$t.width || i !== _$t.height ? (_$t.width = _$s, _$t.height = i) : (_$e.setTransform(1, 0, 0, 1, 0, 0), _$e.clearRect(0, 0, _$t.width, _$t.height));
                    var h1 = o / 2, c1 = a / 2;
                    return this.cacheTranslationX = Math.round(_$t.width / 2 - h1) + h1, this.cacheTranslationY = Math.round(_$t.height / 2 - c1) + c1, _$e.translate(this.cacheTranslationX, this.cacheTranslationY), _$e.scale(_$r, n), this.zoomX = _$r, this.zoomY = n, !0;
                }
                return !1;
            }
        },
        {
            key: "setOptions",
            value: function setOptions() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                this._setOptions(_$t);
            }
        },
        {
            key: "transform",
            value: function transform(t) {
                var _$e = this.group && !this.group._transformDone || this.group && this.canvas && t === this.canvas.contextTop, _$s = this.calcTransformMatrix(!_$e);
                t.transform(_$s[0], _$s[1], _$s[2], _$s[3], _$s[4], _$s[5]);
            }
        },
        {
            key: "getObjectScaling",
            value: function getObjectScaling() {
                if (!this.group) return new ot(Math.abs(this.scaleX), Math.abs(this.scaleY));
                var _$t = Dt(this.calcTransformMatrix());
                return new ot(Math.abs(_$t.scaleX), Math.abs(_$t.scaleY));
            }
        },
        {
            key: "getTotalObjectScaling",
            value: function getTotalObjectScaling() {
                var _$t = this.getObjectScaling();
                if (this.canvas) {
                    var _$e = this.canvas.getZoom(), _$s = this.getCanvasRetinaScaling();
                    return _$t.scalarMultiply(_$e * _$s);
                }
                return _$t;
            }
        },
        {
            key: "getObjectOpacity",
            value: function getObjectOpacity() {
                var _$t = this.opacity;
                return this.group && (_$t *= this.group.getObjectOpacity()), _$t;
            }
        },
        {
            key: "_constrainScale",
            value: function _constrainScale(t) {
                return Math.abs(t) < this.minScaleLimit ? t < 0 ? -this.minScaleLimit : this.minScaleLimit : 0 === t ? 1e-4 : t;
            }
        },
        {
            key: "_set",
            value: function _set(t, e) {
                t !== H && t !== N || (e = this._constrainScale(e)), t === H && e < 0 ? (this.flipX = !this.flipX, e *= -1) : "scaleY" === t && e < 0 ? (this.flipY = !this.flipY, e *= -1) : "shadow" !== t || !e || (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_instanceof$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, Ds) || (e = new Ds(e));
                var _$s = this[t] !== e;
                return this[t] = e, _$s && this.constructor.cacheProperties.includes(t) && (this.dirty = !0), this.parent && (this.dirty || _$s && this.constructor.stateProperties.includes(t)) && this.parent._set("dirty", !0), this;
            }
        },
        {
            key: "isNotVisible",
            value: function isNotVisible() {
                return 0 === this.opacity || !this.width && !this.height && 0 === this.strokeWidth || !this.visible;
            }
        },
        {
            key: "render",
            value: function render(t) {
                this.isNotVisible() || this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen() || (t.save(), this._setupCompositeOperation(t), this.drawSelectionBackground(t), this.transform(t), this._setOpacity(t), this._setShadow(t), this.shouldCache() ? (this.renderCache(), this.drawCacheOnCanvas(t)) : (this._removeCacheCanvas(), this.drawObject(t, !1, {}), this.dirty = !1), t.restore());
            }
        },
        {
            key: "drawSelectionBackground",
            value: function drawSelectionBackground(t) {}
        },
        {
            key: "renderCache",
            value: function renderCache(t) {
                if (t = t || {}, this._cacheCanvas && this._cacheContext || this._createCacheCanvas(), this.isCacheDirty() && this._cacheContext) {
                    var _this = this, _$e = _this.zoomX, _$s = _this.zoomY, i = _this.cacheTranslationX, _$r = _this.cacheTranslationY, _this__cacheCanvas = this._cacheCanvas, n = _this__cacheCanvas.width, o = _this__cacheCanvas.height;
                    this.drawObject(this._cacheContext, t.forClipping, {
                        zoomX: _$e,
                        zoomY: _$s,
                        cacheTranslationX: i,
                        cacheTranslationY: _$r,
                        width: n,
                        height: o,
                        parentClipPaths: []
                    }), this.dirty = !1;
                }
            }
        },
        {
            key: "_removeCacheCanvas",
            value: function _removeCacheCanvas() {
                this._cacheCanvas = void 0, this._cacheContext = null;
            }
        },
        {
            key: "hasStroke",
            value: function hasStroke() {
                return this.stroke && "transparent" !== this.stroke && 0 !== this.strokeWidth;
            }
        },
        {
            key: "hasFill",
            value: function hasFill() {
                return this.fill && "transparent" !== this.fill;
            }
        },
        {
            key: "needsItsOwnCache",
            value: function needsItsOwnCache() {
                return !!(this.paintFirst === J && this.hasFill() && this.hasStroke() && this.shadow) || !!this.clipPath;
            }
        },
        {
            key: "shouldCache",
            value: function shouldCache() {
                return this.ownCaching = this.objectCaching && (!this.parent || !this.parent.isOnACache()) || this.needsItsOwnCache(), this.ownCaching;
            }
        },
        {
            key: "willDrawShadow",
            value: function willDrawShadow() {
                return !!this.shadow && (0 !== this.shadow.offsetX || 0 !== this.shadow.offsetY);
            }
        },
        {
            key: "drawClipPathOnCache",
            value: function drawClipPathOnCache(t, e, s) {
                t.save(), e.inverted ? t.globalCompositeOperation = "destination-out" : t.globalCompositeOperation = "destination-in", t.setTransform(1, 0, 0, 1, 0, 0), t.drawImage(s, 0, 0), t.restore();
            }
        },
        {
            key: "drawObject",
            value: function drawObject(t, e, s) {
                var i = this.fill, _$r = this.stroke;
                e ? (this.fill = "black", this.stroke = "", this._setClippingProperties(t)) : this._renderBackground(t), this._render(t), this._drawClipPath(t, this.clipPath, s), this.fill = i, this.stroke = _$r;
            }
        },
        {
            key: "createClipPathLayer",
            value: function createClipPathLayer(t, e) {
                var _$s = vt(e), i = _$s.getContext("2d");
                if (i.translate(e.cacheTranslationX, e.cacheTranslationY), i.scale(e.zoomX, e.zoomY), t._cacheCanvas = _$s, e.parentClipPaths.forEach(function(t) {
                    t.transform(i);
                }), e.parentClipPaths.push(t), t.absolutePositioned) {
                    var _$t = wt(this.calcTransformMatrix());
                    i.transform(_$t[0], _$t[1], _$t[2], _$t[3], _$t[4], _$t[5]);
                }
                return t.transform(i), t.drawObject(i, !0, e), _$s;
            }
        },
        {
            key: "_drawClipPath",
            value: function _drawClipPath(t, e, s) {
                if (!e) return;
                e._transformDone = !0;
                var i = this.createClipPathLayer(e, s);
                this.drawClipPathOnCache(t, e, i);
            }
        },
        {
            key: "drawCacheOnCanvas",
            value: function drawCacheOnCanvas(t) {
                t.scale(1 / this.zoomX, 1 / this.zoomY), t.drawImage(this._cacheCanvas, -this.cacheTranslationX, -this.cacheTranslationY);
            }
        },
        {
            key: "isCacheDirty",
            value: function isCacheDirty() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                if (this.isNotVisible()) return !1;
                var _$e = this._cacheCanvas, _$s = this._cacheContext;
                return !(!_$e || !_$s || _$t || !this._updateCacheCanvas()) || !!(this.dirty || this.clipPath && this.clipPath.absolutePositioned) && (_$e && _$s && !_$t && (_$s.save(), _$s.setTransform(1, 0, 0, 1, 0, 0), _$s.clearRect(0, 0, _$e.width, _$e.height), _$s.restore()), !0);
            }
        },
        {
            key: "_renderBackground",
            value: function _renderBackground(t) {
                if (!this.backgroundColor) return;
                var _$e = this._getNonTransformedDimensions();
                t.fillStyle = this.backgroundColor, t.fillRect(-_$e.x / 2, -_$e.y / 2, _$e.x, _$e.y), this._removeShadow(t);
            }
        },
        {
            key: "_setOpacity",
            value: function _setOpacity(t) {
                this.group && !this.group._transformDone ? t.globalAlpha = this.getObjectOpacity() : t.globalAlpha *= this.opacity;
            }
        },
        {
            key: "_setStrokeStyles",
            value: function _setStrokeStyles(t, e) {
                var _$s = e.stroke;
                _$s && (t.lineWidth = e.strokeWidth, t.lineCap = e.strokeLineCap, t.lineDashOffset = e.strokeDashOffset, t.lineJoin = e.strokeLineJoin, t.miterLimit = e.strokeMiterLimit, Gt(_$s) ? "percentage" === _$s.gradientUnits || _$s.gradientTransform || _$s.patternTransform ? this._applyPatternForTransformedGradient(t, _$s) : (t.strokeStyle = _$s.toLive(t), this._applyPatternGradientTransform(t, _$s)) : t.strokeStyle = e.stroke);
            }
        },
        {
            key: "_setFillStyles",
            value: function _setFillStyles(t, e) {
                var _$s = e.fill;
                _$s && (Gt(_$s) ? (t.fillStyle = _$s.toLive(t), this._applyPatternGradientTransform(t, _$s)) : t.fillStyle = _$s);
            }
        },
        {
            key: "_setClippingProperties",
            value: function _setClippingProperties(t) {
                t.globalAlpha = 1, t.strokeStyle = "transparent", t.fillStyle = "#000000";
            }
        },
        {
            key: "_setLineDash",
            value: function _setLineDash(t, e) {
                e && 0 !== e.length && t.setLineDash(e);
            }
        },
        {
            key: "_setShadow",
            value: function _setShadow(t) {
                if (!this.shadow) return;
                var _$e = this.shadow, _$s = this.canvas, i = this.getCanvasRetinaScaling(), _ref = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((null == _$s ? void 0 : _$s.viewportTransform) || T, 4), _$r = _ref[0], n = _ref[3], a = _$r * i, h = n * i, c = _$e.nonScaling ? new ot(1, 1) : this.getObjectScaling();
                t.shadowColor = _$e.color, t.shadowBlur = _$e.blur * o.browserShadowBlurConstant * (a + h) * (c.x + c.y) / 4, t.shadowOffsetX = _$e.offsetX * a * c.x, t.shadowOffsetY = _$e.offsetY * h * c.y;
            }
        },
        {
            key: "_removeShadow",
            value: function _removeShadow(t) {
                this.shadow && (t.shadowColor = "", t.shadowBlur = t.shadowOffsetX = t.shadowOffsetY = 0);
            }
        },
        {
            key: "_applyPatternGradientTransform",
            value: function _applyPatternGradientTransform(t, e) {
                if (!Gt(e)) return {
                    offsetX: 0,
                    offsetY: 0
                };
                var _$s = e.gradientTransform || e.patternTransform, i = -this.width / 2 + e.offsetX || 0, _$r = -this.height / 2 + e.offsetY || 0;
                return "percentage" === e.gradientUnits ? t.transform(this.width, 0, 0, this.height, i, _$r) : t.transform(1, 0, 0, 1, i, _$r), _$s && t.transform(_$s[0], _$s[1], _$s[2], _$s[3], _$s[4], _$s[5]), {
                    offsetX: i,
                    offsetY: _$r
                };
            }
        },
        {
            key: "_renderPaintInOrder",
            value: function _renderPaintInOrder(t) {
                this.paintFirst === J ? (this._renderStroke(t), this._renderFill(t)) : (this._renderFill(t), this._renderStroke(t));
            }
        },
        {
            key: "_render",
            value: function _render(t) {}
        },
        {
            key: "_renderFill",
            value: function _renderFill(t) {
                this.fill && (t.save(), this._setFillStyles(t, this), "evenodd" === this.fillRule ? t.fill("evenodd") : t.fill(), t.restore());
            }
        },
        {
            key: "_renderStroke",
            value: function _renderStroke(t) {
                if (this.stroke && 0 !== this.strokeWidth) {
                    if (this.shadow && !this.shadow.affectStroke && this._removeShadow(t), t.save(), this.strokeUniform) {
                        var _$e = this.getObjectScaling();
                        t.scale(1 / _$e.x, 1 / _$e.y);
                    }
                    this._setLineDash(t, this.strokeDashArray), this._setStrokeStyles(t, this), t.stroke(), t.restore();
                }
            }
        },
        {
            key: "_applyPatternForTransformedGradient",
            value: function _applyPatternForTransformedGradient(t, e) {
                var _$s;
                var i = this._limitCacheSize(this._getCacheCanvasDimensions()), _$r = this.getCanvasRetinaScaling(), n = i.x / this.scaleX / _$r, o = i.y / this.scaleY / _$r, a = vt({
                    width: Math.ceil(n),
                    height: Math.ceil(o)
                }), h = a.getContext("2d");
                h && (h.beginPath(), h.moveTo(0, 0), h.lineTo(n, 0), h.lineTo(n, o), h.lineTo(0, o), h.closePath(), h.translate(n / 2, o / 2), h.scale(i.zoomX / this.scaleX / _$r, i.zoomY / this.scaleY / _$r), this._applyPatternGradientTransform(h, e), h.fillStyle = e.toLive(t), h.fill(), t.translate(-this.width / 2 - this.strokeWidth / 2, -this.height / 2 - this.strokeWidth / 2), t.scale(_$r * this.scaleX / i.zoomX, _$r * this.scaleY / i.zoomY), t.strokeStyle = null !== (_$s = h.createPattern(a, "no-repeat")) && void 0 !== _$s ? _$s : "");
            }
        },
        {
            key: "_findCenterFromElement",
            value: function _findCenterFromElement() {
                return new ot(this.left + this.width / 2, this.top + this.height / 2);
            }
        },
        {
            key: "clone",
            value: function clone(t) {
                var _$e = this.toObject(t);
                return this.constructor.fromObject(_$e);
            }
        },
        {
            key: "cloneAsImage",
            value: function cloneAsImage(t) {
                var _$e = this.toCanvasElement(t);
                return new (tt.getClass("image"))(_$e);
            }
        },
        {
            key: "toCanvasElement",
            value: function toCanvasElement() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                var _$e = ge(this), _$s = this.group, i = this.shadow, _$r = Math.abs, n = _$t.enableRetinaScaling ? y() : 1, o = (_$t.multiplier || 1) * n, a = _$t.canvasProvider || function(t) {
                    return new ie(t, {
                        enableRetinaScaling: !1,
                        renderOnAddRemove: !1,
                        skipOffscreen: !1
                    });
                };
                delete this.group, _$t.withoutTransform && de(this), _$t.withoutShadow && (this.shadow = null), _$t.viewportTransform && ye(this, this.getViewportTransform()), this.setCoords();
                var h = pt(), c = this.getBoundingRect(), l = this.shadow, u = new ot;
                if (l) {
                    var _$t1 = l.blur, _$e1 = l.nonScaling ? new ot(1, 1) : this.getObjectScaling();
                    u.x = 2 * Math.round(_$r(l.offsetX) + _$t1) * _$r(_$e1.x), u.y = 2 * Math.round(_$r(l.offsetY) + _$t1) * _$r(_$e1.y);
                }
                var d = c.width + u.x, g = c.height + u.y;
                h.width = Math.ceil(d), h.height = Math.ceil(g);
                var f = a(h);
                "jpeg" === _$t.format && (f.backgroundColor = "#fff"), this.setPositionByOrigin(new ot(f.width / 2, f.height / 2), D, D);
                var p = this.canvas;
                f._objects = [
                    this
                ], this.set("canvas", f), this.setCoords();
                var m = f.toCanvasElement(o || 1, _$t);
                return this.set("canvas", p), this.shadow = i, _$s && (this.group = _$s), this.set(_$e), this.setCoords(), f._objects = [], f.destroy(), m;
            }
        },
        {
            key: "toDataURL",
            value: function toDataURL() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return yt(this.toCanvasElement(_$t), _$t.format || "png", _$t.quality || 1);
            }
        },
        {
            key: "toBlob",
            value: function toBlob() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return _t(this.toCanvasElement(_$t), _$t.format || "png", _$t.quality || 1);
            }
        },
        {
            key: "isType",
            value: function isType() {
                for(var _$t = arguments.length, _$e = new Array(_$t), _$s = 0; _$s < _$t; _$s++)_$e[_$s] = arguments[_$s];
                return _$e.includes(this.constructor.type) || _$e.includes(this.type);
            }
        },
        {
            key: "complexity",
            value: function complexity() {
                return 1;
            }
        },
        {
            key: "toJSON",
            value: function toJSON() {
                return this.toObject();
            }
        },
        {
            key: "rotate",
            value: function rotate(t) {
                var _this = this, _$e = _this.centeredRotation, _$s = _this.originX, i = _this.originY;
                if (_$e) {
                    var _this_getRelativeCenterPoint = this.getRelativeCenterPoint(), _$t = _this_getRelativeCenterPoint.x, _$e1 = _this_getRelativeCenterPoint.y;
                    this.originX = D, this.originY = D, this.left = _$t, this.top = _$e1;
                }
                if (this.set("angle", t), _$e) {
                    var _this_translateToOriginPoint = this.translateToOriginPoint(this.getRelativeCenterPoint(), _$s, i), _$t1 = _this_translateToOriginPoint.x, _$e2 = _this_translateToOriginPoint.y;
                    this.left = _$t1, this.top = _$e2, this.originX = _$s, this.originY = i;
                }
            }
        },
        {
            key: "setOnGroup",
            value: function setOnGroup() {}
        },
        {
            key: "_setupCompositeOperation",
            value: function _setupCompositeOperation(t) {
                this.globalCompositeOperation && (t.globalCompositeOperation = this.globalCompositeOperation);
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                et.cancelByTarget(this), this.off(), this._set("canvas", void 0), this._cacheCanvas && p().dispose(this._cacheCanvas), this._cacheCanvas = void 0, this._cacheContext = null;
            }
        },
        {
            key: "animate",
            value: function animate(t, e) {
                var _this = this;
                return Object.entries(t).reduce(function(t, s) {
                    var _s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(s, 2), i = _s[0], _$r = _s[1];
                    return t[i] = _this._animate(i, _$r, e), t;
                }, {});
            }
        },
        {
            key: "_animate",
            value: function _animate(t, e) {
                var _this = this;
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                var _$r = t.split("."), n = this.constructor.colorProperties.includes(_$r[_$r.length - 1]), o = i.abort, a = i.startValue, h = i.onChange, c = i.onComplete, l = s(s({}, i), {}, {
                    target: this,
                    startValue: null != a ? a : _$r.reduce(function(t, e) {
                        return t[e];
                    }, this),
                    endValue: e,
                    abort: null == o ? void 0 : o.bind(this),
                    onChange: function(t, e, s) {
                        _$r.reduce(function(e, s, i) {
                            return i === _$r.length - 1 && (e[s] = t), e[s];
                        }, _this), h && h(t, e, s);
                    },
                    onComplete: function(t, e, s) {
                        _this.setCoords(), c && c(t, e, s);
                    }
                });
                return n ? Js(l) : Ks(l);
            }
        },
        {
            key: "isDescendantOf",
            value: function isDescendantOf(t) {
                var _this = this, _$e = _this.parent, _$s = _this.group;
                return _$e === t || _$s === t || !!_$e && _$e.isDescendantOf(t) || !!_$s && _$s !== _$e && _$s.isDescendantOf(t);
            }
        },
        {
            key: "getAncestors",
            value: function getAncestors() {
                var _$t = [];
                var _$e = this;
                do {
                    _$e = _$e.parent, _$e && _$t.push(_$e);
                }while (_$e)
                return _$t;
            }
        },
        {
            key: "findCommonAncestors",
            value: function findCommonAncestors(t) {
                if (this === t) return {
                    fork: [],
                    otherFork: [],
                    common: [
                        this
                    ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.getAncestors()))
                };
                var _$e = this.getAncestors(), _$s = t.getAncestors();
                if (0 === _$e.length && _$s.length > 0 && this === _$s[_$s.length - 1]) return {
                    fork: [],
                    otherFork: [
                        t
                    ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s.slice(0, _$s.length - 1))),
                    common: [
                        this
                    ]
                };
                for(var i, _$r = 0; _$r < _$e.length; _$r++){
                    if (i = _$e[_$r], i === t) return {
                        fork: [
                            this
                        ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$e.slice(0, _$r))),
                        otherFork: [],
                        common: _$e.slice(_$r)
                    };
                    for(var n = 0; n < _$s.length; n++){
                        if (this === _$s[n]) return {
                            fork: [],
                            otherFork: [
                                t
                            ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s.slice(0, n))),
                            common: [
                                this
                            ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$e))
                        };
                        if (i === _$s[n]) return {
                            fork: [
                                this
                            ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$e.slice(0, _$r))),
                            otherFork: [
                                t
                            ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s.slice(0, n))),
                            common: _$e.slice(_$r)
                        };
                    }
                }
                return {
                    fork: [
                        this
                    ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$e)),
                    otherFork: [
                        t
                    ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s)),
                    common: []
                };
            }
        },
        {
            key: "hasCommonAncestors",
            value: function hasCommonAncestors(t) {
                var _$e = this.findCommonAncestors(t);
                return _$e && !!_$e.common.length;
            }
        },
        {
            key: "isInFrontOf",
            value: function isInFrontOf(t) {
                if (this === t) return;
                var _$e = this.findCommonAncestors(t);
                if (_$e.fork.includes(t)) return !0;
                if (_$e.otherFork.includes(this)) return !1;
                var _$s = _$e.common[0] || this.canvas;
                if (!_$s) return;
                var i = _$e.fork.pop(), _$r = _$e.otherFork.pop(), n = _$s._objects.indexOf(i), o = _$s._objects.indexOf(_$r);
                return n > -1 && n > o;
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).concat(e.customProperties, this.constructor.customProperties || []);
                var i;
                var _$r = o.NUM_FRACTION_DIGITS, _this = this, n = _this.clipPath, a = _this.fill, h = _this.stroke, c = _this.shadow, l = _this.strokeDashArray, u = _this.left, d = _this.top, g = _this.originX, f = _this.originY, p = _this.width, m = _this.height, v = _this.strokeWidth, y = _this.strokeLineCap, _ = _this.strokeDashOffset, C = _this.strokeLineJoin, b = _this.strokeUniform, S = _this.strokeMiterLimit, w = _this.scaleX, T = _this.scaleY, O = _this.angle, k = _this.flipX, D = _this.flipY, M = _this.opacity, P = _this.visible, E = _this.backgroundColor, A = _this.fillRule, j = _this.paintFirst, F = _this.globalCompositeOperation, L = _this.skewX, R = _this.skewY;
                n && !n.excludeFromExport && (i = n.toObject(_$t.concat("inverted", "absolutePositioned")));
                var I = function(t) {
                    return Vt(t, _$r);
                }, B = s(s({}, Yt(this, _$t)), {}, {
                    type: this.constructor.type,
                    version: x,
                    originX: g,
                    originY: f,
                    left: I(u),
                    top: I(d),
                    width: I(p),
                    height: I(m),
                    fill: Ht(a) ? a.toObject() : a,
                    stroke: Ht(h) ? h.toObject() : h,
                    strokeWidth: I(v),
                    strokeDashArray: l ? l.concat() : l,
                    strokeLineCap: y,
                    strokeDashOffset: _,
                    strokeLineJoin: C,
                    strokeUniform: b,
                    strokeMiterLimit: I(S),
                    scaleX: I(w),
                    scaleY: I(T),
                    angle: I(O),
                    flipX: k,
                    flipY: D,
                    opacity: I(M),
                    shadow: c ? c.toObject() : c,
                    visible: P,
                    backgroundColor: E,
                    fillRule: A,
                    paintFirst: j,
                    globalCompositeOperation: F,
                    skewX: I(L),
                    skewY: I(R)
                }, i ? {
                    clipPath: i
                } : null);
                return this.includeDefaultValues ? B : this._removeDefaultValues(B);
            }
        },
        {
            key: "toDatalessObject",
            value: function toDatalessObject(t) {
                return this.toObject(t);
            }
        },
        {
            key: "_removeDefaultValues",
            value: function _removeDefaultValues(t) {
                var _$e = this.constructor.getDefaults(), _$s = Object.keys(_$e).length > 0 ? _$e : Object.getPrototypeOf(this);
                return Wt(t, function(t, e) {
                    if (e === M || e === P || "type" === e) return !0;
                    var i = _$s[e];
                    return t !== i && !(Array.isArray(t) && Array.isArray(i) && 0 === t.length && 0 === i.length);
                });
            }
        },
        {
            key: "toString",
            value: function toString() {
                return "#<".concat(this.constructor.type, ">");
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return e.ownDefaults;
            }
        },
        {
            key: "_fromObject",
            value: function _fromObject(t) {
                var _this = this;
                var _$e = i(t, $s), _$s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, _$r = _$s.extraParam, n = i(_$s, ti);
                return Xt(_$e, n).then(function(t) {
                    return _$r ? (delete t[_$r], new _this(_$e[_$r], t)) : new _this(t);
                });
            }
        },
        {
            key: "fromObject",
            value: function fromObject(t, e) {
                return this._fromObject(t, e);
            }
        }
    ]);
    return e;
}(Zs);
t(ei, "stateProperties", Ps), t(ei, "cacheProperties", Es), t(ei, "ownDefaults", As), t(ei, "type", "FabricObject"), t(ei, "colorProperties", [
    K,
    J,
    "backgroundColor"
]), t(ei, "customProperties", []), tt.setClass(ei), tt.setClass(ei, "object");
var si = function(t, e, i) {
    return function(r, n, o, a) {
        var h = e(r, n, o, a);
        return h && _e(t, s(s({}, Oe(r, n, o, a)), i)), h;
    };
};
function ii(t) {
    return function(e, s, i, r) {
        var n = s.target, o = s.originX, a = s.originY, h = n.getRelativeCenterPoint(), c = n.translateToOriginPoint(h, o, a), l = t(e, s, i, r);
        return n.setPositionByOrigin(c, s.originX, s.originY), l;
    };
}
var ri = si(Y, ii(function(t, e, s, i) {
    var _$r = De(e, e.originX, e.originY, s, i);
    if (Ce(e.originX) === Ce(D) || Ce(e.originX) === Ce(A) && _$r.x < 0 || Ce(e.originX) === Ce(M) && _$r.x > 0) {
        var _$t = e.target, _$s = _$t.strokeWidth / (_$t.strokeUniform ? _$t.scaleX : 1), _$i = Se(e) ? 2 : 1, n = _$t.width, o = Math.abs(_$r.x * _$i / _$t.scaleX) - _$s;
        return _$t.set("width", Math.max(o, 1)), n !== _$t.width;
    }
    return !1;
}));
function ni(t, e, s, i, r) {
    i = i || {};
    var n = this.sizeX || i.cornerSize || r.cornerSize, o = this.sizeY || i.cornerSize || r.cornerSize, a = void 0 !== i.transparentCorners ? i.transparentCorners : r.transparentCorners, h = a ? J : K, c = !a && (i.cornerStrokeColor || r.cornerStrokeColor);
    var l, u = e, d = s;
    t.save(), t.fillStyle = i.cornerColor || r.cornerColor || "", t.strokeStyle = i.cornerStrokeColor || r.cornerStrokeColor || "", n > o ? (l = n, t.scale(1, o / n), d = s * n / o) : o > n ? (l = o, t.scale(n / o, 1), u = e * o / n) : l = n, t.beginPath(), t.arc(u, d, l / 2, 0, S, !1), t[h](), c && t.stroke(), t.restore();
}
function oi(t, e, s, i, r) {
    i = i || {};
    var n = this.sizeX || i.cornerSize || r.cornerSize, o = this.sizeY || i.cornerSize || r.cornerSize, a = void 0 !== i.transparentCorners ? i.transparentCorners : r.transparentCorners, h = a ? J : K, c = !a && (i.cornerStrokeColor || r.cornerStrokeColor), l = n / 2, u = o / 2;
    t.save(), t.fillStyle = i.cornerColor || r.cornerColor || "", t.strokeStyle = i.cornerStrokeColor || r.cornerStrokeColor || "", t.translate(e, s);
    var d = r.getTotalAngle();
    t.rotate(xt(d)), t["".concat(h, "Rect")](-l, -u, n, o), c && t.strokeRect(-l, -u, n, o), t.restore();
}
var ai = /*#__PURE__*/ function() {
    "use strict";
    function ai(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ai);
        t(this, "visible", !0), t(this, "actionName", G), t(this, "angle", 0), t(this, "x", 0), t(this, "y", 0), t(this, "offsetX", 0), t(this, "offsetY", 0), t(this, "sizeX", 0), t(this, "sizeY", 0), t(this, "touchSizeX", 0), t(this, "touchSizeY", 0), t(this, "cursorStyle", "crosshair"), t(this, "withConnection", !1), Object.assign(this, e);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ai, [
        {
            key: "shouldActivate",
            value: function shouldActivate(t, e, s, i) {
                var _$r;
                var n = i.tl, o = i.tr, a = i.br, h = i.bl;
                return (null === (_$r = e.canvas) || void 0 === _$r ? void 0 : _$r.getActiveObject()) === e && e.isControlVisible(t) && Qs.isPointInPolygon(s, [
                    n,
                    o,
                    a,
                    h
                ]);
            }
        },
        {
            key: "getActionHandler",
            value: function getActionHandler(t, e, s) {
                return this.actionHandler;
            }
        },
        {
            key: "getMouseDownHandler",
            value: function getMouseDownHandler(t, e, s) {
                return this.mouseDownHandler;
            }
        },
        {
            key: "getMouseUpHandler",
            value: function getMouseUpHandler(t, e, s) {
                return this.mouseUpHandler;
            }
        },
        {
            key: "cursorStyleHandler",
            value: function cursorStyleHandler(t, e, s) {
                return e.cursorStyle;
            }
        },
        {
            key: "getActionName",
            value: function getActionName(t, e, s) {
                return e.actionName;
            }
        },
        {
            key: "getVisibility",
            value: function getVisibility(t, e) {
                var _$s, i;
                return null !== (_$s = null === (i = t._controlsVisibility) || void 0 === i ? void 0 : i[e]) && void 0 !== _$s ? _$s : this.visible;
            }
        },
        {
            key: "setVisibility",
            value: function setVisibility(t, e, s) {
                this.visible = t;
            }
        },
        {
            key: "positionHandler",
            value: function positionHandler(t, e, s, i) {
                return new ot(this.x * t.x + this.offsetX, this.y * t.y + this.offsetY).transform(e);
            }
        },
        {
            key: "calcCornerCoords",
            value: function calcCornerCoords(t, e, s, i, r, n) {
                var o = Ot([
                    Mt(s, i),
                    Pt({
                        angle: t
                    }),
                    Et((r ? this.touchSizeX : this.sizeX) || e, (r ? this.touchSizeY : this.sizeY) || e)
                ]);
                return {
                    tl: new ot(-.5, -.5).transform(o),
                    tr: new ot(.5, -.5).transform(o),
                    br: new ot(.5, .5).transform(o),
                    bl: new ot(-.5, .5).transform(o)
                };
            }
        },
        {
            key: "render",
            value: function render(t, e, s, i, r) {
                if ("circle" === ((i = i || {}).cornerStyle || r.cornerStyle)) ni.call(this, t, e, s, i, r);
                else oi.call(this, t, e, s, i, r);
            }
        }
    ]);
    return ai;
}();
var hi = function(t, e, s) {
    return s.lockRotation ? be : e.cursorStyle;
}, ci = si(I, ii(function(t, e, s, i) {
    var _$r = e.target, n = e.ex, o = e.ey, a = e.theta, h = e.originX, c = e.originY;
    var l = _$r.translateToOriginPoint(_$r.getRelativeCenterPoint(), h, c);
    if (Te(_$r, "lockRotation")) return !1;
    var u = Math.atan2(o - l.y, n - l.x), d = Math.atan2(i - l.y, s - l.x);
    var g = Ct(d - u + a);
    if (_$r.snapAngle && _$r.snapAngle > 0) {
        var _$t = _$r.snapAngle, _$e = _$r.snapThreshold || _$t, _$s = Math.ceil(g / _$t) * _$t, _$i = Math.floor(g / _$t) * _$t;
        Math.abs(g - _$i) < _$e ? g = _$i : Math.abs(g - _$s) < _$e && (g = _$s);
    }
    g < 0 && (g = 360 + g), g %= 360;
    var f = _$r.angle !== g;
    return _$r.angle = g, f;
}));
function li(t, e) {
    var _$s = e.canvas, i = t[_$s.uniScaleKey];
    return _$s.uniformScaling && !i || !_$s.uniformScaling && i;
}
function ui(t, e, s) {
    var i = Te(t, "lockScalingX"), _$r = Te(t, "lockScalingY");
    if (i && _$r) return !0;
    if (!e && (i || _$r) && s) return !0;
    if (i && "x" === e) return !0;
    if (_$r && "y" === e) return !0;
    var n = t.width, o = t.height, a = t.strokeWidth;
    return 0 === n && 0 === a && "y" !== e || 0 === o && 0 === a && "x" !== e;
}
var di = [
    "e",
    "se",
    "s",
    "sw",
    "w",
    "nw",
    "n",
    "ne",
    "e"
], gi = function(t, e, s) {
    var i = li(t, s);
    if (ui(s, 0 !== e.x && 0 === e.y ? "x" : 0 === e.x && 0 !== e.y ? "y" : "", i)) return be;
    var _$r = ke(s, e);
    return "".concat(di[_$r], "-resize");
};
function fi(t, e, s, i) {
    var _$r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {};
    var n = e.target, o = _$r.by, a = li(t, n);
    var h, c, l, u, d, g;
    if (ui(n, o, a)) return !1;
    if (e.gestureScale) c = e.scaleX * e.gestureScale, l = e.scaleY * e.gestureScale;
    else {
        if (h = De(e, e.originX, e.originY, s, i), d = "y" !== o ? Math.sign(h.x || e.signX || 1) : 1, g = "x" !== o ? Math.sign(h.y || e.signY || 1) : 1, e.signX || (e.signX = d), e.signY || (e.signY = g), Te(n, "lockScalingFlip") && (e.signX !== d || e.signY !== g)) return !1;
        if (u = n._getTransformedDimensions(), a && !o) {
            var _$t = Math.abs(h.x) + Math.abs(h.y), _$s = e.original, _$i = _$t / (Math.abs(u.x * _$s.scaleX / n.scaleX) + Math.abs(u.y * _$s.scaleY / n.scaleY));
            c = _$s.scaleX * _$i, l = _$s.scaleY * _$i;
        } else c = Math.abs(h.x * n.scaleX / u.x), l = Math.abs(h.y * n.scaleY / u.y);
        Se(e) && (c *= 2, l *= 2), e.signX !== d && "y" !== o && (e.originX = we(e.originX), c *= -1, e.signX = d), e.signY !== g && "x" !== o && (e.originY = we(e.originY), l *= -1, e.signY = g);
    }
    var f = n.scaleX, p = n.scaleY;
    return o ? ("x" === o && n.set(H, c), "y" === o && n.set(N, l)) : (!Te(n, "lockScalingX") && n.set(H, c), !Te(n, "lockScalingY") && n.set(N, l)), f !== n.scaleX || p !== n.scaleY;
}
var pi = si(R, ii(function(t, e, s, i) {
    return fi(t, e, s, i);
})), mi = si(R, ii(function(t, e, s, i) {
    return fi(t, e, s, i, {
        by: "x"
    });
})), vi = si(R, ii(function(t, e, s, i) {
    return fi(t, e, s, i, {
        by: "y"
    });
})), yi = [
    "target",
    "ex",
    "ey",
    "skewingSide"
], _i = {
    x: {
        counterAxis: "y",
        scale: H,
        skew: U,
        lockSkewing: "lockSkewingX",
        origin: "originX",
        flip: "flipX"
    },
    y: {
        counterAxis: "x",
        scale: N,
        skew: q,
        lockSkewing: "lockSkewingY",
        origin: "originY",
        flip: "flipY"
    }
}, xi = [
    "ns",
    "nesw",
    "ew",
    "nwse"
], Ci = function(t, e, s) {
    if (0 !== e.x && Te(s, "lockSkewingY")) return be;
    if (0 !== e.y && Te(s, "lockSkewingX")) return be;
    var i = ke(s, e) % 4;
    return "".concat(xi[i], "-resize");
};
function bi(t, e, r, n, o) {
    var a = r.target, _i_t = _i[t], h = _i_t.counterAxis, c = _i_t.origin, l = _i_t.lockSkewing, u = _i_t.skew, d = _i_t.flip;
    if (Te(a, l)) return !1;
    var _i_h = _i[h], g = _i_h.origin, f = _i_h.flip, p = Ce(r[g]) * (a[f] ? -1 : 1), m = -Math.sign(p) * (a[d] ? -1 : 1), v = .5 * -((0 === a[u] && De(r, D, D, n, o)[t] > 0 || a[u] > 0 ? 1 : -1) * m) + .5, y = si(X, ii(function(e, s, r, n) {
        return function(t, e, s) {
            var _$r = e.target, _$n = e.ex, _$o = e.ey, a = e.skewingSide, h = i(e, yi);
            var _i_t = _i[t], c = _i_t.skew, l = s.subtract(new ot(_$n, _$o)).divide(new ot(_$r.scaleX, _$r.scaleY))[t], u = _$r[c], d = h[c], g = Math.tan(xt(d)), f = "y" === t ? _$r._getTransformedDimensions({
                scaleX: 1,
                scaleY: 1,
                skewX: 0
            }).x : _$r._getTransformedDimensions({
                scaleX: 1,
                scaleY: 1
            }).y, p = 2 * l * a / Math.max(f, 1) + g, m = Ct(Math.atan(p));
            _$r.set(c, m);
            var v = u !== _$r[c];
            if (v && "y" === t) {
                var _$t = _$r.skewX, _$e = _$r.scaleX, _$s = _$r._getTransformedDimensions({
                    skewY: u
                }), _$i = _$r._getTransformedDimensions(), _$n1 = 0 !== _$t ? _$s.x / _$i.x : 1;
                1 !== _$n1 && _$r.set(H, _$n1 * _$e);
            }
            return v;
        }(t, s, new ot(r, n));
    }));
    var _obj;
    return y(e, s(s({}, r), {}, (_obj = {}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_define_property$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_obj, c, v), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_define_property$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_obj, "skewingSide", m), _obj)), n, o);
}
var Si = function(t, e, s, i) {
    return bi("x", t, e, s, i);
}, wi = function(t, e, s, i) {
    return bi("y", t, e, s, i);
};
function Ti(t, e) {
    return t[e.canvas.altActionKey];
}
var Oi = function(t, e, s) {
    var i = Ti(t, s);
    return 0 === e.x ? i ? U : N : 0 === e.y ? i ? q : H : "";
}, ki = function(t, e, s) {
    return Ti(t, s) ? Ci(0, e, s) : gi(t, e, s);
}, Di = function(t, e, s, i) {
    return Ti(t, e.target) ? wi(t, e, s, i) : mi(t, e, s, i);
}, Mi = function(t, e, s, i) {
    return Ti(t, e.target) ? Si(t, e, s, i) : vi(t, e, s, i);
}, Pi = function() {
    return {
        ml: new ai({
            x: -.5,
            y: 0,
            cursorStyleHandler: ki,
            actionHandler: Di,
            getActionName: Oi
        }),
        mr: new ai({
            x: .5,
            y: 0,
            cursorStyleHandler: ki,
            actionHandler: Di,
            getActionName: Oi
        }),
        mb: new ai({
            x: 0,
            y: .5,
            cursorStyleHandler: ki,
            actionHandler: Mi,
            getActionName: Oi
        }),
        mt: new ai({
            x: 0,
            y: -.5,
            cursorStyleHandler: ki,
            actionHandler: Mi,
            getActionName: Oi
        }),
        tl: new ai({
            x: -.5,
            y: -.5,
            cursorStyleHandler: gi,
            actionHandler: pi
        }),
        tr: new ai({
            x: .5,
            y: -.5,
            cursorStyleHandler: gi,
            actionHandler: pi
        }),
        bl: new ai({
            x: -.5,
            y: .5,
            cursorStyleHandler: gi,
            actionHandler: pi
        }),
        br: new ai({
            x: .5,
            y: .5,
            cursorStyleHandler: gi,
            actionHandler: pi
        }),
        mtr: new ai({
            x: 0,
            y: -.5,
            actionHandler: ci,
            cursorStyleHandler: hi,
            offsetY: -40,
            withConnection: !0,
            actionName: B
        })
    };
}, Ei = function() {
    return {
        mr: new ai({
            x: .5,
            y: 0,
            actionHandler: ri,
            cursorStyleHandler: ki,
            actionName: Y
        }),
        ml: new ai({
            x: -.5,
            y: 0,
            actionHandler: ri,
            cursorStyleHandler: ki,
            actionName: Y
        })
    };
}, Ai = function() {
    return s(s({}, Pi()), Ei());
};
var ji = /*#__PURE__*/ function(ei) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ji, ei);
    function ji(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ji);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ji), Object.assign(_this, _this.constructor.createControls(), ji.ownDefaults), _this.setOptions(t);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ji, [
        {
            key: "_updateCacheCanvas",
            value: function _updateCacheCanvas() {
                var _$t = this.canvas;
                if (this.noScaleCache && _$t && _$t._currentTransform) {
                    var e = _$t._currentTransform, _$s = e.target, i = e.action;
                    if (this === _$s && i && i.startsWith(G)) return !1;
                }
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ji.prototype), "_updateCacheCanvas", this).call(this);
            }
        },
        {
            key: "getActiveControl",
            value: function getActiveControl() {
                var _$t = this.__corner;
                return _$t ? {
                    key: _$t,
                    control: this.controls[_$t],
                    coord: this.oCoords[_$t]
                } : void 0;
            }
        },
        {
            key: "findControl",
            value: function findControl(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                if (!this.hasControls || !this.canvas) return;
                this.__corner = void 0;
                var _$s = Object.entries(this.oCoords);
                for(var i = _$s.length - 1; i >= 0; i--){
                    var _s_i = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s[i], 2), _$r = _s_i[0], n = _s_i[1], o = this.controls[_$r];
                    if (o.shouldActivate(_$r, this, t, e ? n.touchCorner : n.corner)) return this.__corner = _$r, {
                        key: _$r,
                        control: o,
                        coord: this.oCoords[_$r]
                    };
                }
            }
        },
        {
            key: "calcOCoords",
            value: function calcOCoords() {
                var _this = this;
                var _$t = this.getViewportTransform(), e = this.getCenterPoint(), _$s = Mt(e.x, e.y), i = Pt({
                    angle: this.getTotalAngle() - (this.group && this.flipX ? 180 : 0)
                }), _$r = Tt(_$s, i), n = Tt(_$t, _$r), o = Tt(n, [
                    1 / _$t[0],
                    0,
                    0,
                    1 / _$t[3],
                    0,
                    0
                ]), a = this.group ? Dt(this.calcTransformMatrix()) : void 0;
                a && (a.scaleX = Math.abs(a.scaleX), a.scaleY = Math.abs(a.scaleY));
                var h = this._calculateCurrentDimensions(a), c = {};
                return this.forEachControl(function(t, e) {
                    var _$s = t.positionHandler(h, o, _this, t);
                    c[e] = Object.assign(_$s, _this._calcCornerCoords(t, _$s));
                }), c;
            }
        },
        {
            key: "_calcCornerCoords",
            value: function _calcCornerCoords(t, e) {
                var _$s = this.getTotalAngle();
                return {
                    corner: t.calcCornerCoords(_$s, this.cornerSize, e.x, e.y, !1, this),
                    touchCorner: t.calcCornerCoords(_$s, this.touchCornerSize, e.x, e.y, !0, this)
                };
            }
        },
        {
            key: "setCoords",
            value: function setCoords() {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ji.prototype), "setCoords", this).call(this), this.canvas && (this.oCoords = this.calcOCoords());
            }
        },
        {
            key: "forEachControl",
            value: function forEachControl(t) {
                for(var e in this.controls)t(this.controls[e], e, this);
            }
        },
        {
            key: "drawSelectionBackground",
            value: function drawSelectionBackground(t) {
                if (!this.selectionBackgroundColor || this.canvas && this.canvas._activeObject !== this) return;
                t.save();
                var e = this.getRelativeCenterPoint(), _$s = this._calculateCurrentDimensions(), i = this.getViewportTransform();
                t.translate(e.x, e.y), t.scale(1 / i[0], 1 / i[3]), t.rotate(xt(this.angle)), t.fillStyle = this.selectionBackgroundColor, t.fillRect(-_$s.x / 2, -_$s.y / 2, _$s.x, _$s.y), t.restore();
            }
        },
        {
            key: "strokeBorders",
            value: function strokeBorders(t, e) {
                t.strokeRect(-e.x / 2, -e.y / 2, e.x, e.y);
            }
        },
        {
            key: "_drawBorders",
            value: function _drawBorders(t, e) {
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                var _$r = s({
                    hasControls: this.hasControls,
                    borderColor: this.borderColor,
                    borderDashArray: this.borderDashArray
                }, i);
                t.save(), t.strokeStyle = _$r.borderColor, this._setLineDash(t, _$r.borderDashArray), this.strokeBorders(t, e), _$r.hasControls && this.drawControlsConnectingLines(t, e), t.restore();
            }
        },
        {
            key: "_renderControls",
            value: function _renderControls(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                var _this = this, i = _this.hasBorders, _$r = _this.hasControls, n = s({
                    hasBorders: i,
                    hasControls: _$r
                }, e), o = this.getViewportTransform(), a = n.hasBorders, h = n.hasControls, c = Tt(o, this.calcTransformMatrix()), l = Dt(c);
                t.save(), t.translate(l.translateX, l.translateY), t.lineWidth = this.borderScaleFactor, this.group === this.parent && (t.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1), this.flipX && (l.angle -= 180), t.rotate(xt(this.group ? l.angle : this.angle)), a && this.drawBorders(t, l, e), h && this.drawControls(t, e), t.restore();
            }
        },
        {
            key: "drawBorders",
            value: function drawBorders(t, e, s) {
                var i;
                if (s && s.forActiveSelection || this.group) {
                    var _$t = fe(this.width, this.height, Lt(e)), _$s = this.isStrokeAccountedForInDimensions() ? at : (this.strokeUniform ? (new ot).scalarAdd(this.canvas ? this.canvas.getZoom() : 1) : new ot(e.scaleX, e.scaleY)).scalarMultiply(this.strokeWidth);
                    i = _$t.add(_$s).scalarAdd(this.borderScaleFactor).scalarAdd(2 * this.padding);
                } else i = this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);
                this._drawBorders(t, i, s);
            }
        },
        {
            key: "drawControlsConnectingLines",
            value: function drawControlsConnectingLines(t, e) {
                var _this = this;
                var _$s = !1;
                t.beginPath(), this.forEachControl(function(i, r) {
                    i.withConnection && i.getVisibility(_this, r) && (_$s = !0, t.moveTo(i.x * e.x, i.y * e.y), t.lineTo(i.x * e.x + i.offsetX, i.y * e.y + i.offsetY));
                }), _$s && t.stroke();
            }
        },
        {
            key: "drawControls",
            value: function drawControls(t) {
                var _this = this;
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                t.save();
                var i = this.getCanvasRetinaScaling(), _this1 = this, _$r = _this1.cornerStrokeColor, n = _this1.cornerDashArray, o = _this1.cornerColor, a = s({
                    cornerStrokeColor: _$r,
                    cornerDashArray: n,
                    cornerColor: o
                }, e);
                t.setTransform(i, 0, 0, i, 0, 0), t.strokeStyle = t.fillStyle = a.cornerColor, this.transparentCorners || (t.strokeStyle = a.cornerStrokeColor), this._setLineDash(t, a.cornerDashArray), this.forEachControl(function(e, s) {
                    if (e.getVisibility(_this, s)) {
                        var i = _this.oCoords[s];
                        e.render(t, i.x, i.y, a, _this);
                    }
                }), t.restore();
            }
        },
        {
            key: "isControlVisible",
            value: function isControlVisible(t) {
                return this.controls[t] && this.controls[t].getVisibility(this, t);
            }
        },
        {
            key: "setControlVisible",
            value: function setControlVisible(t, e) {
                this._controlsVisibility || (this._controlsVisibility = {}), this._controlsVisibility[t] = e;
            }
        },
        {
            key: "setControlsVisibility",
            value: function setControlsVisibility() {
                var _this = this;
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                Object.entries(_$t).forEach(function(t) {
                    var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), e = _t[0], _$s = _t[1];
                    return _this.setControlVisible(e, _$s);
                });
            }
        },
        {
            key: "clearContextTop",
            value: function clearContextTop(t) {
                if (!this.canvas) return;
                var e = this.canvas.contextTop;
                if (!e) return;
                var _$s = this.canvas.viewportTransform;
                e.save(), e.transform(_$s[0], _$s[1], _$s[2], _$s[3], _$s[4], _$s[5]), this.transform(e);
                var i = this.width + 4, _$r = this.height + 4;
                return e.clearRect(-i / 2, -_$r / 2, i, _$r), t || e.restore(), e;
            }
        },
        {
            key: "onDeselect",
            value: function onDeselect(t) {
                return !1;
            }
        },
        {
            key: "onSelect",
            value: function onSelect(t) {
                return !1;
            }
        },
        {
            key: "shouldStartDragging",
            value: function shouldStartDragging(t) {
                return !1;
            }
        },
        {
            key: "onDragStart",
            value: function onDragStart(t) {
                return !1;
            }
        },
        {
            key: "canDrop",
            value: function canDrop(t) {
                return !1;
            }
        },
        {
            key: "renderDragSourceEffect",
            value: function renderDragSourceEffect(t) {}
        },
        {
            key: "renderDropTargetEffect",
            value: function renderDropTargetEffect(t) {}
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ji), "getDefaults", this).call(this)), ji.ownDefaults);
            }
        },
        {
            key: "createControls",
            value: function createControls() {
                return {
                    controls: Pi()
                };
            }
        }
    ]);
    return ji;
}(ei);
function Fi(t, e) {
    return e.forEach(function(e) {
        Object.getOwnPropertyNames(e.prototype).forEach(function(s) {
            "constructor" !== s && Object.defineProperty(t.prototype, s, Object.getOwnPropertyDescriptor(e.prototype, s) || Object.create(null));
        });
    }), t;
}
t(ji, "ownDefaults", {
    noScaleCache: !0,
    lockMovementX: !1,
    lockMovementY: !1,
    lockRotation: !1,
    lockScalingX: !1,
    lockScalingY: !1,
    lockSkewingX: !1,
    lockSkewingY: !1,
    lockScalingFlip: !1,
    cornerSize: 13,
    touchCornerSize: 24,
    transparentCorners: !0,
    cornerColor: "rgb(178,204,255)",
    cornerStrokeColor: "",
    cornerStyle: "rect",
    cornerDashArray: null,
    hasControls: !0,
    borderColor: "rgb(178,204,255)",
    borderDashArray: null,
    borderOpacityWhenMoving: .4,
    borderScaleFactor: 1,
    hasBorders: !0,
    selectionBackgroundColor: "",
    selectable: !0,
    evented: !0,
    perPixelTargetFind: !1,
    activeOn: "down",
    hoverCursor: null,
    moveCursor: null
});
var Li = /*#__PURE__*/ function(ji) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Li, ji);
    function Li() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Li);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Li, arguments);
    }
    return Li;
}(ji);
Fi(Li, [
    We
]), tt.setClass(Li), tt.setClass(Li, "object");
var Ri = function(t, e, s, i) {
    var _$r = 2 * (i = Math.round(i)) + 1, _t_getImageData = t.getImageData(e - i, s - i, _$r, _$r), n = _t_getImageData.data;
    for(var _$t = 3; _$t < n.length; _$t += 4){
        if (n[_$t] > 0) return !1;
    }
    return !0;
};
var Ii = /*#__PURE__*/ function() {
    "use strict";
    function Ii(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ii);
        this.options = t, this.strokeProjectionMagnitude = this.options.strokeWidth / 2, this.scale = new ot(this.options.scaleX, this.options.scaleY), this.strokeUniformScalar = this.options.strokeUniform ? new ot(1 / this.options.scaleX, 1 / this.options.scaleY) : new ot(1, 1);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ii, [
        {
            key: "createSideVector",
            value: function createSideVector(t, e) {
                var _$s = vs(t, e);
                return this.options.strokeUniform ? _$s.multiply(this.scale) : _$s;
            }
        },
        {
            key: "projectOrthogonally",
            value: function projectOrthogonally(t, e, s) {
                return this.applySkew(t.add(this.calcOrthogonalProjection(t, e, s)));
            }
        },
        {
            key: "isSkewed",
            value: function isSkewed() {
                return 0 !== this.options.skewX || 0 !== this.options.skewY;
            }
        },
        {
            key: "applySkew",
            value: function applySkew(t) {
                var e = new ot(t);
                return e.y += e.x * Math.tan(xt(this.options.skewY)), e.x += e.y * Math.tan(xt(this.options.skewX)), e;
            }
        },
        {
            key: "scaleUnitVector",
            value: function scaleUnitVector(t, e) {
                return t.multiply(this.strokeUniformScalar).scalarMultiply(e);
            }
        }
    ]);
    return Ii;
}();
var Bi = new ot;
var Xi = /*#__PURE__*/ function(Ii) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Xi, Ii);
    function Xi(e, s, i, r) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Xi);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Xi, [
            r
        ]), t(_this, "AB", void 0), t(_this, "AC", void 0), t(_this, "alpha", void 0), t(_this, "bisector", void 0), _this.A = new ot(e), _this.B = new ot(s), _this.C = new ot(i), _this.AB = _this.createSideVector(_this.A, _this.B), _this.AC = _this.createSideVector(_this.A, _this.C), _this.alpha = _s(_this.AB, _this.AC), _this.bisector = Cs(ms(_this.AB.eq(Bi) ? _this.AC : _this.AB, _this.alpha / 2));
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Xi, [
        {
            key: "calcOrthogonalProjection",
            value: function calcOrthogonalProjection(t, e) {
                var _$s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.strokeProjectionMagnitude;
                var i = this.createSideVector(t, e), _$r = bs(i), n = Xi.getOrthogonalRotationFactor(_$r, this.bisector);
                return this.scaleUnitVector(_$r, _$s * n);
            }
        },
        {
            key: "projectBevel",
            value: function projectBevel() {
                var _this = this;
                var _$t = [];
                return (this.alpha % S == 0 ? [
                    this.B
                ] : [
                    this.B,
                    this.C
                ]).forEach(function(e) {
                    _$t.push(_this.projectOrthogonally(_this.A, e)), _$t.push(_this.projectOrthogonally(_this.A, e, -_this.strokeProjectionMagnitude));
                }), _$t;
            }
        },
        {
            key: "projectMiter",
            value: function projectMiter() {
                var _t;
                var _$t = [], e = Math.abs(this.alpha), _$s = 1 / Math.sin(e / 2), i = this.scaleUnitVector(this.bisector, -this.strokeProjectionMagnitude * _$s), _$r = this.options.strokeUniform ? ys(this.scaleUnitVector(this.bisector, this.options.strokeMiterLimit)) : this.options.strokeMiterLimit;
                return ys(i) / this.strokeProjectionMagnitude <= _$r && _$t.push(this.applySkew(this.A.add(i))), (_t = _$t).push.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.projectBevel())), _$t;
            }
        },
        {
            key: "projectRoundNoSkew",
            value: function projectRoundNoSkew(t, e) {
                var _this = this;
                var _$s = [], i = new ot(Xi.getOrthogonalRotationFactor(this.bisector), Xi.getOrthogonalRotationFactor(new ot(this.bisector.y, this.bisector.x)));
                return [
                    new ot(1, 0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),
                    new ot(0, 1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)
                ].forEach(function(i) {
                    Ts(i, t, e) && _$s.push(_this.A.add(i));
                }), _$s;
            }
        },
        {
            key: "projectRoundWithSkew",
            value: function projectRoundWithSkew(t, e) {
                var _this = this;
                var _$s = [], _this_options = this.options, i = _this_options.skewX, _$r = _this_options.skewY, n = _this_options.scaleX, o = _this_options.scaleY, a = _this_options.strokeUniform, h = new ot(Math.tan(xt(i)), Math.tan(xt(_$r))), c = this.strokeProjectionMagnitude, l = a ? c / o / Math.sqrt(1 / Math.pow(o, 2) + 1 / Math.pow(n, 2) * Math.pow(h.y, 2)) : c / Math.sqrt(1 + Math.pow(h.y, 2)), u = new ot(Math.sqrt(Math.max(Math.pow(c, 2) - Math.pow(l, 2), 0)), l), d = a ? c / Math.sqrt(1 + Math.pow(h.x, 2) * Math.pow(1 / o, 2) / Math.pow(1 / n + 1 / n * h.x * h.y, 2)) : c / Math.sqrt(1 + Math.pow(h.x, 2) / Math.pow(1 + h.x * h.y, 2)), g = new ot(d, Math.sqrt(Math.max(Math.pow(c, 2) - Math.pow(d, 2), 0)));
                return [
                    g,
                    g.scalarMultiply(-1),
                    u,
                    u.scalarMultiply(-1)
                ].map(function(t) {
                    return _this.applySkew(a ? t.multiply(_this.strokeUniformScalar) : t);
                }).forEach(function(i) {
                    Ts(i, t, e) && _$s.push(_this.applySkew(_this.A).add(i));
                }), _$s;
            }
        },
        {
            key: "projectRound",
            value: function projectRound() {
                var _t, _t1, _t2;
                var _$t = [];
                (_t = _$t).push.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.projectBevel()));
                var e = this.alpha % S == 0, _$s = this.applySkew(this.A), i = _$t[e ? 0 : 2].subtract(_$s), _$r = _$t[e ? 1 : 0].subtract(_$s), n = e ? this.applySkew(this.AB.scalarMultiply(-1)) : this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)), o = Ss(i, n) > 0, a = o ? i : _$r, h = o ? _$r : i;
                return this.isSkewed() ? (_t1 = _$t).push.apply(_t1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.projectRoundWithSkew(a, h))) : (_t2 = _$t).push.apply(_t2, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.projectRoundNoSkew(a, h))), _$t;
            }
        },
        {
            key: "projectPoints",
            value: function projectPoints() {
                switch(this.options.strokeLineJoin){
                    case "miter":
                        return this.projectMiter();
                    case "round":
                        return this.projectRound();
                    default:
                        return this.projectBevel();
                }
            }
        },
        {
            key: "project",
            value: function project() {
                var _this = this;
                return this.projectPoints().map(function(t) {
                    return {
                        originPoint: _this.A,
                        projectedPoint: t,
                        angle: _this.alpha,
                        bisector: _this.bisector
                    };
                });
            }
        }
    ], [
        {
            key: "getOrthogonalRotationFactor",
            value: function getOrthogonalRotationFactor(t, e) {
                var _$s = e ? _s(t, e) : xs(t);
                return Math.abs(_$s) < b ? -1 : 1;
            }
        }
    ]);
    return Xi;
}(Ii);
var Yi = /*#__PURE__*/ function(Ii) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Yi, Ii);
    function Yi(t, e, s) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Yi);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Yi, [
            s
        ]), _this.A = new ot(t), _this.T = new ot(e);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Yi, [
        {
            key: "calcOrthogonalProjection",
            value: function calcOrthogonalProjection(t, e) {
                var _$s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.strokeProjectionMagnitude;
                var i = this.createSideVector(t, e);
                return this.scaleUnitVector(bs(i), _$s);
            }
        },
        {
            key: "projectButt",
            value: function projectButt() {
                return [
                    this.projectOrthogonally(this.A, this.T, this.strokeProjectionMagnitude),
                    this.projectOrthogonally(this.A, this.T, -this.strokeProjectionMagnitude)
                ];
            }
        },
        {
            key: "projectRound",
            value: function projectRound() {
                var _t;
                var _$t = [];
                if (!this.isSkewed() && this.A.eq(this.T)) {
                    var e = new ot(1, 1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);
                    _$t.push(this.applySkew(this.A.add(e)), this.applySkew(this.A.subtract(e)));
                } else (_t = _$t).push.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(new Xi(this.A, this.T, this.T, this.options).projectRound()));
                return _$t;
            }
        },
        {
            key: "projectSquare",
            value: function projectSquare() {
                var _this = this;
                var _$t = [];
                if (this.A.eq(this.T)) {
                    var e = new ot(1, 1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);
                    _$t.push(this.A.add(e), this.A.subtract(e));
                } else {
                    var e1 = this.calcOrthogonalProjection(this.A, this.T, this.strokeProjectionMagnitude), _$s = this.scaleUnitVector(Cs(this.createSideVector(this.A, this.T)), -this.strokeProjectionMagnitude), i = this.A.add(_$s);
                    _$t.push(i.add(e1), i.subtract(e1));
                }
                return _$t.map(function(t) {
                    return _this.applySkew(t);
                });
            }
        },
        {
            key: "projectPoints",
            value: function projectPoints() {
                switch(this.options.strokeLineCap){
                    case "round":
                        return this.projectRound();
                    case "square":
                        return this.projectSquare();
                    default:
                        return this.projectButt();
                }
            }
        },
        {
            key: "project",
            value: function project() {
                var _this = this;
                return this.projectPoints().map(function(t) {
                    return {
                        originPoint: _this.A,
                        projectedPoint: t
                    };
                });
            }
        }
    ]);
    return Yi;
}(Ii);
var Wi = function Wi(t, e) {
    var _$s = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
    var i = [];
    if (0 === t.length) return i;
    var _$r = t.reduce(function(t, e) {
        return t[t.length - 1].eq(e) || t.push(new ot(e)), t;
    }, [
        new ot(t[0])
    ]);
    if (1 === _$r.length) _$s = !0;
    else if (!_$s) {
        var _$t = _$r[0], e1 = function(t, e) {
            for(var _$s = t.length - 1; _$s >= 0; _$s--)if (e(t[_$s], _$s, t)) return _$s;
            return -1;
        }(_$r, function(e) {
            return !e.eq(_$t);
        });
        _$r.splice(e1 + 1);
    }
    return _$r.forEach(function(t, r, n) {
        var _i, _i1, _i2;
        var o, a;
        0 === r ? (a = n[1], o = _$s ? t : n[n.length - 1]) : r === n.length - 1 ? (o = n[r - 1], a = _$s ? t : n[0]) : (o = n[r - 1], a = n[r + 1]), _$s && 1 === n.length ? (_i = i).push.apply(_i, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(new Yi(t, t, e).project())) : !_$s || 0 !== r && r !== n.length - 1 ? (_i1 = i).push.apply(_i1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(new Xi(t, o, a, e).project())) : (_i2 = i).push.apply(_i2, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(new Yi(t, 0 === r ? a : o, e).project()));
    }), i;
}, Vi = function(t) {
    var e = {};
    return Object.keys(t).forEach(function(i) {
        e[i] = {}, Object.keys(t[i]).forEach(function(r) {
            e[i][r] = s({}, t[i][r]);
        });
    }), e;
}, zi = function(t) {
    return t.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
};
var Gi;
var Hi = function(t) {
    if (Gi || Gi || (Gi = "Intl" in v() && "Segmenter" in Intl && new Intl.Segmenter(void 0, {
        granularity: "grapheme"
    })), Gi) {
        var e = Gi.segment(t);
        return Array.from(e).map(function(t) {
            var e = t.segment;
            return e;
        });
    }
    return Ni(t);
}, Ni = function(t) {
    var e = [];
    for(var _$s, i = 0; i < t.length; i++)!1 !== (_$s = Ui(t, i)) && e.push(_$s);
    return e;
}, Ui = function(t, e) {
    var _$s = t.charCodeAt(e);
    if (isNaN(_$s)) return "";
    if (_$s < 55296 || _$s > 57343) return t.charAt(e);
    if (55296 <= _$s && _$s <= 56319) {
        if (t.length <= e + 1) throw "High surrogate without following low surrogate";
        var _$s1 = t.charCodeAt(e + 1);
        if (56320 > _$s1 || _$s1 > 57343) throw "High surrogate without following low surrogate";
        return t.charAt(e) + t.charAt(e + 1);
    }
    if (0 === e) throw "Low surrogate without preceding high surrogate";
    var i = t.charCodeAt(e - 1);
    if (55296 > i || i > 56319) throw "Low surrogate without preceding high surrogate";
    return !1;
};
var qi = Object.freeze({
    __proto__: null,
    capitalize: function capitalize(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return "".concat(t.charAt(0).toUpperCase()).concat(e ? t.slice(1) : t.slice(1).toLowerCase());
    },
    escapeXml: zi,
    graphemeSplit: Hi
});
var Ki = function Ki(t, e) {
    var _$s = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
    return t.fill !== e.fill || t.stroke !== e.stroke || t.strokeWidth !== e.strokeWidth || t.fontSize !== e.fontSize || t.fontFamily !== e.fontFamily || t.fontWeight !== e.fontWeight || t.fontStyle !== e.fontStyle || t.textDecorationThickness !== e.textDecorationThickness || t.textBackgroundColor !== e.textBackgroundColor || t.deltaY !== e.deltaY || _$s && (t.overline !== e.overline || t.underline !== e.underline || t.linethrough !== e.linethrough);
}, Ji = function(t, e) {
    var _$s = e.split("\n"), i = [];
    var _$r = -1, n = {};
    t = Vi(t);
    for(var _$e = 0; _$e < _$s.length; _$e++){
        var o = Hi(_$s[_$e]);
        if (t[_$e]) for(var _$s1 = 0; _$s1 < o.length; _$s1++){
            _$r++;
            var o1 = t[_$e][_$s1];
            o1 && Object.keys(o1).length > 0 && (Ki(n, o1, !0) ? i.push({
                start: _$r,
                end: _$r + 1,
                style: o1
            }) : i[i.length - 1].end++), n = o1 || {};
        }
        else _$r += o.length, n = {};
    }
    return i;
}, Qi = function(t, e) {
    if (!Array.isArray(t)) return Vi(t);
    var i = e.split(F), _$r = {};
    var n = -1, o = 0;
    for(var _$e = 0; _$e < i.length; _$e++){
        var a = Hi(i[_$e]);
        for(var i1 = 0; i1 < a.length; i1++)n++, t[o] && t[o].start <= n && n < t[o].end && (_$r[_$e] = _$r[_$e] || {}, _$r[_$e][i1] = s({}, t[o].style), n === t[o].end - 1 && o++);
    }
    return _$r;
}, Zi = [
    "display",
    "transform",
    K,
    "fill-opacity",
    "fill-rule",
    "opacity",
    J,
    "stroke-dasharray",
    "stroke-linecap",
    "stroke-dashoffset",
    "stroke-linejoin",
    "stroke-miterlimit",
    "stroke-opacity",
    "stroke-width",
    "id",
    "paint-order",
    "vector-effect",
    "instantiated_by_use",
    "clip-path"
];
function $i(t, e) {
    var _$s = t.nodeName, i = t.getAttribute("class"), _$r = t.getAttribute("id"), n = "(?![a-zA-Z\\-]+)";
    var o;
    if (o = new RegExp("^" + _$s, "i"), e = e.replace(o, ""), _$r && e.length && (o = new RegExp("#" + _$r + n, "i"), e = e.replace(o, "")), i && e.length) {
        var _$t = i.split(" ");
        for(var _$s1 = _$t.length; _$s1--;)o = new RegExp("\\." + _$t[_$s1] + n, "i"), e = e.replace(o, "");
    }
    return 0 === e.length;
}
function tr(t, e) {
    var _$s = !0;
    var i = $i(t, e.pop());
    return i && e.length && (_$s = function(t, e) {
        var _$s, i = !0;
        for(; t.parentElement && 1 === t.parentElement.nodeType && e.length;)i && (_$s = e.pop()), i = $i(t = t.parentElement, _$s);
        return 0 === e.length;
    }(t, e)), i && _$s && 0 === e.length;
}
var er = function(t) {
    var e;
    return null !== (e = as[t]) && void 0 !== e ? e : t;
}, sr = new RegExp("(".concat(is, ")"), "gi"), ir = function(t) {
    return Pe(t.replace(sr, " $1 ").replace(/,/gi, " "));
};
var rr, nr, or, ar, hr, cr, lr;
var ur = "(".concat(is, ")"), dr = String.raw(rr || (rr = r([
    "(skewX)(",
    ")"
], [
    "(skewX)\\(",
    "\\)"
])), ur), gr = String.raw(nr || (nr = r([
    "(skewY)(",
    ")"
], [
    "(skewY)\\(",
    "\\)"
])), ur), fr = String.raw(or || (or = r([
    "(rotate)(",
    "(?: ",
    " ",
    ")?)"
], [
    "(rotate)\\(",
    "(?: ",
    " ",
    ")?\\)"
])), ur, ur, ur), pr = String.raw(ar || (ar = r([
    "(scale)(",
    "(?: ",
    ")?)"
], [
    "(scale)\\(",
    "(?: ",
    ")?\\)"
])), ur, ur), mr = String.raw(hr || (hr = r([
    "(translate)(",
    "(?: ",
    ")?)"
], [
    "(translate)\\(",
    "(?: ",
    ")?\\)"
])), ur, ur), vr = String.raw(cr || (cr = r([
    "(matrix)(",
    " ",
    " ",
    " ",
    " ",
    " ",
    ")"
], [
    "(matrix)\\(",
    " ",
    " ",
    " ",
    " ",
    " ",
    "\\)"
])), ur, ur, ur, ur, ur, ur), yr = "(?:".concat(vr, "|").concat(mr, "|").concat(fr, "|").concat(pr, "|").concat(dr, "|").concat(gr, ")"), _r = "(?:".concat(yr, "*)"), xr = String.raw(lr || (lr = r([
    "^s*(?:",
    "?)s*$"
], [
    "^\\s*(?:",
    "?)\\s*$"
])), _r), Cr = new RegExp(xr), br = new RegExp(yr), Sr = new RegExp(yr, "g");
function wr(t) {
    var e = [];
    if (!(t = ir(t).replace(/\s*([()])\s*/gi, "$1")) || t && !Cr.test(t)) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(T);
    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;
    try {
        for(var _iterator = t.matchAll(Sr)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){
            var _$s = _step.value;
            var _$t = br.exec(_$s[0]);
            if (!_$t) continue;
            var i = T;
            var _$r = _$t.filter(function(t) {
                return !!t;
            }), _r = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$r), n = _r[1], o = _r.slice(2), _o_map = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(o.map(function(t) {
                return parseFloat(t);
            }), 6), a = _o_map[0], h = _o_map[1], c = _o_map[2], l = _o_map[3], u = _o_map[4], d = _o_map[5];
            switch(n){
                case "translate":
                    i = Mt(a, h);
                    break;
                case B:
                    i = Pt({
                        angle: a
                    }, {
                        x: h,
                        y: c
                    });
                    break;
                case G:
                    i = Et(a, h);
                    break;
                case U:
                    i = jt(a);
                    break;
                case q:
                    i = Ft(a);
                    break;
                case "matrix":
                    i = [
                        a,
                        h,
                        c,
                        l,
                        u,
                        d
                    ];
            }
            e.push(i);
        }
    } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
    } finally{
        try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
            }
        } finally{
            if (_didIteratorError) {
                throw _iteratorError;
            }
        }
    }
    return Ot(e);
}
function Tr(t, e, s, i) {
    var _$r = Array.isArray(e);
    var n, o = e;
    if (t !== K && t !== J || e !== j) {
        if ("strokeUniform" === t) return "non-scaling-stroke" === e;
        if ("strokeDashArray" === t) o = e === j ? null : e.replace(/,/g, " ").split(/\s+/).map(parseFloat);
        else if ("transformMatrix" === t) o = s && s.transformMatrix ? Tt(s.transformMatrix, wr(e)) : wr(e);
        else if ("visible" === t) o = e !== j && "hidden" !== e, s && !1 === s.visible && (o = !1);
        else if ("opacity" === t) o = parseFloat(e), s && void 0 !== s.opacity && (o *= s.opacity);
        else if ("textAnchor" === t) o = "start" === e ? M : "end" === e ? A : D;
        else if ("charSpacing" === t || t === ze) n = Be(e, i) / i * 1e3;
        else if ("paintFirst" === t) {
            var _$t = e.indexOf(K), _$s = e.indexOf(J);
            o = K, (_$t > -1 && _$s > -1 && _$s < _$t || -1 === _$t && _$s > -1) && (o = J);
        } else {
            if ("href" === t || "xlink:href" === t || "font" === t || "id" === t) return e;
            if ("imageSmoothing" === t) return "optimizeQuality" === e;
            n = _$r ? e.map(Be) : Be(e, i);
        }
    } else o = "";
    return !_$r && isNaN(n) ? o : n;
}
function Or(t, e) {
    var _$s = t.match(os);
    if (!_$s) return;
    var i = _$s[1], _$r = _$s[3], n = _$s[4], o = _$s[5], a = _$s[6];
    i && (e.fontStyle = i), _$r && (e.fontWeight = isNaN(parseFloat(_$r)) ? _$r : parseFloat(_$r)), n && (e.fontSize = Be(n)), a && (e.fontFamily = a), o && (e.lineHeight = "normal" === o ? 1 : o);
}
function kr(t, e) {
    t.replace(/;\s*$/, "").split(";").forEach(function(t) {
        if (!t) return;
        var _t_split = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t.split(":"), 2), _$s = _t_split[0], i = _t_split[1];
        e[_$s.trim().toLowerCase()] = i.trim();
    });
}
function Dr(t) {
    var e = {}, _$s = t.getAttribute("style");
    return _$s ? ("string" == typeof _$s ? kr(_$s, e) : function(t, e) {
        Object.entries(t).forEach(function(t) {
            var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), _$s = _t[0], i = _t[1];
            void 0 !== i && (e[_$s.toLowerCase()] = i);
        });
    }(_$s, e), e) : e;
}
var Mr = {
    stroke: "strokeOpacity",
    fill: "fillOpacity"
};
function Pr(t, e, i) {
    if (!t) return {};
    var _$r, n = {}, o = O;
    t.parentNode && ds.test(t.parentNode.nodeName) && (n = Pr(t.parentElement, e, i), n.fontSize && (_$r = o = Be(n.fontSize)));
    var a = s(s(s({}, e.reduce(function(e, s) {
        var _$i = t.getAttribute(s);
        return _$i && (e[s] = _$i), e;
    }, {})), function(t) {
        var _$e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, _$i = {};
        for(var _$r in _$e)tr(t, _$r.split(" ")) && (_$i = s(s({}, _$i), _$e[_$r]));
        return _$i;
    }(t, i)), Dr(t));
    a[cs] && t.setAttribute(cs, a[cs]), a[hs] && (_$r = Be(a[hs], o), a[hs] = "".concat(_$r));
    var h = {};
    for(var _$t in a){
        var _$e = er(_$t), _$s = Tr(_$e, a[_$t], n, _$r);
        h[_$e] = _$s;
    }
    h && h.font && Or(h.font, h);
    var c = s(s({}, n), h);
    return ds.test(t.nodeName) ? c : function(t) {
        var _$e = Li.getDefaults();
        return Object.entries(Mr).forEach(function(s) {
            var _s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(s, 2), _$i = _s[0], _$r = _s[1];
            if (void 0 === t[_$r] || "" === t[_$i]) return;
            if (void 0 === t[_$i]) {
                if (!_$e[_$i]) return;
                t[_$i] = _$e[_$i];
            }
            if (0 === t[_$i].indexOf("url(")) return;
            var n = new Ie(t[_$i]);
            t[_$i] = n.setAlpha(Vt(n.getAlpha() * t[_$r], 2)).toRgba();
        }), t;
    }(c);
}
var Er = [
    "left",
    "top",
    "width",
    "height",
    "visible"
], Ar = [
    "rx",
    "ry"
];
var jr = /*#__PURE__*/ function(Li) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(jr, Li);
    function jr(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, jr);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, jr), Object.assign(_this, jr.ownDefaults), _this.setOptions(t), _this._initRxRy();
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(jr, [
        {
            key: "_initRxRy",
            value: function _initRxRy() {
                var _this = this, _$t = _this.rx, e = _this.ry;
                _$t && !e ? this.ry = _$t : e && !_$t && (this.rx = e);
            }
        },
        {
            key: "_render",
            value: function _render(t) {
                var _this = this, e = _this.width, _$s = _this.height, i = -e / 2, _$r = -_$s / 2, n = this.rx ? Math.min(this.rx, e / 2) : 0, o = this.ry ? Math.min(this.ry, _$s / 2) : 0, a = 0 !== n || 0 !== o;
                t.beginPath(), t.moveTo(i + n, _$r), t.lineTo(i + e - n, _$r), a && t.bezierCurveTo(i + e - k * n, _$r, i + e, _$r + k * o, i + e, _$r + o), t.lineTo(i + e, _$r + _$s - o), a && t.bezierCurveTo(i + e, _$r + _$s - k * o, i + e - k * n, _$r + _$s, i + e - n, _$r + _$s), t.lineTo(i + n, _$r + _$s), a && t.bezierCurveTo(i + k * n, _$r + _$s, i, _$r + _$s - k * o, i, _$r + _$s - o), t.lineTo(i, _$r + o), a && t.bezierCurveTo(i, _$r + k * o, i + k * n, _$r, i + n, _$r), t.closePath(), this._renderPaintInOrder(t);
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(jr.prototype), "toObject", this).call(this, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ar).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$t)));
            }
        },
        {
            key: "_toSVG",
            value: function _toSVG() {
                var _this = this, _$t = _this.width, e = _this.height, _$s = _this.rx, i = _this.ry;
                return [
                    "<rect ",
                    "COMMON_PARTS",
                    'x="'.concat(-_$t / 2, '" y="').concat(-e / 2, '" rx="').concat(_$s, '" ry="').concat(i, '" width="').concat(_$t, '" height="').concat(e, '" />\n')
                ];
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(jr), "getDefaults", this).call(this)), jr.ownDefaults);
            }
        },
        {
            key: "fromElement",
            value: function fromElement(t, e, r) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var n, tmp, o, tmp1, a, tmp2, h, tmp3, c, tmp4, l, u;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        n = Pr(t, this.ATTRIBUTE_NAMES, r), tmp = n.left, o = tmp === void 0 ? 0 : tmp, tmp1 = n.top, a = tmp1 === void 0 ? 0 : tmp1, tmp2 = n.width, h = tmp2 === void 0 ? 0 : tmp2, tmp3 = n.height, c = tmp3 === void 0 ? 0 : tmp3, tmp4 = n.visible, l = tmp4 === void 0 ? !0 : tmp4, u = i(n, Er);
                        return [
                            2,
                            new this(s(s(s({}, e), u), {}, {
                                left: o,
                                top: a,
                                width: h,
                                height: c,
                                visible: Boolean(l && h && c)
                            }))
                        ];
                    });
                }).call(this);
            }
        }
    ]);
    return jr;
}(Li);
t(jr, "type", "Rect"), t(jr, "cacheProperties", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Es).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ar))), t(jr, "ownDefaults", {
    rx: 0,
    ry: 0
}), t(jr, "ATTRIBUTE_NAMES", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Zi).concat([
    "x",
    "y",
    "rx",
    "ry",
    "width",
    "height"
])), tt.setClass(jr), tt.setSVGClass(jr);
var Fr = "initialization", Lr = "added", Rr = "removed", Ir = "imperative", Br = function(t, e) {
    var _$s = e.strokeUniform, i = e.strokeWidth, _$r = e.width, n = e.height, o = e.group, a = o && o !== t ? pe(o.calcTransformMatrix(), t.calcTransformMatrix()) : null, h = a ? e.getRelativeCenterPoint().transform(a) : e.getRelativeCenterPoint(), c = !e.isStrokeAccountedForInDimensions(), l = _$s && c ? ve(new ot(i, i), void 0, t.calcTransformMatrix()) : at, u = !_$s && c ? i : 0, d = fe(_$r + u, n + u, Ot([
        a,
        e.calcOwnMatrix()
    ], !0)).add(l).scalarDivide(2);
    return [
        h.subtract(d),
        h.add(d)
    ];
};
var Xr = /*#__PURE__*/ function() {
    "use strict";
    function Xr() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Xr);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Xr, [
        {
            key: "calcLayoutResult",
            value: function calcLayoutResult(t, e) {
                if (this.shouldPerformLayout(t)) return this.calcBoundingBox(e, t);
            }
        },
        {
            key: "shouldPerformLayout",
            value: function shouldPerformLayout(t) {
                var e = t.type, _$s = t.prevStrategy, i = t.strategy;
                return e === Fr || e === Ir || !!_$s && i !== _$s;
            }
        },
        {
            key: "shouldLayoutClipPath",
            value: function shouldLayoutClipPath(t) {
                var e = t.type, _t_target = t.target, _$s = _t_target.clipPath;
                return e !== Fr && _$s && !_$s.absolutePositioned;
            }
        },
        {
            key: "getInitialSize",
            value: function getInitialSize(t, e) {
                return e.size;
            }
        },
        {
            key: "calcBoundingBox",
            value: function calcBoundingBox(t, e) {
                var _$s = e.type, i = e.target;
                if (_$s === Ir && e.overrides) return e.overrides;
                if (0 === t.length) return;
                var _he = he(t.map(function(t) {
                    return Br(i, t);
                }).reduce(function(t, e) {
                    return t.concat(e);
                }, [])), _$r = _he.left, n = _he.top, o = _he.width, a = _he.height, h = new ot(o, a), c = new ot(_$r, n).add(h.scalarDivide(2));
                if (_$s === Fr) {
                    var _$t = this.getInitialSize(e, {
                        size: h,
                        center: c
                    });
                    return {
                        center: c,
                        relativeCorrection: new ot(0, 0),
                        size: _$t
                    };
                }
                return {
                    center: c.transform(i.calcOwnMatrix()),
                    size: h
                };
            }
        }
    ]);
    return Xr;
}();
t(Xr, "type", "strategy");
var Yr = /*#__PURE__*/ function(Xr) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Yr, Xr);
    function Yr() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Yr);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Yr, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Yr, [
        {
            key: "shouldPerformLayout",
            value: function shouldPerformLayout(t) {
                return !0;
            }
        }
    ]);
    return Yr;
}(Xr);
t(Yr, "type", "fit-content"), tt.setClass(Yr);
var Wr = [
    "strategy"
], Vr = [
    "target",
    "strategy",
    "bubbles",
    "prevStrategy"
], zr = "layoutManager";
var Gr = /*#__PURE__*/ function() {
    "use strict";
    function Gr() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Gr);
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new Yr;
        t(this, "strategy", void 0), this.strategy = e, this._subscriptions = new Map;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Gr, [
        {
            key: "performLayout",
            value: function performLayout(t) {
                var e = s(s({
                    bubbles: !0,
                    strategy: this.strategy
                }, t), {}, {
                    prevStrategy: this._prevLayoutStrategy,
                    stopPropagation: function stopPropagation() {
                        this.bubbles = !1;
                    }
                });
                this.onBeforeLayout(e);
                var i = this.getLayoutResult(e);
                i && this.commitLayout(e, i), this.onAfterLayout(e, i), this._prevLayoutStrategy = e.strategy;
            }
        },
        {
            key: "attachHandlers",
            value: function attachHandlers(t, e) {
                var _this = this;
                var _$s = e.target;
                return [
                    Q,
                    L,
                    Y,
                    I,
                    R,
                    X,
                    z,
                    W,
                    V
                ].map(function(e) {
                    return t.on(e, function(t) {
                        return _this.performLayout(e === Q ? {
                            type: "object_modified",
                            trigger: e,
                            e: t,
                            target: _$s
                        } : {
                            type: "object_modifying",
                            trigger: e,
                            e: t,
                            target: _$s
                        });
                    });
                });
            }
        },
        {
            key: "subscribe",
            value: function subscribe(t, e) {
                this.unsubscribe(t, e);
                var _$s = this.attachHandlers(t, e);
                this._subscriptions.set(t, _$s);
            }
        },
        {
            key: "unsubscribe",
            value: function unsubscribe(t, e) {
                (this._subscriptions.get(t) || []).forEach(function(t) {
                    return t();
                }), this._subscriptions.delete(t);
            }
        },
        {
            key: "unsubscribeTargets",
            value: function unsubscribeTargets(t) {
                var _this = this;
                t.targets.forEach(function(e) {
                    return _this.unsubscribe(e, t);
                });
            }
        },
        {
            key: "subscribeTargets",
            value: function subscribeTargets(t) {
                var _this = this;
                t.targets.forEach(function(e) {
                    return _this.subscribe(e, t);
                });
            }
        },
        {
            key: "onBeforeLayout",
            value: function onBeforeLayout(t) {
                var e = t.target, _$r = t.type, n = e.canvas;
                if (_$r === Fr || _$r === Lr ? this.subscribeTargets(t) : _$r === Rr && this.unsubscribeTargets(t), e.fire("layout:before", {
                    context: t
                }), n && n.fire("object:layout:before", {
                    target: e,
                    context: t
                }), _$r === Ir && t.deep) {
                    var _$r1 = i(t, Wr);
                    e.forEachObject(function(t) {
                        return t.layoutManager && t.layoutManager.performLayout(s(s({}, _$r1), {}, {
                            bubbles: !1,
                            target: t
                        }));
                    });
                }
            }
        },
        {
            key: "getLayoutResult",
            value: function getLayoutResult(t) {
                var e = t.target, _$s = t.strategy, i = t.type, _$r = _$s.calcLayoutResult(t, e.getObjects());
                if (!_$r) return;
                var n = i === Fr ? new ot : e.getRelativeCenterPoint(), o = _$r.center, tmp = _$r.correction, a = tmp === void 0 ? new ot : tmp, tmp1 = _$r.relativeCorrection, h = tmp1 === void 0 ? new ot : tmp1, c = n.subtract(o).add(a).transform(i === Fr ? T : wt(e.calcOwnMatrix()), !0).add(h);
                return {
                    result: _$r,
                    prevCenter: n,
                    nextCenter: o,
                    offset: c
                };
            }
        },
        {
            key: "commitLayout",
            value: function commitLayout(t, e) {
                var _$s = t.target, _e_result = e.result, i = _e_result.size, _$r = e.nextCenter;
                var n, o;
                (_$s.set({
                    width: i.x,
                    height: i.y
                }), this.layoutObjects(t, e), t.type === Fr) ? _$s.set({
                    left: null !== (n = t.x) && void 0 !== n ? n : _$r.x + i.x * Ce(_$s.originX),
                    top: null !== (o = t.y) && void 0 !== o ? o : _$r.y + i.y * Ce(_$s.originY)
                }) : (_$s.setPositionByOrigin(_$r, D, D), _$s.setCoords(), _$s.set("dirty", !0));
            }
        },
        {
            key: "layoutObjects",
            value: function layoutObjects(t, e) {
                var _this = this;
                var _$s = t.target;
                _$s.forEachObject(function(i) {
                    i.group === _$s && _this.layoutObject(t, e, i);
                }), t.strategy.shouldLayoutClipPath(t) && this.layoutObject(t, e, _$s.clipPath);
            }
        },
        {
            key: "layoutObject",
            value: function layoutObject(t, e, s) {
                var i = e.offset;
                s.set({
                    left: s.left + i.x,
                    top: s.top + i.y
                });
            }
        },
        {
            key: "onAfterLayout",
            value: function onAfterLayout(t, e) {
                var _$r = t.target, n = t.strategy, o = t.bubbles, a = t.prevStrategy, h = i(t, Vr), c = _$r.canvas;
                _$r.fire("layout:after", {
                    context: t,
                    result: e
                }), c && c.fire("object:layout:after", {
                    context: t,
                    result: e,
                    target: _$r
                });
                var l = _$r.parent;
                o && null != l && l.layoutManager && ((h.path || (h.path = [])).push(_$r), l.layoutManager.performLayout(s(s({}, h), {}, {
                    target: l
                }))), _$r.set("dirty", !0);
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                var _this = this, _$t = _this._subscriptions;
                _$t.forEach(function(t) {
                    return t.forEach(function(t) {
                        return t();
                    });
                }), _$t.clear();
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                return {
                    type: zr,
                    strategy: this.strategy.constructor.type
                };
            }
        },
        {
            key: "toJSON",
            value: function toJSON() {
                return this.toObject();
            }
        }
    ]);
    return Gr;
}();
tt.setClass(Gr, zr);
var Hr = [
    "type",
    "objects",
    "layoutManager"
];
var Nr = /*#__PURE__*/ function(Gr) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Nr, Gr);
    function Nr() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Nr);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Nr, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Nr, [
        {
            key: "performLayout",
            value: function performLayout() {}
        }
    ]);
    return Nr;
}(Gr);
var Ur = /*#__PURE__*/ function(_superClass) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur, _superClass);
    function Ur() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ur);
        var _this;
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], _$s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ur), t(_this, "_activeObjects", []), t(_this, "__objectSelectionTracker", void 0), t(_this, "__objectSelectionDisposer", void 0), Object.assign(_this, Ur.ownDefaults), _this.setOptions(_$s), _this.groupInit(e, _$s);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur, [
        {
            key: "groupInit",
            value: function groupInit(t, e) {
                var _this = this;
                var _$s;
                this._objects = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t), this.__objectSelectionTracker = this.__objectSelectionMonitor.bind(this, !0), this.__objectSelectionDisposer = this.__objectSelectionMonitor.bind(this, !1), this.forEachObject(function(t) {
                    _this.enterGroup(t, !1);
                }), this.layoutManager = null !== (_$s = e.layoutManager) && void 0 !== _$s ? _$s : new Gr, this.layoutManager.performLayout({
                    type: Fr,
                    target: this,
                    targets: (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t),
                    x: e.left,
                    y: e.top
                });
            }
        },
        {
            key: "canEnterGroup",
            value: function canEnterGroup(t) {
                return t === this || this.isDescendantOf(t) ? (a("error", "Group: circular object trees are not supported, this call has no effect"), !1) : -1 === this._objects.indexOf(t) || (a("error", "Group: duplicate objects are not supported inside group, this call has no effect"), !1);
            }
        },
        {
            key: "_filterObjectsBeforeEnteringGroup",
            value: function _filterObjectsBeforeEnteringGroup(t) {
                var _this = this;
                return t.filter(function(t, e, s) {
                    return _this.canEnterGroup(t) && s.indexOf(t) === e;
                });
            }
        },
        {
            key: "add",
            value: function add() {
                var _$_get;
                for(var _$t = arguments.length, e = new Array(_$t), _$s = 0; _$s < _$t; _$s++)e[_$s] = arguments[_$s];
                var i = this._filterObjectsBeforeEnteringGroup(e), _$r = (_$_get = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur.prototype), "add", this)).call.apply(_$_get, [
                    this
                ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(i)));
                return this._onAfterObjectsChange(Lr, i), _$r;
            }
        },
        {
            key: "insertAt",
            value: function insertAt(t) {
                var _$_get;
                for(var e = arguments.length, _$s = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)_$s[i - 1] = arguments[i];
                var _$r = this._filterObjectsBeforeEnteringGroup(_$s), n = (_$_get = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur.prototype), "insertAt", this)).call.apply(_$_get, [
                    this,
                    t
                ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$r)));
                return this._onAfterObjectsChange(Lr, _$r), n;
            }
        },
        {
            key: "remove",
            value: function remove() {
                var _$t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur.prototype), "remove", this).apply(this, arguments);
                return this._onAfterObjectsChange(Rr, _$t), _$t;
            }
        },
        {
            key: "_onObjectAdded",
            value: function _onObjectAdded(t) {
                this.enterGroup(t, !0), this.fire("object:added", {
                    target: t
                }), t.fire("added", {
                    target: this
                });
            }
        },
        {
            key: "_onObjectRemoved",
            value: function _onObjectRemoved(t, e) {
                this.exitGroup(t, e), this.fire("object:removed", {
                    target: t
                }), t.fire("removed", {
                    target: this
                });
            }
        },
        {
            key: "_onAfterObjectsChange",
            value: function _onAfterObjectsChange(t, e) {
                this.layoutManager.performLayout({
                    type: t,
                    targets: e,
                    target: this
                });
            }
        },
        {
            key: "_onStackOrderChanged",
            value: function _onStackOrderChanged() {
                this._set("dirty", !0);
            }
        },
        {
            key: "_set",
            value: function _set(t, e) {
                var _$s = this[t];
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur.prototype), "_set", this).call(this, t, e), "canvas" === t && _$s !== e && (this._objects || []).forEach(function(s) {
                    s._set(t, e);
                }), this;
            }
        },
        {
            key: "_shouldSetNestedCoords",
            value: function _shouldSetNestedCoords() {
                return this.subTargetCheck;
            }
        },
        {
            key: "removeAll",
            value: function removeAll() {
                return this._activeObjects = [], this.remove.apply(this, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this._objects));
            }
        },
        {
            key: "__objectSelectionMonitor",
            value: function __objectSelectionMonitor(t, e) {
                var _$s = e.target;
                var i = this._activeObjects;
                if (t) i.push(_$s), this._set("dirty", !0);
                else if (i.length > 0) {
                    var _$t = i.indexOf(_$s);
                    _$t > -1 && (i.splice(_$t, 1), this._set("dirty", !0));
                }
            }
        },
        {
            key: "_watchObject",
            value: function _watchObject(t, e) {
                t && this._watchObject(!1, e), t ? (e.on("selected", this.__objectSelectionTracker), e.on("deselected", this.__objectSelectionDisposer)) : (e.off("selected", this.__objectSelectionTracker), e.off("deselected", this.__objectSelectionDisposer));
            }
        },
        {
            key: "enterGroup",
            value: function enterGroup(t, e) {
                t.group && t.group.remove(t), t._set("parent", this), this._enterGroup(t, e);
            }
        },
        {
            key: "_enterGroup",
            value: function _enterGroup(t, e) {
                e && ue(t, Tt(wt(this.calcTransformMatrix()), t.calcTransformMatrix())), this._shouldSetNestedCoords() && t.setCoords(), t._set("group", this), t._set("canvas", this.canvas), this._watchObject(!0, t);
                var _$s = this.canvas && this.canvas.getActiveObject && this.canvas.getActiveObject();
                _$s && (_$s === t || t.isDescendantOf(_$s)) && this._activeObjects.push(t);
            }
        },
        {
            key: "exitGroup",
            value: function exitGroup(t, e) {
                this._exitGroup(t, e), t._set("parent", void 0), t._set("canvas", void 0);
            }
        },
        {
            key: "_exitGroup",
            value: function _exitGroup(t, e) {
                t._set("group", void 0), e || (ue(t, Tt(this.calcTransformMatrix(), t.calcTransformMatrix())), t.setCoords()), this._watchObject(!1, t);
                var _$s = this._activeObjects.length > 0 ? this._activeObjects.indexOf(t) : -1;
                _$s > -1 && this._activeObjects.splice(_$s, 1);
            }
        },
        {
            key: "shouldCache",
            value: function shouldCache() {
                var _$t = Li.prototype.shouldCache.call(this);
                if (_$t) {
                    for(var _$t1 = 0; _$t1 < this._objects.length; _$t1++)if (this._objects[_$t1].willDrawShadow()) return this.ownCaching = !1, !1;
                }
                return _$t;
            }
        },
        {
            key: "willDrawShadow",
            value: function willDrawShadow() {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur.prototype), "willDrawShadow", this).call(this)) return !0;
                for(var _$t = 0; _$t < this._objects.length; _$t++)if (this._objects[_$t].willDrawShadow()) return !0;
                return !1;
            }
        },
        {
            key: "isOnACache",
            value: function isOnACache() {
                return this.ownCaching || !!this.parent && this.parent.isOnACache();
            }
        },
        {
            key: "drawObject",
            value: function drawObject(t, e, s) {
                this._renderBackground(t);
                for(var e1 = 0; e1 < this._objects.length; e1++){
                    var _t;
                    var i;
                    var _$s = this._objects[e1];
                    null !== (i = this.canvas) && void 0 !== i && i.preserveObjectStacking && _$s.group !== this ? (t.save(), (_t = t).transform.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(wt(this.calcTransformMatrix()))), _$s.render(t), t.restore()) : _$s.group === this && _$s.render(t);
                }
                this._drawClipPath(t, this.clipPath, s);
            }
        },
        {
            key: "setCoords",
            value: function setCoords() {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur.prototype), "setCoords", this).call(this), this._shouldSetNestedCoords() && this.forEachObject(function(t) {
                    return t.setCoords();
                });
            }
        },
        {
            key: "triggerLayout",
            value: function triggerLayout() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                this.layoutManager.performLayout(s({
                    target: this,
                    type: Ir
                }, _$t));
            }
        },
        {
            key: "render",
            value: function render(t) {
                this._transformDone = !0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur.prototype), "render", this).call(this, t), this._transformDone = !1;
            }
        },
        {
            key: "__serializeObjects",
            value: function __serializeObjects(t, e) {
                var _$s = this.includeDefaultValues;
                return this._objects.filter(function(t) {
                    return !t.excludeFromExport;
                }).map(function(i) {
                    var _$r = i.includeDefaultValues;
                    i.includeDefaultValues = _$s;
                    var n = i[t || "toObject"](e);
                    return i.includeDefaultValues = _$r, n;
                });
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                var e = this.layoutManager.toObject();
                return s(s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur.prototype), "toObject", this).call(this, [
                    "subTargetCheck",
                    "interactive"
                ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$t)))), "fit-content" !== e.strategy || this.includeDefaultValues ? {
                    layoutManager: e
                } : {}), {}, {
                    objects: this.__serializeObjects("toObject", _$t)
                });
            }
        },
        {
            key: "toString",
            value: function toString() {
                return "#<Group: (".concat(this.complexity(), ")>");
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                var _this = this;
                this.layoutManager.unsubscribeTargets({
                    targets: this.getObjects(),
                    target: this
                }), this._activeObjects = [], this.forEachObject(function(t) {
                    _this._watchObject(!1, t), t.dispose();
                }), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur.prototype), "dispose", this).call(this);
            }
        },
        {
            key: "_createSVGBgRect",
            value: function _createSVGBgRect(t) {
                if (!this.backgroundColor) return "";
                var e = jr.prototype._toSVG.call(this), _$s = e.indexOf("COMMON_PARTS");
                e[_$s] = 'for="group" ';
                var i = e.join("");
                return t ? t(i) : i;
            }
        },
        {
            key: "_toSVG",
            value: function _toSVG(t) {
                var e = [
                    "<g ",
                    "COMMON_PARTS",
                    " >\n"
                ], _$s = this._createSVGBgRect(t);
                _$s && e.push("\t\t", _$s);
                for(var _$s1 = 0; _$s1 < this._objects.length; _$s1++)e.push("\t\t", this._objects[_$s1].toSVG(t));
                return e.push("</g>\n"), e;
            }
        },
        {
            key: "getSvgStyles",
            value: function getSvgStyles() {
                var _$t = void 0 !== this.opacity && 1 !== this.opacity ? "opacity: ".concat(this.opacity, ";") : "", e = this.visible ? "" : " visibility: hidden;";
                return [
                    _$t,
                    this.getSvgFilter(),
                    e
                ].join("");
            }
        },
        {
            key: "toClipPathSVG",
            value: function toClipPathSVG(t) {
                var e = [], _$s = this._createSVGBgRect(t);
                _$s && e.push("\t", _$s);
                for(var _$s1 = 0; _$s1 < this._objects.length; _$s1++)e.push("\t", this._objects[_$s1].toClipPathSVG(t));
                return this._createBaseClipPathSVGMarkup(e, {
                    reviver: t
                });
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ur), "getDefaults", this).call(this)), Ur.ownDefaults);
            }
        },
        {
            key: "fromObject",
            value: function fromObject(t, e) {
                var _this = this;
                var _$r = t.type, tmp = t.objects, n = tmp === void 0 ? [] : tmp, o = t.layoutManager, a = i(t, Hr);
                return Promise.all([
                    Bt(n, e),
                    Xt(a, e)
                ]).then(function(t) {
                    var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), _$e = _t[0], _$i = _t[1];
                    var _$r = new _this(_$e, s(s(s({}, a), _$i), {}, {
                        layoutManager: new Nr
                    }));
                    if (o) {
                        var _$t = tt.getClass(o.type), _$e1 = tt.getClass(o.strategy);
                        _$r.layoutManager = new _$t(new _$e1);
                    } else _$r.layoutManager = new Gr;
                    return _$r.layoutManager.subscribeTargets({
                        type: Fr,
                        target: _$r,
                        targets: _$r.getObjects()
                    }), _$r.setCoords(), _$r;
                });
            }
        }
    ]);
    return Ur;
}(ct(Li));
t(Ur, "type", "Group"), t(Ur, "ownDefaults", {
    strokeWidth: 0,
    subTargetCheck: !1,
    interactive: !1
}), tt.setClass(Ur);
var qr = function(t, e) {
    return Math.min(e.width / t.width, e.height / t.height);
}, Kr = function(t, e) {
    return Math.max(e.width / t.width, e.height / t.height);
}, Jr = "\\s*,?\\s*", Qr = "".concat(Jr, "(").concat(is, ")"), Zr = "".concat(Qr).concat(Qr).concat(Qr).concat(Jr, "([01])").concat(Jr, "([01])").concat(Qr).concat(Qr), $r = {
    m: "l",
    M: "L"
}, tn = function(t, e, s, i, r, n, o, a, h, c, l) {
    var u = rt(t), d = nt(t), g = rt(e), f = nt(e), p = s * r * g - i * n * f + o, m = i * r * g + s * n * f + a;
    return [
        "C",
        c + h * (-s * r * d - i * n * u),
        l + h * (-i * r * d + s * n * u),
        p + h * (s * r * f + i * n * g),
        m + h * (i * r * f - s * n * g),
        p,
        m
    ];
}, en = function(t, e, s, i) {
    var _$r = Math.atan2(e, t), n = Math.atan2(i, s);
    return n >= _$r ? n - _$r : 2 * Math.PI - (_$r - n);
};
function sn(t, e, s, i, r, n, a, h) {
    var _Math, _Math1, _Math2, _Math3;
    var c;
    if (o.cachesBoundsOfCurve && (c = Array.prototype.slice.call(arguments).join(), _.boundsOfCurveCache[c])) return _.boundsOfCurveCache[c];
    var l = Math.sqrt, u = Math.abs, d = [], g = [
        [
            0,
            0
        ],
        [
            0,
            0
        ]
    ];
    var f = 6 * t - 12 * s + 6 * r, p = -3 * t + 9 * s - 9 * r + 3 * a, m = 3 * s - 3 * t;
    for(var _$t = 0; _$t < 2; ++_$t){
        if (_$t > 0 && (f = 6 * e - 12 * i + 6 * n, p = -3 * e + 9 * i - 9 * n + 3 * h, m = 3 * i - 3 * e), u(p) < 1e-12) {
            if (u(f) < 1e-12) continue;
            var _$t1 = -m / f;
            0 < _$t1 && _$t1 < 1 && d.push(_$t1);
            continue;
        }
        var _$s = f * f - 4 * m * p;
        if (_$s < 0) continue;
        var _$r = l(_$s), o1 = (-f + _$r) / (2 * p);
        0 < o1 && o1 < 1 && d.push(o1);
        var _$a = (-f - _$r) / (2 * p);
        0 < _$a && _$a < 1 && d.push(_$a);
    }
    var v = d.length;
    var y = v, x = an(t, e, s, i, r, n, a, h);
    for(; v--;){
        var _x = x(d[v]), _$t2 = _x.x, _$e = _x.y;
        g[0][v] = _$t2, g[1][v] = _$e;
    }
    g[0][y] = t, g[1][y] = e, g[0][y + 1] = a, g[1][y + 1] = h;
    var C = [
        new ot((_Math = Math).min.apply(_Math, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(g[0])), (_Math1 = Math).min.apply(_Math1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(g[1]))),
        new ot((_Math2 = Math).max.apply(_Math2, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(g[0])), (_Math3 = Math).max.apply(_Math3, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(g[1])))
    ];
    return o.cachesBoundsOfCurve && (_.boundsOfCurveCache[c] = C), C;
}
var rn = function(t, e, s) {
    var _s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(s, 8), i = _s[0], _$r = _s[1], n = _s[2], o = _s[3], a = _s[4], h = _s[5], c = _s[6], l = _s[7];
    var u = function(t, e, s, i, r, n, o) {
        if (0 === s || 0 === i) return [];
        var a = 0, h = 0, c = 0;
        var l = Math.PI, u = o * w, d = nt(u), g = rt(u), f = .5 * (-g * t - d * e), p = .5 * (-g * e + d * t), m = Math.pow(s, 2), v = Math.pow(i, 2), y = Math.pow(p, 2), _ = Math.pow(f, 2), x = m * v - m * y - v * _;
        var C = Math.abs(s), b = Math.abs(i);
        if (x < 0) {
            var _$t = Math.sqrt(1 - x / (m * v));
            C *= _$t, b *= _$t;
        } else c = (r === n ? -1 : 1) * Math.sqrt(x / (m * y + v * _));
        var S = c * C * p / b, T = -c * b * f / C, O = g * S - d * T + .5 * t, k = d * S + g * T + .5 * e;
        var D = en(1, 0, (f - S) / C, (p - T) / b), M = en((f - S) / C, (p - T) / b, (-f - S) / C, (-p - T) / b);
        0 === n && M > 0 ? M -= 2 * l : 1 === n && M < 0 && (M += 2 * l);
        var P = Math.ceil(Math.abs(M / l * 2)), E = [], A = M / P, j = 8 / 3 * Math.sin(A / 4) * Math.sin(A / 4) / Math.sin(A / 2);
        var F = D + A;
        for(var _$t1 = 0; _$t1 < P; _$t1++)E[_$t1] = tn(D, F, g, d, C, b, O, k, j, a, h), a = E[_$t1][5], h = E[_$t1][6], D = F, F += A;
        return E;
    }(c - t, l - e, _$r, n, a, h, o);
    for(var _$s = 0, i1 = u.length; _$s < i1; _$s++)u[_$s][1] += t, u[_$s][2] += e, u[_$s][3] += t, u[_$s][4] += e, u[_$s][5] += t, u[_$s][6] += e;
    return u;
}, nn = function(t) {
    var e = 0, _$s = 0, i = 0, _$r = 0;
    var n = [];
    var o, a = 0, h = 0;
    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;
    try {
        for(var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){
            var c = _step.value;
            var _$t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(c);
            var l = void 0;
            switch(_$t[0]){
                case "l":
                    _$t[1] += e, _$t[2] += _$s;
                case "L":
                    e = _$t[1], _$s = _$t[2], l = [
                        "L",
                        e,
                        _$s
                    ];
                    break;
                case "h":
                    _$t[1] += e;
                case "H":
                    e = _$t[1], l = [
                        "L",
                        e,
                        _$s
                    ];
                    break;
                case "v":
                    _$t[1] += _$s;
                case "V":
                    _$s = _$t[1], l = [
                        "L",
                        e,
                        _$s
                    ];
                    break;
                case "m":
                    _$t[1] += e, _$t[2] += _$s;
                case "M":
                    e = _$t[1], _$s = _$t[2], i = _$t[1], _$r = _$t[2], l = [
                        "M",
                        e,
                        _$s
                    ];
                    break;
                case "c":
                    _$t[1] += e, _$t[2] += _$s, _$t[3] += e, _$t[4] += _$s, _$t[5] += e, _$t[6] += _$s;
                case "C":
                    a = _$t[3], h = _$t[4], e = _$t[5], _$s = _$t[6], l = [
                        "C",
                        _$t[1],
                        _$t[2],
                        a,
                        h,
                        e,
                        _$s
                    ];
                    break;
                case "s":
                    _$t[1] += e, _$t[2] += _$s, _$t[3] += e, _$t[4] += _$s;
                case "S":
                    "C" === o ? (a = 2 * e - a, h = 2 * _$s - h) : (a = e, h = _$s), e = _$t[3], _$s = _$t[4], l = [
                        "C",
                        a,
                        h,
                        _$t[1],
                        _$t[2],
                        e,
                        _$s
                    ], a = l[3], h = l[4];
                    break;
                case "q":
                    _$t[1] += e, _$t[2] += _$s, _$t[3] += e, _$t[4] += _$s;
                case "Q":
                    a = _$t[1], h = _$t[2], e = _$t[3], _$s = _$t[4], l = [
                        "Q",
                        a,
                        h,
                        e,
                        _$s
                    ];
                    break;
                case "t":
                    _$t[1] += e, _$t[2] += _$s;
                case "T":
                    "Q" === o ? (a = 2 * e - a, h = 2 * _$s - h) : (a = e, h = _$s), e = _$t[1], _$s = _$t[2], l = [
                        "Q",
                        a,
                        h,
                        e,
                        _$s
                    ];
                    break;
                case "a":
                    _$t[6] += e, _$t[7] += _$s;
                case "A":
                    rn(e, _$s, _$t).forEach(function(t) {
                        return n.push(t);
                    }), e = _$t[6], _$s = _$t[7];
                    break;
                case "z":
                case "Z":
                    e = i, _$s = _$r, l = [
                        "Z"
                    ];
            }
            l ? (n.push(l), o = l[0]) : o = "";
        }
    } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
    } finally{
        try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
            }
        } finally{
            if (_didIteratorError) {
                throw _iteratorError;
            }
        }
    }
    return n;
}, on = function(t, e, s, i) {
    return Math.sqrt(Math.pow(s - t, 2) + Math.pow(i - e, 2));
}, an = function(t, e, s, i, r, n, o, a) {
    return function(h) {
        var c = Math.pow(h, 3), l = function(t) {
            return 3 * Math.pow(t, 2) * (1 - t);
        }(h), u = function(t) {
            return 3 * t * Math.pow(1 - t, 2);
        }(h), d = function(t) {
            return Math.pow(1 - t, 3);
        }(h);
        return new ot(o * c + r * l + s * u + t * d, a * c + n * l + i * u + e * d);
    };
}, hn = function(t) {
    return Math.pow(t, 2);
}, cn = function(t) {
    return 2 * t * (1 - t);
}, ln = function(t) {
    return Math.pow(1 - t, 2);
}, un = function(t, e, s, i, r, n, o, a) {
    return function(h) {
        var c = hn(h), l = cn(h), u = ln(h), d = 3 * (u * (s - t) + l * (r - s) + c * (o - r)), g = 3 * (u * (i - e) + l * (n - i) + c * (a - n));
        return Math.atan2(g, d);
    };
}, dn = function(t, e, s, i, r, n) {
    return function(o) {
        var a = hn(o), h = cn(o), c = ln(o);
        return new ot(r * a + s * h + t * c, n * a + i * h + e * c);
    };
}, gn = function(t, e, s, i, r, n) {
    return function(o) {
        var a = 1 - o, h = 2 * (a * (s - t) + o * (r - s)), c = 2 * (a * (i - e) + o * (n - i));
        return Math.atan2(c, h);
    };
}, fn = function(t, e, s) {
    var i = new ot(e, s), _$r = 0;
    for(var _$e = 1; _$e <= 100; _$e += 1){
        var _$s = t(_$e / 100);
        _$r += on(i.x, i.y, _$s.x, _$s.y), i = _$s;
    }
    return _$r;
}, pn = function(t, e) {
    var i, _$r = 0, n = 0, o = {
        x: t.x,
        y: t.y
    }, a = s({}, o), h = .01, c = 0;
    var l = t.iterator, u = t.angleFinder;
    for(; n < e && h > 1e-4;)a = l(_$r), c = _$r, i = on(o.x, o.y, a.x, a.y), i + n > e ? (_$r -= h, h /= 2) : (o = a, _$r += h, n += i);
    return s(s({}, a), {}, {
        angle: u(c)
    });
}, mn = function(t) {
    var e, _$s, i = 0, _$r = 0, n = 0, o = 0, a = 0;
    var h = [];
    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;
    try {
        for(var _iterator = t[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){
            var c = _step.value;
            var _$t = {
                x: _$r,
                y: n,
                command: c[0],
                length: 0
            };
            switch(c[0]){
                case "M":
                    _$s = _$t, _$s.x = o = _$r = c[1], _$s.y = a = n = c[2];
                    break;
                case "L":
                    _$s = _$t, _$s.length = on(_$r, n, c[1], c[2]), _$r = c[1], n = c[2];
                    break;
                case "C":
                    e = an(_$r, n, c[1], c[2], c[3], c[4], c[5], c[6]), _$s = _$t, _$s.iterator = e, _$s.angleFinder = un(_$r, n, c[1], c[2], c[3], c[4], c[5], c[6]), _$s.length = fn(e, _$r, n), _$r = c[5], n = c[6];
                    break;
                case "Q":
                    e = dn(_$r, n, c[1], c[2], c[3], c[4]), _$s = _$t, _$s.iterator = e, _$s.angleFinder = gn(_$r, n, c[1], c[2], c[3], c[4]), _$s.length = fn(e, _$r, n), _$r = c[3], n = c[4];
                    break;
                case "Z":
                    _$s = _$t, _$s.destX = o, _$s.destY = a, _$s.length = on(_$r, n, o, a), _$r = o, n = a;
            }
            i += _$s.length, h.push(_$s);
        }
    } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
    } finally{
        try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
            }
        } finally{
            if (_didIteratorError) {
                throw _iteratorError;
            }
        }
    }
    return h.push({
        length: i,
        x: _$r,
        y: n
    }), h;
}, vn = function vn(t, e) {
    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : mn(t), _$r = 0;
    for(; e - i[_$r].length > 0 && _$r < i.length - 2;)e -= i[_$r].length, _$r++;
    var n = i[_$r], o = e / n.length, a = t[_$r];
    switch(n.command){
        case "M":
            return {
                x: n.x,
                y: n.y,
                angle: 0
            };
        case "Z":
            return s(s({}, new ot(n.x, n.y).lerp(new ot(n.destX, n.destY), o)), {}, {
                angle: Math.atan2(n.destY - n.y, n.destX - n.x)
            });
        case "L":
            return s(s({}, new ot(n.x, n.y).lerp(new ot(a[1], a[2]), o)), {}, {
                angle: Math.atan2(a[2] - n.y, a[1] - n.x)
            });
        case "C":
        case "Q":
            return pn(n, e);
    }
}, yn = new RegExp("[mzlhvcsqta][^mzlhvcsqta]*", "gi"), _n = new RegExp(Zr, "g"), xn = new RegExp(is, "gi"), Cn = {
    m: 2,
    l: 2,
    h: 1,
    v: 1,
    c: 6,
    s: 4,
    q: 4,
    t: 2,
    a: 7
}, bn = function(t) {
    var e;
    var _$s = [], i = null !== (e = t.match(yn)) && void 0 !== e ? e : [];
    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;
    try {
        for(var _iterator = i[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){
            var _$t = _step.value;
            var e1 = _$t[0];
            if ("z" === e1 || "Z" === e1) {
                _$s.push([
                    e1
                ]);
                continue;
            }
            var i1 = Cn[e1.toLowerCase()];
            var _$r = [];
            if ("a" === e1 || "A" === e1) {
                var _r;
                _n.lastIndex = 0;
                for(var e2 = null; e2 = _n.exec(_$t);)(_r = _$r).push.apply(_r, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e2.slice(1)));
            } else _$r = _$t.match(xn) || [];
            for(var _$t1 = 0; _$t1 < _$r.length; _$t1 += i1){
                var n = new Array(i1), o = $r[e1];
                n[0] = _$t1 > 0 && o ? o : e1;
                for(var e3 = 0; e3 < i1; e3++)n[e3 + 1] = parseFloat(_$r[_$t1 + e3]);
                _$s.push(n);
            }
        }
    } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
    } finally{
        try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
            }
        } finally{
            if (_didIteratorError) {
                throw _iteratorError;
            }
        }
    }
    return _$s;
}, Sn = function Sn(t) {
    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, _$s = new ot(t[0]), i = new ot(t[1]), _$r = 1, n = 0;
    var o = [], a = t.length, h = a > 2;
    var c;
    for(h && (_$r = t[2].x < i.x ? -1 : t[2].x === i.x ? 0 : 1, n = t[2].y < i.y ? -1 : t[2].y === i.y ? 0 : 1), o.push([
        "M",
        _$s.x - _$r * e,
        _$s.y - n * e
    ]), c = 1; c < a; c++){
        if (!_$s.eq(i)) {
            var _$t = _$s.midPointFrom(i);
            o.push([
                "Q",
                _$s.x,
                _$s.y,
                _$t.x,
                _$t.y
            ]);
        }
        _$s = t[c], c + 1 < t.length && (i = t[c + 1]);
    }
    return h && (_$r = _$s.x > t[c - 2].x ? 1 : _$s.x === t[c - 2].x ? 0 : -1, n = _$s.y > t[c - 2].y ? 1 : _$s.y === t[c - 2].y ? 0 : -1), o.push([
        "L",
        _$s.x + _$r * e,
        _$s.y + n * e
    ]), o;
}, wn = function(t, e) {
    return t.map(function(t) {
        return t.map(function(t, s) {
            return 0 === s || void 0 === e ? t : Vt(t, e);
        }).join(" ");
    }).join(" ");
};
function Tn(t, e) {
    var _$s = t.style;
    _$s && e && ("string" == typeof e ? _$s.cssText += ";" + e : Object.entries(e).forEach(function(t) {
        var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), _$e = _t[0], i = _t[1];
        return _$s.setProperty(_$e, i);
    }));
}
var On = function(t, e) {
    return Math.floor(Math.random() * (e - t + 1)) + t;
};
function kn(t) {
    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
    var _$s = e.onComplete || C, i = new (v()).XMLHttpRequest, _$r = e.signal, n = function n() {
        i.abort();
    }, o = function o() {
        _$r && _$r.removeEventListener("abort", n), i.onerror = i.ontimeout = C;
    };
    if (_$r && _$r.aborted) throw new c("request");
    return _$r && _$r.addEventListener("abort", n, {
        once: !0
    }), i.onreadystatechange = function() {
        4 === i.readyState && (o(), _$s(i), i.onreadystatechange = C);
    }, i.onerror = i.ontimeout = o, i.open("get", t, !0), i.send(), i;
}
var Dn = function(t, e) {
    var _$s = t._findCenterFromElement();
    t.transformMatrix && (function(t) {
        if (t.transformMatrix) {
            var _Dt = Dt(t.transformMatrix), _$e = _Dt.scaleX, _$s = _Dt.scaleY, i = _Dt.angle, _$r = _Dt.skewX;
            t.flipX = !1, t.flipY = !1, t.set(H, _$e), t.set(N, _$s), t.angle = i, t.skewX = _$r, t.skewY = 0;
        }
    }(t), _$s = _$s.transform(t.transformMatrix)), delete t.transformMatrix, e && (t.scaleX *= e.scaleX, t.scaleY *= e.scaleY, t.cropX = e.cropX, t.cropY = e.cropY, _$s.x += e.offsetLeft, _$s.y += e.offsetTop, t.width = e.width, t.height = e.height), t.setPositionByOrigin(_$s, D, D);
};
var Mn = Object.freeze({
    __proto__: null,
    addTransformToObject: le,
    animate: Ks,
    animateColor: Js,
    applyTransformToObject: ue,
    calcAngleBetweenVectors: _s,
    calcDimensionsMatrix: Lt,
    calcPlaneChangeMatrix: pe,
    calcVectorRotation: xs,
    cancelAnimFrame: dt,
    capValue: Ms,
    composeMatrix: Rt,
    copyCanvasElement: function(t) {
        var e;
        var _$s = vt(t);
        return null === (e = _$s.getContext("2d")) || void 0 === e || e.drawImage(t, 0, 0), _$s;
    },
    cos: rt,
    createCanvasElement: pt,
    createImage: mt,
    createRotateMatrix: Pt,
    createScaleMatrix: Et,
    createSkewXMatrix: jt,
    createSkewYMatrix: Ft,
    createTranslateMatrix: Mt,
    createVector: vs,
    crossProduct: Ss,
    degreesToRadians: xt,
    dotProduct: ws,
    ease: Bs,
    enlivenObjectEnlivables: Xt,
    enlivenObjects: Bt,
    findScaleToCover: Kr,
    findScaleToFit: qr,
    getBoundsOfCurve: sn,
    getOrthonormalVector: bs,
    getPathSegmentsInfo: mn,
    getPointOnPath: vn,
    getPointer: ne,
    getRandomInt: On,
    getRegularPolygonPath: function(t, e) {
        var _$s = 2 * Math.PI / t;
        var i = -b;
        t % 2 == 0 && (i += _$s / 2);
        var _$r = new Array(t + 1);
        for(var n = 0; n < t; n++){
            var _$t = n * _$s + i, _scalarMultiply = new ot(rt(_$t), nt(_$t)).scalarMultiply(e), o = _scalarMultiply.x, a = _scalarMultiply.y;
            _$r[n] = [
                0 === n ? "M" : "L",
                o,
                a
            ];
        }
        return _$r[t] = [
            "Z"
        ], _$r;
    },
    getSmoothPathFromPoints: Sn,
    getSvgAttributes: function(t) {
        var e = [
            "instantiated_by_use",
            "style",
            "id",
            "class"
        ];
        switch(t){
            case "linearGradient":
                return e.concat([
                    "x1",
                    "y1",
                    "x2",
                    "y2",
                    "gradientUnits",
                    "gradientTransform"
                ]);
            case "radialGradient":
                return e.concat([
                    "gradientUnits",
                    "gradientTransform",
                    "cx",
                    "cy",
                    "r",
                    "fx",
                    "fy",
                    "fr"
                ]);
            case "stop":
                return e.concat([
                    "offset",
                    "stop-color",
                    "stop-opacity"
                ]);
        }
        return e;
    },
    getUnitVector: Cs,
    groupSVGElements: function(t, e) {
        return t && 1 === t.length ? t[0] : new Ur(t, e);
    },
    hasStyleChanged: Ki,
    invertTransform: wt,
    isBetweenVectors: Ts,
    isIdentityMatrix: bt,
    isTouchEvent: oe,
    isTransparent: Ri,
    joinPath: wn,
    loadImage: It,
    magnitude: ys,
    makeBoundingBoxFromPoints: he,
    makePathSimpler: nn,
    matrixToSVG: zt,
    mergeClipPaths: function(t, e) {
        var _$s;
        var i = t, _$r = e;
        i.inverted && !_$r.inverted && (i = e, _$r = t), ye(_$r, null === (_$s = _$r.group) || void 0 === _$s ? void 0 : _$s.calcTransformMatrix(), i.calcTransformMatrix());
        var n = i.inverted && _$r.inverted;
        return n && (i.inverted = _$r.inverted = !1), new Ur([
            i
        ], {
            clipPath: _$r,
            inverted: n
        });
    },
    multiplyTransformMatrices: Tt,
    multiplyTransformMatrixArray: Ot,
    parsePath: bn,
    parsePreserveAspectRatioAttribute: Xe,
    parseUnit: Be,
    pick: Yt,
    projectStrokeOnPoints: Wi,
    qrDecompose: Dt,
    radiansToDegrees: Ct,
    removeFromArray: it,
    removeTransformFromObject: function(t, e) {
        var _$s = wt(e), i = Tt(_$s, t.calcOwnMatrix());
        ue(t, i);
    },
    removeTransformMatrixForSvgParsing: Dn,
    request: kn,
    requestAnimFrame: ut,
    resetObjectTransform: de,
    rotatePoint: function(t, e, s) {
        return t.rotate(s, e);
    },
    rotateVector: ms,
    saveObjectTransform: ge,
    sendObjectToPlane: ye,
    sendPointToPlane: me,
    sendVectorToPlane: ve,
    setStyle: Tn,
    sin: nt,
    sizeAfterTransform: fe,
    string: qi,
    stylesFromArray: Qi,
    stylesToArray: Ji,
    toBlob: _t,
    toDataURL: yt,
    toFixed: Vt,
    transformPath: function(t, e, s) {
        return s && (e = Tt(e, [
            1,
            0,
            0,
            1,
            -s.x,
            -s.y
        ])), t.map(function(t) {
            var _$s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t);
            for(var i = 1; i < t.length - 1; i += 2){
                var _St = St({
                    x: t[i],
                    y: t[i + 1]
                }, e), _$r = _St.x, n = _St.y;
                _$s[i] = _$r, _$s[i + 1] = n;
            }
            return _$s;
        });
    },
    transformPoint: St
});
var Pn = /*#__PURE__*/ function(te) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Pn, te);
    function Pn(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Pn);
        var _this;
        var _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, tmp = _ref.allowTouchScrolling, _$s = tmp === void 0 ? !1 : tmp, tmp1 = _ref.containerClass, i = tmp1 === void 0 ? "" : tmp1;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Pn, [
            e
        ]), t(_this, "upper", void 0), t(_this, "container", void 0);
        var _this_lower = _this.lower, _$r = _this_lower.el, n = _this.createUpperCanvas();
        _this.upper = {
            el: n,
            ctx: n.getContext("2d")
        }, _this.applyCanvasStyle(_$r, {
            allowTouchScrolling: _$s
        }), _this.applyCanvasStyle(n, {
            allowTouchScrolling: _$s,
            styles: {
                position: "absolute",
                left: "0",
                top: "0"
            }
        });
        var o = _this.createContainerElement();
        o.classList.add(i), _$r.parentNode && _$r.parentNode.replaceChild(o, _$r), o.append(_$r, n), _this.container = o;
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Pn, [
        {
            key: "createUpperCanvas",
            value: function createUpperCanvas() {
                var _this_lower = this.lower, _$t = _this_lower.el, e = pt();
                return e.className = _$t.className, e.classList.remove("lower-canvas"), e.classList.add("upper-canvas"), e.setAttribute("data-fabric", "top"), e.style.cssText = _$t.style.cssText, e.setAttribute("draggable", "true"), e;
            }
        },
        {
            key: "createContainerElement",
            value: function createContainerElement() {
                var _$t = m().createElement("div");
                return _$t.setAttribute("data-fabric", "wrapper"), Tn(_$t, {
                    position: "relative"
                }), $t(_$t), _$t;
            }
        },
        {
            key: "applyCanvasStyle",
            value: function applyCanvasStyle(t, e) {
                var i = e.styles, _$r = e.allowTouchScrolling;
                Tn(t, s(s({}, i), {}, {
                    "touch-action": _$r ? "manipulation" : j
                })), $t(t);
            }
        },
        {
            key: "setDimensions",
            value: function setDimensions(t, e) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Pn.prototype), "setDimensions", this).call(this, t, e);
                var _this_upper = this.upper, _$s = _this_upper.el, i = _this_upper.ctx;
                Qt(_$s, i, t, e);
            }
        },
        {
            key: "setCSSDimensions",
            value: function setCSSDimensions(t) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Pn.prototype), "setCSSDimensions", this).call(this, t), Zt(this.upper.el, t), Zt(this.container, t);
            }
        },
        {
            key: "cleanupDOM",
            value: function cleanupDOM(t) {
                var e = this.container, _this_lower = this.lower, _$s = _this_lower.el, _this_upper = this.upper, i = _this_upper.el;
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Pn.prototype), "cleanupDOM", this).call(this, t), e.removeChild(i), e.removeChild(_$s), e.parentNode && e.parentNode.replaceChild(_$s, e);
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Pn.prototype), "dispose", this).call(this), p().dispose(this.upper.el), delete this.upper, delete this.container;
            }
        }
    ]);
    return Pn;
}(te);
var En = /*#__PURE__*/ function(ie) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En, ie);
    function En() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, En);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, En, arguments), t(_this, "targets", []), t(_this, "_hoveredTargets", []), t(_this, "_currentTransform", null), t(_this, "_groupSelector", null), t(_this, "contextTopDirty", !1);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En, [
        {
            key: "upperCanvasEl",
            get: function get() {
                var _$t;
                return null === (_$t = this.elements.upper) || void 0 === _$t ? void 0 : _$t.el;
            }
        },
        {
            key: "contextTop",
            get: function get() {
                var _$t;
                return null === (_$t = this.elements.upper) || void 0 === _$t ? void 0 : _$t.ctx;
            }
        },
        {
            key: "wrapperEl",
            get: function get() {
                return this.elements.container;
            }
        },
        {
            key: "initElements",
            value: function initElements(t) {
                this.elements = new Pn(t, {
                    allowTouchScrolling: this.allowTouchScrolling,
                    containerClass: this.containerClass
                }), this._createCacheCanvas();
            }
        },
        {
            key: "_onObjectAdded",
            value: function _onObjectAdded(t) {
                this._objectsToRender = void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En.prototype), "_onObjectAdded", this).call(this, t);
            }
        },
        {
            key: "_onObjectRemoved",
            value: function _onObjectRemoved(t) {
                this._objectsToRender = void 0, t === this._activeObject && (this.fire("before:selection:cleared", {
                    deselected: [
                        t
                    ]
                }), this._discardActiveObject(), this.fire("selection:cleared", {
                    deselected: [
                        t
                    ]
                }), t.fire("deselected", {
                    target: t
                })), t === this._hoveredTarget && (this._hoveredTarget = void 0, this._hoveredTargets = []), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En.prototype), "_onObjectRemoved", this).call(this, t);
            }
        },
        {
            key: "_onStackOrderChanged",
            value: function _onStackOrderChanged() {
                this._objectsToRender = void 0, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En.prototype), "_onStackOrderChanged", this).call(this);
            }
        },
        {
            key: "_chooseObjectsToRender",
            value: function _chooseObjectsToRender() {
                var _$t = this._activeObject;
                return !this.preserveObjectStacking && _$t ? this._objects.filter(function(e) {
                    return !e.group && e !== _$t;
                }).concat(_$t) : this._objects;
            }
        },
        {
            key: "renderAll",
            value: function renderAll() {
                this.cancelRequestedRender(), this.destroyed || (!this.contextTopDirty || this._groupSelector || this.isDrawingMode || (this.clearContext(this.contextTop), this.contextTopDirty = !1), this.hasLostContext && (this.renderTopLayer(this.contextTop), this.hasLostContext = !1), !this._objectsToRender && (this._objectsToRender = this._chooseObjectsToRender()), this.renderCanvas(this.getContext(), this._objectsToRender));
            }
        },
        {
            key: "renderTopLayer",
            value: function renderTopLayer(t) {
                t.save(), this.isDrawingMode && this._isCurrentlyDrawing && (this.freeDrawingBrush && this.freeDrawingBrush._render(), this.contextTopDirty = !0), this.selection && this._groupSelector && (this._drawSelection(t), this.contextTopDirty = !0), t.restore();
            }
        },
        {
            key: "renderTop",
            value: function renderTop() {
                var _$t = this.contextTop;
                this.clearContext(_$t), this.renderTopLayer(_$t), this.fire("after:render", {
                    ctx: _$t
                });
            }
        },
        {
            key: "setTargetFindTolerance",
            value: function setTargetFindTolerance(t) {
                t = Math.round(t), this.targetFindTolerance = t;
                var e = this.getRetinaScaling(), _$s = Math.ceil((2 * t + 1) * e);
                this.pixelFindCanvasEl.width = this.pixelFindCanvasEl.height = _$s, this.pixelFindContext.scale(e, e);
            }
        },
        {
            key: "isTargetTransparent",
            value: function isTargetTransparent(t, e, s) {
                var _r;
                var i = this.targetFindTolerance, _$r = this.pixelFindContext;
                this.clearContext(_$r), _$r.save(), _$r.translate(-e + i, -s + i), (_r = _$r).transform.apply(_r, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.viewportTransform));
                var n = t.selectionBackgroundColor;
                t.selectionBackgroundColor = "", t.render(_$r), t.selectionBackgroundColor = n, _$r.restore();
                var o = Math.round(i * this.getRetinaScaling());
                return Ri(_$r, o, o, o);
            }
        },
        {
            key: "_isSelectionKeyPressed",
            value: function _isSelectionKeyPressed(t) {
                var e = this.selectionKey;
                return !!e && (Array.isArray(e) ? !!e.find(function(e) {
                    return !!e && !0 === t[e];
                }) : t[e]);
            }
        },
        {
            key: "_shouldClearSelection",
            value: function _shouldClearSelection(t, e) {
                var _$s = this.getActiveObjects(), i = this._activeObject;
                return !!(!e || e && i && _$s.length > 1 && -1 === _$s.indexOf(e) && i !== e && !this._isSelectionKeyPressed(t) || e && !e.evented || e && !e.selectable && i && i !== e);
            }
        },
        {
            key: "_shouldCenterTransform",
            value: function _shouldCenterTransform(t, e, s) {
                if (!t) return;
                var i;
                return e === G || e === H || e === N || e === Y ? i = this.centeredScaling || t.centeredScaling : e === B && (i = this.centeredRotation || t.centeredRotation), i ? !s : s;
            }
        },
        {
            key: "_getOriginFromCorner",
            value: function _getOriginFromCorner(t, e) {
                var _$s = {
                    x: t.originX,
                    y: t.originY
                };
                return e ? ([
                    "ml",
                    "tl",
                    "bl"
                ].includes(e) ? _$s.x = A : [
                    "mr",
                    "tr",
                    "br"
                ].includes(e) && (_$s.x = M), [
                    "tl",
                    "mt",
                    "tr"
                ].includes(e) ? _$s.y = E : [
                    "bl",
                    "mb",
                    "br"
                ].includes(e) && (_$s.y = P), _$s) : _$s;
            }
        },
        {
            key: "_setupCurrentTransform",
            value: function _setupCurrentTransform(t, e, i) {
                var _$r;
                var n = e.group ? me(this.getScenePoint(t), void 0, e.group.calcTransformMatrix()) : this.getScenePoint(t), _ref = e.getActiveControl() || {}, tmp = _ref.key, o = tmp === void 0 ? "" : tmp, a = _ref.control, h = i && a ? null === (_$r = a.getActionHandler(t, e, a)) || void 0 === _$r ? void 0 : _$r.bind(a) : Me, c = function(t, e, s, i) {
                    if (!e || !t) return "drag";
                    var _$r = i.controls[e];
                    return _$r.getActionName(s, _$r, i);
                }(i, o, t, e), l = t[this.centeredKey], u = this._shouldCenterTransform(e, c, l) ? {
                    x: D,
                    y: D
                } : this._getOriginFromCorner(e, o), d = {
                    target: e,
                    action: c,
                    actionHandler: h,
                    actionPerformed: !1,
                    corner: o,
                    scaleX: e.scaleX,
                    scaleY: e.scaleY,
                    skewX: e.skewX,
                    skewY: e.skewY,
                    offsetX: n.x - e.left,
                    offsetY: n.y - e.top,
                    originX: u.x,
                    originY: u.y,
                    ex: n.x,
                    ey: n.y,
                    lastX: n.x,
                    lastY: n.y,
                    theta: xt(e.angle),
                    width: e.width,
                    height: e.height,
                    shiftKey: t.shiftKey,
                    altKey: l,
                    original: s(s({}, ge(e)), {}, {
                        originX: u.x,
                        originY: u.y
                    })
                };
                this._currentTransform = d, this.fire("before:transform", {
                    e: t,
                    transform: d
                });
            }
        },
        {
            key: "setCursor",
            value: function setCursor(t) {
                this.upperCanvasEl.style.cursor = t;
            }
        },
        {
            key: "_drawSelection",
            value: function _drawSelection(t) {
                var _this__groupSelector = this._groupSelector, e = _this__groupSelector.x, _$s = _this__groupSelector.y, i = _this__groupSelector.deltaX, _$r = _this__groupSelector.deltaY, n = new ot(e, _$s).transform(this.viewportTransform), o = new ot(e + i, _$s + _$r).transform(this.viewportTransform), a = this.selectionLineWidth / 2;
                var h = Math.min(n.x, o.x), c = Math.min(n.y, o.y), l = Math.max(n.x, o.x), u = Math.max(n.y, o.y);
                this.selectionColor && (t.fillStyle = this.selectionColor, t.fillRect(h, c, l - h, u - c)), this.selectionLineWidth && this.selectionBorderColor && (t.lineWidth = this.selectionLineWidth, t.strokeStyle = this.selectionBorderColor, h += a, c += a, l -= a, u -= a, Li.prototype._setLineDash.call(this, t, this.selectionDashArray), t.strokeRect(h, c, l - h, u - c));
            }
        },
        {
            key: "findTarget",
            value: function findTarget(t) {
                if (this.skipTargetFind) return;
                var e = this.getViewportPoint(t), _$s = this._activeObject, i = this.getActiveObjects();
                if (this.targets = [], _$s && i.length >= 1) {
                    if (_$s.findControl(e, oe(t))) return _$s;
                    if (i.length > 1 && this.searchPossibleTargets([
                        _$s
                    ], e)) return _$s;
                    if (_$s === this.searchPossibleTargets([
                        _$s
                    ], e)) {
                        if (this.preserveObjectStacking) {
                            var i1 = this.targets;
                            this.targets = [];
                            var _$r = this.searchPossibleTargets(this._objects, e);
                            return t[this.altSelectionKey] && _$r && _$r !== _$s ? (this.targets = i1, _$s) : _$r;
                        }
                        return _$s;
                    }
                }
                return this.searchPossibleTargets(this._objects, e);
            }
        },
        {
            key: "_pointIsInObjectSelectionArea",
            value: function _pointIsInObjectSelectionArea(t, e) {
                var _$s = t.getCoords();
                var i = this.getZoom(), _$r = t.padding / i;
                if (_$r) {
                    var _s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s, 4), _$t = _s[0], _$e = _s[1], i1 = _s[2], n = _s[3], o = Math.atan2(_$e.y - _$t.y, _$e.x - _$t.x), a = rt(o) * _$r, h = nt(o) * _$r, c = a + h, l = a - h;
                    _$s = [
                        new ot(_$t.x - l, _$t.y - c),
                        new ot(_$e.x + c, _$e.y - l),
                        new ot(i1.x + l, i1.y + c),
                        new ot(n.x - c, n.y + l)
                    ];
                }
                return Qs.isPointInPolygon(e, _$s);
            }
        },
        {
            key: "_checkTarget",
            value: function _checkTarget(t, e) {
                if (t && t.visible && t.evented && this._pointIsInObjectSelectionArea(t, me(e, void 0, this.viewportTransform))) {
                    if (!this.perPixelTargetFind && !t.perPixelTargetFind || t.isEditing) return !0;
                    if (!this.isTargetTransparent(t, e.x, e.y)) return !0;
                }
                return !1;
            }
        },
        {
            key: "_searchPossibleTargets",
            value: function _searchPossibleTargets(t, e) {
                var _$s = t.length;
                for(; _$s--;){
                    var i = t[_$s];
                    if (this._checkTarget(i, e)) {
                        if (ht(i) && i.subTargetCheck) {
                            var _$t = this._searchPossibleTargets(i._objects, e);
                            _$t && this.targets.push(_$t);
                        }
                        return i;
                    }
                }
            }
        },
        {
            key: "searchPossibleTargets",
            value: function searchPossibleTargets(t, e) {
                var _$s = this._searchPossibleTargets(t, e);
                if (_$s && ht(_$s) && _$s.interactive && this.targets[0]) {
                    var _$t = this.targets;
                    for(var _$e = _$t.length - 1; _$e > 0; _$e--){
                        var _$s1 = _$t[_$e];
                        if (!ht(_$s1) || !_$s1.interactive) return _$s1;
                    }
                    return _$t[0];
                }
                return _$s;
            }
        },
        {
            key: "getViewportPoint",
            value: function getViewportPoint(t) {
                return this._pointer ? this._pointer : this.getPointer(t, !0);
            }
        },
        {
            key: "getScenePoint",
            value: function getScenePoint(t) {
                return this._absolutePointer ? this._absolutePointer : this.getPointer(t);
            }
        },
        {
            key: "getPointer",
            value: function getPointer(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                var _$s = this.upperCanvasEl, i = _$s.getBoundingClientRect();
                var _$r = ne(t), n = i.width || 0, o = i.height || 0;
                n && o || (P in i && E in i && (o = Math.abs(i.top - i.bottom)), A in i && M in i && (n = Math.abs(i.right - i.left))), this.calcOffset(), _$r.x = _$r.x - this._offset.left, _$r.y = _$r.y - this._offset.top, e || (_$r = me(_$r, void 0, this.viewportTransform));
                var a = this.getRetinaScaling();
                1 !== a && (_$r.x /= a, _$r.y /= a);
                var h = 0 === n || 0 === o ? new ot(1, 1) : new ot(_$s.width / n, _$s.height / o);
                return _$r.multiply(h);
            }
        },
        {
            key: "_setDimensionsImpl",
            value: function _setDimensionsImpl(t, e) {
                this._resetTransformEventData(), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En.prototype), "_setDimensionsImpl", this).call(this, t, e), this._isCurrentlyDrawing && this.freeDrawingBrush && this.freeDrawingBrush._setBrushStyles(this.contextTop);
            }
        },
        {
            key: "_createCacheCanvas",
            value: function _createCacheCanvas() {
                this.pixelFindCanvasEl = pt(), this.pixelFindContext = this.pixelFindCanvasEl.getContext("2d", {
                    willReadFrequently: !0
                }), this.setTargetFindTolerance(this.targetFindTolerance);
            }
        },
        {
            key: "getTopContext",
            value: function getTopContext() {
                return this.elements.upper.ctx;
            }
        },
        {
            key: "getSelectionContext",
            value: function getSelectionContext() {
                return this.elements.upper.ctx;
            }
        },
        {
            key: "getSelectionElement",
            value: function getSelectionElement() {
                return this.elements.upper.el;
            }
        },
        {
            key: "getActiveObject",
            value: function getActiveObject() {
                return this._activeObject;
            }
        },
        {
            key: "getActiveObjects",
            value: function getActiveObjects() {
                var _$t = this._activeObject;
                return Ut(_$t) ? _$t.getObjects() : _$t ? [
                    _$t
                ] : [];
            }
        },
        {
            key: "_fireSelectionEvents",
            value: function _fireSelectionEvents(t, e) {
                var _$s = !1, i = !1;
                var _$r = this.getActiveObjects(), n = [], o = [];
                t.forEach(function(t) {
                    _$r.includes(t) || (_$s = !0, t.fire("deselected", {
                        e: e,
                        target: t
                    }), o.push(t));
                }), _$r.forEach(function(i) {
                    t.includes(i) || (_$s = !0, i.fire("selected", {
                        e: e,
                        target: i
                    }), n.push(i));
                }), t.length > 0 && _$r.length > 0 ? (i = !0, _$s && this.fire("selection:updated", {
                    e: e,
                    selected: n,
                    deselected: o
                })) : _$r.length > 0 ? (i = !0, this.fire("selection:created", {
                    e: e,
                    selected: n
                })) : t.length > 0 && (i = !0, this.fire("selection:cleared", {
                    e: e,
                    deselected: o
                })), i && (this._objectsToRender = void 0);
            }
        },
        {
            key: "setActiveObject",
            value: function setActiveObject(t, e) {
                var _$s = this.getActiveObjects(), i = this._setActiveObject(t, e);
                return this._fireSelectionEvents(_$s, e), i;
            }
        },
        {
            key: "_setActiveObject",
            value: function _setActiveObject(t, e) {
                var _$s = this._activeObject;
                return _$s !== t && !(!this._discardActiveObject(e, t) && this._activeObject) && !t.onSelect({
                    e: e
                }) && (this._activeObject = t, Ut(t) && _$s !== t && t.set("canvas", this), t.setCoords(), !0);
            }
        },
        {
            key: "_discardActiveObject",
            value: function _discardActiveObject(t, e) {
                var _$s = this._activeObject;
                return !!_$s && !_$s.onDeselect({
                    e: t,
                    object: e
                }) && (this._currentTransform && this._currentTransform.target === _$s && this.endCurrentTransform(t), Ut(_$s) && _$s === this._hoveredTarget && (this._hoveredTarget = void 0), this._activeObject = void 0, !0);
            }
        },
        {
            key: "discardActiveObject",
            value: function discardActiveObject(t) {
                var e = this.getActiveObjects(), _$s = this.getActiveObject();
                e.length && this.fire("before:selection:cleared", {
                    e: t,
                    deselected: [
                        _$s
                    ]
                });
                var i = this._discardActiveObject(t);
                return this._fireSelectionEvents(e, t), i;
            }
        },
        {
            key: "endCurrentTransform",
            value: function endCurrentTransform(t) {
                var e = this._currentTransform;
                this._finalizeCurrentTransform(t), e && e.target && (e.target.isMoving = !1), this._currentTransform = null;
            }
        },
        {
            key: "_finalizeCurrentTransform",
            value: function _finalizeCurrentTransform(t) {
                var e = this._currentTransform, _$s = e.target, i = {
                    e: t,
                    target: _$s,
                    transform: e,
                    action: e.action
                };
                _$s._scaling && (_$s._scaling = !1), _$s.setCoords(), e.actionPerformed && (this.fire("object:modified", i), _$s.fire(Q, i));
            }
        },
        {
            key: "setViewportTransform",
            value: function setViewportTransform(t) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En.prototype), "setViewportTransform", this).call(this, t);
                var e = this._activeObject;
                e && e.setCoords();
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                var _$t = this._activeObject;
                Ut(_$t) && (_$t.removeAll(), _$t.dispose()), delete this._activeObject, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En.prototype), "destroy", this).call(this), this.pixelFindContext = null, this.pixelFindCanvasEl = void 0;
            }
        },
        {
            key: "clear",
            value: function clear() {
                this.discardActiveObject(), this._activeObject = void 0, this.clearContext(this.contextTop), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En.prototype), "clear", this).call(this);
            }
        },
        {
            key: "drawControls",
            value: function drawControls(t) {
                var e = this._activeObject;
                e && e._renderControls(t);
            }
        },
        {
            key: "_toObject",
            value: function _toObject(t, e, s) {
                var i = this._realizeGroupTransformOnObject(t), _$r = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En.prototype), "_toObject", this).call(this, t, e, s);
                return t.set(i), _$r;
            }
        },
        {
            key: "_realizeGroupTransformOnObject",
            value: function _realizeGroupTransformOnObject(t) {
                var e = t.group;
                if (e && Ut(e) && this._activeObject === e) {
                    var _$s = Yt(t, [
                        "angle",
                        "flipX",
                        "flipY",
                        M,
                        H,
                        N,
                        U,
                        q,
                        P
                    ]);
                    return le(t, e.calcOwnMatrix()), _$s;
                }
                return {};
            }
        },
        {
            key: "_setSVGObject",
            value: function _setSVGObject(t, e, s) {
                var i = this._realizeGroupTransformOnObject(e);
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En.prototype), "_setSVGObject", this).call(this, t, e, s), e.set(i);
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(En), "getDefaults", this).call(this)), En.ownDefaults);
            }
        }
    ]);
    return En;
}(ie);
t(En, "ownDefaults", {
    uniformScaling: !0,
    uniScaleKey: "shiftKey",
    centeredScaling: !1,
    centeredRotation: !1,
    centeredKey: "altKey",
    altActionKey: "shiftKey",
    selection: !0,
    selectionKey: "shiftKey",
    selectionColor: "rgba(100, 100, 255, 0.3)",
    selectionDashArray: [],
    selectionBorderColor: "rgba(255, 255, 255, 0.3)",
    selectionLineWidth: 1,
    selectionFullyContained: !1,
    hoverCursor: "move",
    moveCursor: "move",
    defaultCursor: "default",
    freeDrawingCursor: "crosshair",
    notAllowedCursor: "not-allowed",
    perPixelTargetFind: !1,
    targetFindTolerance: 0,
    skipTargetFind: !1,
    stopContextMenu: !1,
    fireRightClick: !1,
    fireMiddleClick: !1,
    enablePointerEvents: !1,
    containerClass: "canvas-container",
    preserveObjectStacking: !1
});
var An = /*#__PURE__*/ function() {
    "use strict";
    function An(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, An);
        t(this, "targets", []), t(this, "__disposer", void 0);
        var _$s = function() {
            var _ref = e.getActiveObject() || {}, _$t = _ref.hiddenTextarea;
            _$t && _$t.focus();
        }, i = e.upperCanvasEl;
        i.addEventListener("click", _$s), this.__disposer = function() {
            return i.removeEventListener("click", _$s);
        };
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(An, [
        {
            key: "exitTextEditing",
            value: function exitTextEditing() {
                this.target = void 0, this.targets.forEach(function(t) {
                    t.isEditing && t.exitEditing();
                });
            }
        },
        {
            key: "add",
            value: function add(t) {
                this.targets.push(t);
            }
        },
        {
            key: "remove",
            value: function remove(t) {
                this.unregister(t), it(this.targets, t);
            }
        },
        {
            key: "register",
            value: function register(t) {
                this.target = t;
            }
        },
        {
            key: "unregister",
            value: function unregister(t) {
                t === this.target && (this.target = void 0);
            }
        },
        {
            key: "onMouseMove",
            value: function onMouseMove(t) {
                var e;
                (null === (e = this.target) || void 0 === e ? void 0 : e.isEditing) && this.target.updateSelectionOnMouseMove(t);
            }
        },
        {
            key: "clear",
            value: function clear() {
                this.targets = [], this.target = void 0;
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                this.clear(), this.__disposer(), delete this.__disposer;
            }
        }
    ]);
    return An;
}();
var jn = [
    "target",
    "oldTarget",
    "fireCanvas",
    "e"
], Fn = {
    passive: !1
}, Ln = function(t, e) {
    var _$s = t.getViewportPoint(e), i = t.getScenePoint(e);
    return {
        viewportPoint: _$s,
        scenePoint: i,
        pointer: _$s,
        absolutePointer: i
    };
}, Rn = function Rn(t) {
    var _t;
    for(var e = arguments.length, _$s = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)_$s[i - 1] = arguments[i];
    return (_t = t).addEventListener.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s));
}, In = function In(t) {
    var _t;
    for(var e = arguments.length, _$s = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)_$s[i - 1] = arguments[i];
    return (_t = t).removeEventListener.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s));
}, Bn = {
    mouse: {
        in: "over",
        out: "out",
        targetIn: "mouseover",
        targetOut: "mouseout",
        canvasIn: "mouse:over",
        canvasOut: "mouse:out"
    },
    drag: {
        in: "enter",
        out: "leave",
        targetIn: "dragenter",
        targetOut: "dragleave",
        canvasIn: "drag:enter",
        canvasOut: "drag:leave"
    }
};
var Xn = /*#__PURE__*/ function(En) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Xn, En);
    function Xn(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Xn);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Xn, [
            e,
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
        ]), t(_this, "_isClick", void 0), t(_this, "textEditingManager", new An(_this)), [
            "_onMouseDown",
            "_onTouchStart",
            "_onMouseMove",
            "_onMouseUp",
            "_onTouchEnd",
            "_onResize",
            "_onMouseWheel",
            "_onMouseOut",
            "_onMouseEnter",
            "_onContextMenu",
            "_onClick",
            "_onDragStart",
            "_onDragEnd",
            "_onDragProgress",
            "_onDragOver",
            "_onDragEnter",
            "_onDragLeave",
            "_onDrop"
        ].forEach(function(t) {
            _this[t] = _this[t].bind(_this);
        }), _this.addOrRemove(Rn, "add");
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Xn, [
        {
            key: "_getEventPrefix",
            value: function _getEventPrefix() {
                return this.enablePointerEvents ? "pointer" : "mouse";
            }
        },
        {
            key: "addOrRemove",
            value: function addOrRemove(t, e) {
                var _$s = this.upperCanvasEl, i = this._getEventPrefix();
                t(Jt(_$s), "resize", this._onResize), t(_$s, i + "down", this._onMouseDown), t(_$s, "".concat(i, "move"), this._onMouseMove, Fn), t(_$s, "".concat(i, "out"), this._onMouseOut), t(_$s, "".concat(i, "enter"), this._onMouseEnter), t(_$s, "wheel", this._onMouseWheel, {
                    passive: !1
                }), t(_$s, "contextmenu", this._onContextMenu), t(_$s, "click", this._onClick), t(_$s, "dblclick", this._onClick), t(_$s, "dragstart", this._onDragStart), t(_$s, "dragend", this._onDragEnd), t(_$s, "dragover", this._onDragOver), t(_$s, "dragenter", this._onDragEnter), t(_$s, "dragleave", this._onDragLeave), t(_$s, "drop", this._onDrop), this.enablePointerEvents || t(_$s, "touchstart", this._onTouchStart, Fn);
            }
        },
        {
            key: "removeListeners",
            value: function removeListeners() {
                this.addOrRemove(In, "remove");
                var _$t = this._getEventPrefix(), e = Kt(this.upperCanvasEl);
                In(e, "".concat(_$t, "up"), this._onMouseUp), In(e, "touchend", this._onTouchEnd, Fn), In(e, "".concat(_$t, "move"), this._onMouseMove, Fn), In(e, "touchmove", this._onMouseMove, Fn), clearTimeout(this._willAddMouseDown);
            }
        },
        {
            key: "_onMouseWheel",
            value: function _onMouseWheel(t) {
                this.__onMouseWheel(t);
            }
        },
        {
            key: "_onMouseOut",
            value: function _onMouseOut(t) {
                var _this = this;
                var e = this._hoveredTarget, i = s({
                    e: t
                }, Ln(this, t));
                this.fire("mouse:out", s(s({}, i), {}, {
                    target: e
                })), this._hoveredTarget = void 0, e && e.fire("mouseout", s({}, i)), this._hoveredTargets.forEach(function(t) {
                    _this.fire("mouse:out", s(s({}, i), {}, {
                        target: t
                    })), t && t.fire("mouseout", s({}, i));
                }), this._hoveredTargets = [];
            }
        },
        {
            key: "_onMouseEnter",
            value: function _onMouseEnter(t) {
                this._currentTransform || this.findTarget(t) || (this.fire("mouse:over", s({
                    e: t
                }, Ln(this, t))), this._hoveredTarget = void 0, this._hoveredTargets = []);
            }
        },
        {
            key: "_onDragStart",
            value: function _onDragStart(t) {
                this._isClick = !1;
                var e = this.getActiveObject();
                if (e && e.onDragStart(t)) {
                    this._dragSource = e;
                    var _$s = {
                        e: t,
                        target: e
                    };
                    return this.fire("dragstart", _$s), e.fire("dragstart", _$s), void Rn(this.upperCanvasEl, "drag", this._onDragProgress);
                }
                ae(t);
            }
        },
        {
            key: "_renderDragEffects",
            value: function _renderDragEffects(t, e, s) {
                var _n;
                var i = !1;
                var _$r = this._dropTarget;
                _$r && _$r !== e && _$r !== s && (_$r.clearContextTop(), i = !0), null == e || e.clearContextTop(), s !== e && (null == s || s.clearContextTop());
                var n = this.contextTop;
                n.save(), (_n = n).transform.apply(_n, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.viewportTransform)), e && (n.save(), e.transform(n), e.renderDragSourceEffect(t), n.restore(), i = !0), s && (n.save(), s.transform(n), s.renderDropTargetEffect(t), n.restore(), i = !0), n.restore(), i && (this.contextTopDirty = !0);
            }
        },
        {
            key: "_onDragEnd",
            value: function _onDragEnd(t) {
                var e = !!t.dataTransfer && t.dataTransfer.dropEffect !== j, _$s = e ? this._activeObject : void 0, i = {
                    e: t,
                    target: this._dragSource,
                    subTargets: this.targets,
                    dragSource: this._dragSource,
                    didDrop: e,
                    dropTarget: _$s
                };
                In(this.upperCanvasEl, "drag", this._onDragProgress), this.fire("dragend", i), this._dragSource && this._dragSource.fire("dragend", i), delete this._dragSource, this._onMouseUp(t);
            }
        },
        {
            key: "_onDragProgress",
            value: function _onDragProgress(t) {
                var e = {
                    e: t,
                    target: this._dragSource,
                    dragSource: this._dragSource,
                    dropTarget: this._draggedoverTarget
                };
                this.fire("drag", e), this._dragSource && this._dragSource.fire("drag", e);
            }
        },
        {
            key: "findDragTargets",
            value: function findDragTargets(t) {
                this.targets = [];
                return {
                    target: this._searchPossibleTargets(this._objects, this.getViewportPoint(t)),
                    targets: (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.targets)
                };
            }
        },
        {
            key: "_onDragOver",
            value: function _onDragOver(t) {
                var e = "dragover", _this_findDragTargets = this.findDragTargets(t), _$s = _this_findDragTargets.target, i = _this_findDragTargets.targets, _$r = this._dragSource, n = {
                    e: t,
                    target: _$s,
                    subTargets: i,
                    dragSource: _$r,
                    canDrop: !1,
                    dropTarget: void 0
                };
                var o;
                this.fire(e, n), this._fireEnterLeaveEvents(_$s, n), _$s && (_$s.canDrop(t) && (o = _$s), _$s.fire(e, n));
                for(var _$s1 = 0; _$s1 < i.length; _$s1++){
                    var _$r1 = i[_$s1];
                    _$r1.canDrop(t) && (o = _$r1), _$r1.fire(e, n);
                }
                this._renderDragEffects(t, _$r, o), this._dropTarget = o;
            }
        },
        {
            key: "_onDragEnter",
            value: function _onDragEnter(t) {
                var _this_findDragTargets = this.findDragTargets(t), e = _this_findDragTargets.target, _$s = _this_findDragTargets.targets, i = {
                    e: t,
                    target: e,
                    subTargets: _$s,
                    dragSource: this._dragSource
                };
                this.fire("dragenter", i), this._fireEnterLeaveEvents(e, i);
            }
        },
        {
            key: "_onDragLeave",
            value: function _onDragLeave(t) {
                var e = {
                    e: t,
                    target: this._draggedoverTarget,
                    subTargets: this.targets,
                    dragSource: this._dragSource
                };
                this.fire("dragleave", e), this._fireEnterLeaveEvents(void 0, e), this._renderDragEffects(t, this._dragSource), this._dropTarget = void 0, this.targets = [], this._hoveredTargets = [];
            }
        },
        {
            key: "_onDrop",
            value: function _onDrop(t) {
                var _this_findDragTargets = this.findDragTargets(t), e = _this_findDragTargets.target, i = _this_findDragTargets.targets, _$r = this._basicEventHandler("drop:before", s({
                    e: t,
                    target: e,
                    subTargets: i,
                    dragSource: this._dragSource
                }, Ln(this, t)));
                _$r.didDrop = !1, _$r.dropTarget = void 0, this._basicEventHandler("drop", _$r), this.fire("drop:after", _$r);
            }
        },
        {
            key: "_onContextMenu",
            value: function _onContextMenu(t) {
                var e = this.findTarget(t), _$s = this.targets || [], i = this._basicEventHandler("contextmenu:before", {
                    e: t,
                    target: e,
                    subTargets: _$s
                });
                return this.stopContextMenu && ae(t), this._basicEventHandler("contextmenu", i), !1;
            }
        },
        {
            key: "_onClick",
            value: function _onClick(t) {
                var e = t.detail;
                e > 3 || e < 2 || (this._cacheTransformEventData(t), 2 == e && "dblclick" === t.type && this._handleEvent(t, "dblclick"), 3 == e && this._handleEvent(t, "tripleclick"), this._resetTransformEventData());
            }
        },
        {
            key: "getPointerId",
            value: function getPointerId(t) {
                var e = t.changedTouches;
                return e ? e[0] && e[0].identifier : this.enablePointerEvents ? t.pointerId : -1;
            }
        },
        {
            key: "_isMainEvent",
            value: function _isMainEvent(t) {
                return !0 === t.isPrimary || !1 !== t.isPrimary && ("touchend" === t.type && 0 === t.touches.length || !t.changedTouches || t.changedTouches[0].identifier === this.mainTouchId);
            }
        },
        {
            key: "_onTouchStart",
            value: function _onTouchStart(t) {
                var e = !this.allowTouchScrolling;
                var _$s = this._activeObject;
                void 0 === this.mainTouchId && (this.mainTouchId = this.getPointerId(t)), this.__onMouseDown(t), (this.isDrawingMode || _$s && this._target === _$s) && (e = !0), e && t.preventDefault(), this._resetTransformEventData();
                var i = this.upperCanvasEl, _$r = this._getEventPrefix(), n = Kt(i);
                Rn(n, "touchend", this._onTouchEnd, Fn), e && Rn(n, "touchmove", this._onMouseMove, Fn), In(i, "".concat(_$r, "down"), this._onMouseDown);
            }
        },
        {
            key: "_onMouseDown",
            value: function _onMouseDown(t) {
                this.__onMouseDown(t), this._resetTransformEventData();
                var e = this.upperCanvasEl, _$s = this._getEventPrefix();
                In(e, "".concat(_$s, "move"), this._onMouseMove, Fn);
                var i = Kt(e);
                Rn(i, "".concat(_$s, "up"), this._onMouseUp), Rn(i, "".concat(_$s, "move"), this._onMouseMove, Fn);
            }
        },
        {
            key: "_onTouchEnd",
            value: function _onTouchEnd(t) {
                var _this = this;
                if (t.touches.length > 0) return;
                this.__onMouseUp(t), this._resetTransformEventData(), delete this.mainTouchId;
                var e = this._getEventPrefix(), _$s = Kt(this.upperCanvasEl);
                In(_$s, "touchend", this._onTouchEnd, Fn), In(_$s, "touchmove", this._onMouseMove, Fn), this._willAddMouseDown && clearTimeout(this._willAddMouseDown), this._willAddMouseDown = setTimeout(function() {
                    Rn(_this.upperCanvasEl, "".concat(e, "down"), _this._onMouseDown), _this._willAddMouseDown = 0;
                }, 400);
            }
        },
        {
            key: "_onMouseUp",
            value: function _onMouseUp(t) {
                this.__onMouseUp(t), this._resetTransformEventData();
                var e = this.upperCanvasEl, _$s = this._getEventPrefix();
                if (this._isMainEvent(t)) {
                    var _$t = Kt(this.upperCanvasEl);
                    In(_$t, "".concat(_$s, "up"), this._onMouseUp), In(_$t, "".concat(_$s, "move"), this._onMouseMove, Fn), Rn(e, "".concat(_$s, "move"), this._onMouseMove, Fn);
                }
            }
        },
        {
            key: "_onMouseMove",
            value: function _onMouseMove(t) {
                var e = this.getActiveObject();
                !this.allowTouchScrolling && (!e || !e.shouldStartDragging(t)) && t.preventDefault && t.preventDefault(), this.__onMouseMove(t);
            }
        },
        {
            key: "_onResize",
            value: function _onResize() {
                this.calcOffset(), this._resetTransformEventData();
            }
        },
        {
            key: "_shouldRender",
            value: function _shouldRender(t) {
                var e = this.getActiveObject();
                return !!e != !!t || e && t && e !== t;
            }
        },
        {
            key: "__onMouseUp",
            value: function __onMouseUp(t) {
                var e;
                this._cacheTransformEventData(t), this._handleEvent(t, "up:before");
                var _$s = this._currentTransform, i = this._isClick, _$r = this._target, n = t.button;
                if (n) return (this.fireMiddleClick && 1 === n || this.fireRightClick && 2 === n) && this._handleEvent(t, "up"), void this._resetTransformEventData();
                if (this.isDrawingMode && this._isCurrentlyDrawing) return void this._onMouseUpInDrawingMode(t);
                if (!this._isMainEvent(t)) return;
                var o, a, h = !1;
                if (_$s && (this._finalizeCurrentTransform(t), h = _$s.actionPerformed), !i) {
                    var e1 = _$r === this._activeObject;
                    this.handleSelection(t), h || (h = this._shouldRender(_$r) || !e1 && _$r === this._activeObject);
                }
                if (_$r) {
                    var e2 = _$r.findControl(this.getViewportPoint(t), oe(t)), _ref = e2 || {}, i1 = _ref.key, n1 = _ref.control;
                    if (a = i1, _$r.selectable && _$r !== this._activeObject && "up" === _$r.activeOn) this.setActiveObject(_$r, t), h = !0;
                    else if (n1) {
                        var e3 = n1.getMouseUpHandler(t, _$r, n1);
                        e3 && (o = this.getScenePoint(t), e3.call(n1, t, _$s, o.x, o.y));
                    }
                    _$r.isMoving = !1;
                }
                if (_$s && (_$s.target !== _$r || _$s.corner !== a)) {
                    var e4 = _$s.target && _$s.target.controls[_$s.corner], i2 = e4 && e4.getMouseUpHandler(t, _$s.target, e4);
                    o = o || this.getScenePoint(t), i2 && i2.call(e4, t, _$s, o.x, o.y);
                }
                this._setCursorFromEvent(t, _$r), this._handleEvent(t, "up"), this._groupSelector = null, this._currentTransform = null, _$r && (_$r.__corner = void 0), h ? this.requestRenderAll() : i || null !== (e = this._activeObject) && void 0 !== e && e.isEditing || this.renderTop();
            }
        },
        {
            key: "_basicEventHandler",
            value: function _basicEventHandler(t, e) {
                var _$s = e.target, tmp = e.subTargets, i = tmp === void 0 ? [] : tmp;
                this.fire(t, e), _$s && _$s.fire(t, e);
                for(var _$r = 0; _$r < i.length; _$r++)i[_$r] !== _$s && i[_$r].fire(t, e);
                return e;
            }
        },
        {
            key: "_handleEvent",
            value: function _handleEvent(t, e, i) {
                var _$r = this._target, n = this.targets || [], o = s(s(s({
                    e: t,
                    target: _$r,
                    subTargets: n
                }, Ln(this, t)), {}, {
                    transform: this._currentTransform
                }, "up:before" === e || "up" === e ? {
                    isClick: this._isClick,
                    currentTarget: this.findTarget(t),
                    currentSubTargets: this.targets
                } : {}), "down:before" === e || "down" === e ? i : {});
                this.fire("mouse:".concat(e), o), _$r && _$r.fire("mouse".concat(e), o);
                for(var _$t = 0; _$t < n.length; _$t++)n[_$t] !== _$r && n[_$t].fire("mouse".concat(e), o);
            }
        },
        {
            key: "_onMouseDownInDrawingMode",
            value: function _onMouseDownInDrawingMode(t) {
                this._isCurrentlyDrawing = !0, this.getActiveObject() && (this.discardActiveObject(t), this.requestRenderAll());
                var e = this.getScenePoint(t);
                this.freeDrawingBrush && this.freeDrawingBrush.onMouseDown(e, {
                    e: t,
                    pointer: e
                }), this._handleEvent(t, "down", {
                    alreadySelected: !1
                });
            }
        },
        {
            key: "_onMouseMoveInDrawingMode",
            value: function _onMouseMoveInDrawingMode(t) {
                if (this._isCurrentlyDrawing) {
                    var e = this.getScenePoint(t);
                    this.freeDrawingBrush && this.freeDrawingBrush.onMouseMove(e, {
                        e: t,
                        pointer: e
                    });
                }
                this.setCursor(this.freeDrawingCursor), this._handleEvent(t, "move");
            }
        },
        {
            key: "_onMouseUpInDrawingMode",
            value: function _onMouseUpInDrawingMode(t) {
                var e = this.getScenePoint(t);
                this.freeDrawingBrush ? this._isCurrentlyDrawing = !!this.freeDrawingBrush.onMouseUp({
                    e: t,
                    pointer: e
                }) : this._isCurrentlyDrawing = !1, this._handleEvent(t, "up");
            }
        },
        {
            key: "__onMouseDown",
            value: function __onMouseDown(t) {
                this._isClick = !0, this._cacheTransformEventData(t), this._handleEvent(t, "down:before");
                var e = this._target, _$s = !!e && e === this._activeObject;
                var i = t.button;
                if (i) return (this.fireMiddleClick && 1 === i || this.fireRightClick && 2 === i) && this._handleEvent(t, "down", {
                    alreadySelected: _$s
                }), void this._resetTransformEventData();
                if (this.isDrawingMode) return void this._onMouseDownInDrawingMode(t);
                if (!this._isMainEvent(t)) return;
                if (this._currentTransform) return;
                var _$r = this._shouldRender(e), n = !1;
                if (this.handleMultiSelection(t, e) ? (e = this._activeObject, n = !0, _$r = !0) : this._shouldClearSelection(t, e) && this.discardActiveObject(t), this.selection && (!e || !e.selectable && !e.isEditing && e !== this._activeObject)) {
                    var e1 = this.getScenePoint(t);
                    this._groupSelector = {
                        x: e1.x,
                        y: e1.y,
                        deltaY: 0,
                        deltaX: 0
                    };
                }
                if (_$s = !!e && e === this._activeObject, e) {
                    e.selectable && "down" === e.activeOn && this.setActiveObject(e, t);
                    var i1 = e.findControl(this.getViewportPoint(t), oe(t));
                    if (e === this._activeObject && (i1 || !n)) {
                        this._setupCurrentTransform(t, e, _$s);
                        var _$r1 = i1 ? i1.control : void 0, n1 = this.getScenePoint(t), o = _$r1 && _$r1.getMouseDownHandler(t, e, _$r1);
                        o && o.call(_$r1, t, this._currentTransform, n1.x, n1.y);
                    }
                }
                _$r && (this._objectsToRender = void 0), this._handleEvent(t, "down", {
                    alreadySelected: _$s
                }), _$r && this.requestRenderAll();
            }
        },
        {
            key: "_resetTransformEventData",
            value: function _resetTransformEventData() {
                this._target = this._pointer = this._absolutePointer = void 0;
            }
        },
        {
            key: "_cacheTransformEventData",
            value: function _cacheTransformEventData(t) {
                this._resetTransformEventData(), this._pointer = this.getViewportPoint(t), this._absolutePointer = me(this._pointer, void 0, this.viewportTransform), this._target = this._currentTransform ? this._currentTransform.target : this.findTarget(t);
            }
        },
        {
            key: "__onMouseMove",
            value: function __onMouseMove(t) {
                if (this._isClick = !1, this._cacheTransformEventData(t), this._handleEvent(t, "move:before"), this.isDrawingMode) return void this._onMouseMoveInDrawingMode(t);
                if (!this._isMainEvent(t)) return;
                var e = this._groupSelector;
                if (e) {
                    var _$s = this.getScenePoint(t);
                    e.deltaX = _$s.x - e.x, e.deltaY = _$s.y - e.y, this.renderTop();
                } else if (this._currentTransform) this._transformObject(t);
                else {
                    var e1 = this.findTarget(t);
                    this._setCursorFromEvent(t, e1), this._fireOverOutEvents(t, e1);
                }
                this.textEditingManager.onMouseMove(t), this._handleEvent(t, "move"), this._resetTransformEventData();
            }
        },
        {
            key: "_fireOverOutEvents",
            value: function _fireOverOutEvents(t, e) {
                var _$s = this._hoveredTarget, i = this._hoveredTargets, _$r = this.targets, n = Math.max(i.length, _$r.length);
                this.fireSyntheticInOutEvents("mouse", {
                    e: t,
                    target: e,
                    oldTarget: _$s,
                    fireCanvas: !0
                });
                for(var o = 0; o < n; o++)_$r[o] === e || i[o] && i[o] === _$s || this.fireSyntheticInOutEvents("mouse", {
                    e: t,
                    target: _$r[o],
                    oldTarget: i[o]
                });
                this._hoveredTarget = e, this._hoveredTargets = this.targets.concat();
            }
        },
        {
            key: "_fireEnterLeaveEvents",
            value: function _fireEnterLeaveEvents(t, e) {
                var i = this._draggedoverTarget, _$r = this._hoveredTargets, n = this.targets, o = Math.max(_$r.length, n.length);
                this.fireSyntheticInOutEvents("drag", s(s({}, e), {}, {
                    target: t,
                    oldTarget: i,
                    fireCanvas: !0
                }));
                for(var _$t = 0; _$t < o; _$t++)this.fireSyntheticInOutEvents("drag", s(s({}, e), {}, {
                    target: n[_$t],
                    oldTarget: _$r[_$t]
                }));
                this._draggedoverTarget = t;
            }
        },
        {
            key: "fireSyntheticInOutEvents",
            value: function fireSyntheticInOutEvents(t, e) {
                var _$r = e.target, n = e.oldTarget, o = e.fireCanvas, a = e.e, h = i(e, jn);
                var _Bn_t = Bn[t], c = _Bn_t.targetIn, l = _Bn_t.targetOut, u = _Bn_t.canvasIn, d = _Bn_t.canvasOut, g = n !== _$r;
                if (n && g) {
                    var _$t = s(s({}, h), {}, {
                        e: a,
                        target: n,
                        nextTarget: _$r
                    }, Ln(this, a));
                    o && this.fire(d, _$t), n.fire(l, _$t);
                }
                if (_$r && g) {
                    var _$t1 = s(s({}, h), {}, {
                        e: a,
                        target: _$r,
                        previousTarget: n
                    }, Ln(this, a));
                    o && this.fire(u, _$t1), _$r.fire(c, _$t1);
                }
            }
        },
        {
            key: "__onMouseWheel",
            value: function __onMouseWheel(t) {
                this._cacheTransformEventData(t), this._handleEvent(t, "wheel"), this._resetTransformEventData();
            }
        },
        {
            key: "_transformObject",
            value: function _transformObject(t) {
                var e = this.getScenePoint(t), _$s = this._currentTransform, i = _$s.target, _$r = i.group ? me(e, void 0, i.group.calcTransformMatrix()) : e;
                _$s.shiftKey = t.shiftKey, _$s.altKey = !!this.centeredKey && t[this.centeredKey], this._performTransformAction(t, _$s, _$r), _$s.actionPerformed && this.requestRenderAll();
            }
        },
        {
            key: "_performTransformAction",
            value: function _performTransformAction(t, e, s) {
                var i = e.action, _$r = e.actionHandler, n = e.target, o = !!_$r && _$r(t, e, s.x, s.y);
                o && n.setCoords(), "drag" === i && o && (e.target.isMoving = !0, this.setCursor(e.target.moveCursor || this.moveCursor)), e.actionPerformed = e.actionPerformed || o;
            }
        },
        {
            key: "_setCursorFromEvent",
            value: function _setCursorFromEvent(t, e) {
                if (!e) return void this.setCursor(this.defaultCursor);
                var _$s = e.hoverCursor || this.hoverCursor;
                var i = Ut(this._activeObject) ? this._activeObject : null, _$r = (!i || e.group !== i) && e.findControl(this.getViewportPoint(t));
                if (_$r) {
                    var _$s1 = _$r.control;
                    this.setCursor(_$s1.cursorStyleHandler(t, _$s1, e));
                } else e.subTargetCheck && this.targets.concat().reverse().map(function(t) {
                    _$s = t.hoverCursor || _$s;
                }), this.setCursor(_$s);
            }
        },
        {
            key: "handleMultiSelection",
            value: function handleMultiSelection(t, e) {
                var _$s = this._activeObject, i = Ut(_$s);
                if (_$s && this._isSelectionKeyPressed(t) && this.selection && e && e.selectable && (_$s !== e || i) && (i || !e.isDescendantOf(_$s) && !_$s.isDescendantOf(e)) && !e.onSelect({
                    e: t
                }) && !_$s.getActiveControl()) {
                    if (i) {
                        var i1 = _$s.getObjects();
                        if (e === _$s) {
                            var _$s1 = this.getViewportPoint(t);
                            if (!(e = this.searchPossibleTargets(i1, _$s1) || this.searchPossibleTargets(this._objects, _$s1)) || !e.selectable) return !1;
                        }
                        e.group === _$s ? (_$s.remove(e), this._hoveredTarget = e, this._hoveredTargets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.targets), 1 === _$s.size() && this._setActiveObject(_$s.item(0), t)) : (_$s.multiSelectAdd(e), this._hoveredTarget = _$s, this._hoveredTargets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.targets)), this._fireSelectionEvents(i1, t);
                    } else {
                        _$s.isEditing && _$s.exitEditing();
                        var i2 = new (tt.getClass("ActiveSelection"))([], {
                            canvas: this
                        });
                        i2.multiSelectAdd(_$s, e), this._hoveredTarget = i2, this._setActiveObject(i2, t), this._fireSelectionEvents([
                            _$s
                        ], t);
                    }
                    return !0;
                }
                return !1;
            }
        },
        {
            key: "handleSelection",
            value: function handleSelection(t) {
                if (!this.selection || !this._groupSelector) return !1;
                var _this__groupSelector = this._groupSelector, e = _this__groupSelector.x, _$s = _this__groupSelector.y, i = _this__groupSelector.deltaX, _$r = _this__groupSelector.deltaY, n = new ot(e, _$s), o = n.add(new ot(i, _$r)), a = n.min(o), h = n.max(o).subtract(a), c = this.collectObjects({
                    left: a.x,
                    top: a.y,
                    width: h.x,
                    height: h.y
                }, {
                    includeIntersecting: !this.selectionFullyContained
                }), l = n.eq(o) ? c[0] ? [
                    c[0]
                ] : [] : c.length > 1 ? c.filter(function(e) {
                    return !e.onSelect({
                        e: t
                    });
                }).reverse() : c;
                if (1 === l.length) this.setActiveObject(l[0], t);
                else if (l.length > 1) {
                    var e1 = tt.getClass("ActiveSelection");
                    this.setActiveObject(new e1(l, {
                        canvas: this
                    }), t);
                }
                return this._groupSelector = null, !0;
            }
        },
        {
            key: "toCanvasElement",
            value: function toCanvasElement() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1, e = arguments.length > 1 ? arguments[1] : void 0;
                var _this_elements = this.elements, _$s = _this_elements.upper;
                _$s.ctx = void 0;
                var i = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Xn.prototype), "toCanvasElement", this).call(this, _$t, e);
                return _$s.ctx = _$s.el.getContext("2d"), i;
            }
        },
        {
            key: "clear",
            value: function clear() {
                this.textEditingManager.clear(), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Xn.prototype), "clear", this).call(this);
            }
        },
        {
            key: "destroy",
            value: function destroy() {
                this.removeListeners(), this.textEditingManager.dispose(), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Xn.prototype), "destroy", this).call(this);
            }
        }
    ]);
    return Xn;
}(En);
var Yn = {
    x1: 0,
    y1: 0,
    x2: 0,
    y2: 0
}, Wn = s(s({}, Yn), {}, {
    r1: 0,
    r2: 0
}), Vn = function(t, e) {
    return isNaN(t) && "number" == typeof e ? e : t;
};
function zn(t) {
    return t && /%$/.test(t) && Number.isFinite(parseFloat(t));
}
function Gn(t, e) {
    var _$s = "number" == typeof t ? t : "string" == typeof t ? parseFloat(t) / (zn(t) ? 100 : 1) : NaN;
    return Ms(0, Vn(_$s, e), 1);
}
var Hn = /\s*;\s*/, Nn = /\s*:\s*/;
function Un(t, e) {
    var _$s, i;
    var _$r = t.getAttribute("style");
    if (_$r) {
        var _$t = _$r.split(Hn);
        "" === _$t[_$t.length - 1] && _$t.pop();
        for(var _$e = _$t.length; _$e--;){
            var _t_e_split_map = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$t[_$e].split(Nn).map(function(t) {
                return t.trim();
            }), 2), _$r1 = _t_e_split_map[0], n = _t_e_split_map[1];
            "stop-color" === _$r1 ? _$s = n : "stop-opacity" === _$r1 && (i = n);
        }
    }
    var n1 = new Ie(_$s || t.getAttribute("stop-color") || "rgb(0,0,0)");
    return {
        offset: Gn(t.getAttribute("offset"), 0),
        color: n1.toRgb(),
        opacity: Vn(parseFloat(i || t.getAttribute("stop-opacity") || ""), 1) * n1.getAlpha() * e
    };
}
function qn(t, e) {
    var _$s = [], i = t.getElementsByTagName("stop"), _$r = Gn(e, 1);
    for(var _$t = i.length; _$t--;)_$s.push(Un(i[_$t], _$r));
    return _$s;
}
function Kn(t) {
    return "linearGradient" === t.nodeName || "LINEARGRADIENT" === t.nodeName ? "linear" : "radial";
}
function Jn(t) {
    return "userSpaceOnUse" === t.getAttribute("gradientUnits") ? "pixels" : "percentage";
}
function Qn(t, e) {
    return t.getAttribute(e);
}
function Zn(t, e) {
    return function(t, e) {
        var _$s, i = e.width, _$r = e.height, n = e.gradientUnits;
        return Object.entries(t).reduce(function(t, e) {
            var _e = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, 2), o = _e[0], a = _e[1];
            if ("Infinity" === a) _$s = 1;
            else if ("-Infinity" === a) _$s = 0;
            else {
                var _$t = "string" == typeof a;
                _$s = _$t ? parseFloat(a) : a, _$t && zn(a) && (_$s *= .01, "pixels" === n && ("x1" !== o && "x2" !== o && "r2" !== o || (_$s *= i), "y1" !== o && "y2" !== o || (_$s *= _$r)));
            }
            return t[o] = _$s, t;
        }, {});
    }("linear" === Kn(t) ? function(t) {
        return {
            x1: Qn(t, "x1") || 0,
            y1: Qn(t, "y1") || 0,
            x2: Qn(t, "x2") || "100%",
            y2: Qn(t, "y2") || 0
        };
    }(t) : function(t) {
        return {
            x1: Qn(t, "fx") || Qn(t, "cx") || "50%",
            y1: Qn(t, "fy") || Qn(t, "cy") || "50%",
            r1: 0,
            x2: Qn(t, "cx") || "50%",
            y2: Qn(t, "cy") || "50%",
            r2: Qn(t, "r") || "50%"
        };
    }(t), s(s({}, e), {}, {
        gradientUnits: Jn(t)
    }));
}
var $n = /*#__PURE__*/ function() {
    "use strict";
    function $n(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, $n);
        var _ref = t || {}, tmp = _ref.type, e = tmp === void 0 ? "linear" : tmp, tmp1 = _ref.gradientUnits, i = tmp1 === void 0 ? "pixels" : tmp1, tmp2 = _ref.coords, _$r = tmp2 === void 0 ? {} : tmp2, tmp3 = _ref.colorStops, n = tmp3 === void 0 ? [] : tmp3, tmp4 = _ref.offsetX, o = tmp4 === void 0 ? 0 : tmp4, tmp5 = _ref.offsetY, a = tmp5 === void 0 ? 0 : tmp5, h = _ref.gradientTransform, c = _ref.id;
        Object.assign(this, {
            type: e,
            gradientUnits: i,
            coords: s(s({}, "radial" === e ? Wn : Yn), _$r),
            colorStops: n,
            offsetX: o,
            offsetY: a,
            gradientTransform: h,
            id: c ? "".concat(c, "_").concat(ft()) : ft()
        });
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])($n, [
        {
            key: "addColorStop",
            value: function addColorStop(t) {
                for(var e in t){
                    var _$s = new Ie(t[e]);
                    this.colorStops.push({
                        offset: parseFloat(e),
                        color: _$s.toRgb(),
                        opacity: _$s.getAlpha()
                    });
                }
                return this;
            }
        },
        {
            key: "toObject",
            value: function toObject(t) {
                return s(s({}, Yt(this, t)), {}, {
                    type: this.type,
                    coords: s({}, this.coords),
                    colorStops: this.colorStops.map(function(t) {
                        return s({}, t);
                    }),
                    offsetX: this.offsetX,
                    offsetY: this.offsetY,
                    gradientUnits: this.gradientUnits,
                    gradientTransform: this.gradientTransform ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.gradientTransform) : void 0
                });
            }
        },
        {
            key: "toSVG",
            value: function toSVG(t) {
                var _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = _ref.additionalTransform;
                var i = [], _$r = this.gradientTransform ? this.gradientTransform.concat() : T.concat(), n = "pixels" === this.gradientUnits ? "userSpaceOnUse" : "objectBoundingBox", o = this.colorStops.map(function(t) {
                    return s({}, t);
                }).sort(function(t, e) {
                    return t.offset - e.offset;
                });
                var a = -this.offsetX, h = -this.offsetY;
                var c;
                "objectBoundingBox" === n ? (a /= t.width, h /= t.height) : (a += t.width / 2, h += t.height / 2), (c = t) && "function" == typeof c._renderPathCommands && "percentage" !== this.gradientUnits && (a -= t.pathOffset.x, h -= t.pathOffset.y), _$r[4] -= a, _$r[5] -= h;
                var l = [
                    'id="SVGID_'.concat(this.id, '"'),
                    'gradientUnits="'.concat(n, '"'),
                    'gradientTransform="'.concat(e ? e + " " : "").concat(zt(_$r), '"'),
                    ""
                ].join(" ");
                if ("linear" === this.type) {
                    var _this_coords = this.coords, _$t = _this_coords.x1, e1 = _this_coords.y1, _$s = _this_coords.x2, _$r1 = _this_coords.y2;
                    i.push("<linearGradient ", l, ' x1="', _$t, '" y1="', e1, '" x2="', _$s, '" y2="', _$r1, '">\n');
                } else if ("radial" === this.type) {
                    var _this_coords1 = this.coords, _$t1 = _this_coords1.x1, e2 = _this_coords1.y1, _$s1 = _this_coords1.x2, _$r2 = _this_coords1.y2, n1 = _this_coords1.r1, a1 = _this_coords1.r2, h1 = n1 > a1;
                    i.push("<radialGradient ", l, ' cx="', h1 ? _$t1 : _$s1, '" cy="', h1 ? e2 : _$r2, '" r="', h1 ? n1 : a1, '" fx="', h1 ? _$s1 : _$t1, '" fy="', h1 ? _$r2 : e2, '">\n'), h1 && (o.reverse(), o.forEach(function(t) {
                        t.offset = 1 - t.offset;
                    }));
                    var c1 = Math.min(n1, a1);
                    if (c1 > 0) {
                        var _$t2 = c1 / Math.max(n1, a1);
                        o.forEach(function(e) {
                            e.offset += _$t2 * (1 - e.offset);
                        });
                    }
                }
                return o.forEach(function(t) {
                    var e = t.color, _$s = t.offset, _$r = t.opacity;
                    i.push("<stop ", 'offset="', 100 * _$s + "%", '" style="stop-color:', e, void 0 !== _$r ? ";stop-opacity: " + _$r : ";", '"/>\n');
                }), i.push("linear" === this.type ? "</linearGradient>" : "</radialGradient>", "\n"), i.join("");
            }
        },
        {
            key: "toLive",
            value: function toLive(t) {
                var _this_coords = this.coords, e = _this_coords.x1, _$s = _this_coords.y1, i = _this_coords.x2, _$r = _this_coords.y2, n = _this_coords.r1, o = _this_coords.r2, a = "linear" === this.type ? t.createLinearGradient(e, _$s, i, _$r) : t.createRadialGradient(e, _$s, n, i, _$r, o);
                return this.colorStops.forEach(function(t) {
                    var e = t.color, _$s = t.opacity, i = t.offset;
                    a.addColorStop(i, void 0 !== _$s ? new Ie(e).setAlpha(_$s).toRgba() : e);
                }), a;
            }
        }
    ], [
        {
            key: "fromObject",
            value: function fromObject(t) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var e, i;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        e = t.colorStops, i = t.gradientTransform;
                        return [
                            2,
                            new this(s(s({}, t), {}, {
                                colorStops: e ? e.map(function(t) {
                                    return s({}, t);
                                }) : void 0,
                                gradientTransform: i ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(i) : void 0
                            }))
                        ];
                    });
                }).call(this);
            }
        },
        {
            key: "fromElement",
            value: function fromElement(t, e, i) {
                var _$r = Jn(t), n = e._findCenterFromElement();
                return new this(s({
                    id: t.getAttribute("id") || void 0,
                    type: Kn(t),
                    coords: Zn(t, {
                        width: i.viewBoxWidth || i.width,
                        height: i.viewBoxHeight || i.height
                    }),
                    colorStops: qn(t, i.opacity),
                    gradientUnits: _$r,
                    gradientTransform: wr(t.getAttribute("gradientTransform") || "")
                }, "pixels" === _$r ? {
                    offsetX: e.width / 2 - n.x,
                    offsetY: e.height / 2 - n.y
                } : {
                    offsetX: 0,
                    offsetY: 0
                }));
            }
        }
    ]);
    return $n;
}();
t($n, "type", "Gradient"), tt.setClass($n, "gradient"), tt.setClass($n, "linear"), tt.setClass($n, "radial");
var to = [
    "type",
    "source",
    "patternTransform"
];
var eo = /*#__PURE__*/ function() {
    "use strict";
    function eo(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, eo);
        t(this, "repeat", "repeat"), t(this, "offsetX", 0), t(this, "offsetY", 0), t(this, "crossOrigin", ""), this.id = ft(), Object.assign(this, e);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(eo, [
        {
            key: "type",
            get: function get() {
                return "pattern";
            },
            set: function set(t) {
                a("warn", "Setting type has no effect", t);
            }
        },
        {
            key: "isImageSource",
            value: function isImageSource() {
                return !!this.source && "string" == typeof this.source.src;
            }
        },
        {
            key: "isCanvasSource",
            value: function isCanvasSource() {
                return !!this.source && !!this.source.toDataURL;
            }
        },
        {
            key: "sourceToString",
            value: function sourceToString() {
                return this.isImageSource() ? this.source.src : this.isCanvasSource() ? this.source.toDataURL() : "";
            }
        },
        {
            key: "toLive",
            value: function toLive(t) {
                return this.source && (!this.isImageSource() || this.source.complete && 0 !== this.source.naturalWidth && 0 !== this.source.naturalHeight) ? t.createPattern(this.source, this.repeat) : null;
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                var _this = this, e = _this.repeat, i = _this.crossOrigin;
                return s(s({}, Yt(this, _$t)), {}, {
                    type: "pattern",
                    source: this.sourceToString(),
                    repeat: e,
                    crossOrigin: i,
                    offsetX: Vt(this.offsetX, o.NUM_FRACTION_DIGITS),
                    offsetY: Vt(this.offsetY, o.NUM_FRACTION_DIGITS),
                    patternTransform: this.patternTransform ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.patternTransform) : null
                });
            }
        },
        {
            key: "toSVG",
            value: function toSVG(t) {
                var e = t.width, _$s = t.height;
                var _this = this, i = _this.source, _$r = _this.repeat, n = _this.id, o = Vn(this.offsetX / e, 0), a = Vn(this.offsetY / _$s, 0), h = "repeat-y" === _$r || "no-repeat" === _$r ? 1 + Math.abs(o || 0) : Vn(i.width / e, 0), c = "repeat-x" === _$r || "no-repeat" === _$r ? 1 + Math.abs(a || 0) : Vn(i.height / _$s, 0);
                return [
                    '<pattern id="SVGID_'.concat(n, '" x="').concat(o, '" y="').concat(a, '" width="').concat(h, '" height="').concat(c, '">'),
                    '<image x="0" y="0" width="'.concat(i.width, '" height="').concat(i.height, '" xlink:href="').concat(this.sourceToString(), '"></image>'),
                    "</pattern>",
                    ""
                ].join("\n");
            }
        }
    ], [
        {
            key: "fromObject",
            value: function fromObject(t, e) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var _$r, n, o, a, h;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                _$r = t.type, n = t.source, o = t.patternTransform, a = i(t, to);
                                return [
                                    4,
                                    It(n, s(s({}, e), {}, {
                                        crossOrigin: a.crossOrigin
                                    }))
                                ];
                            case 1:
                                h = _state.sent();
                                return [
                                    2,
                                    new this(s(s({}, a), {}, {
                                        patternTransform: o && o.slice(0),
                                        source: h
                                    }))
                                ];
                        }
                    });
                }).call(this);
            }
        }
    ]);
    return eo;
}();
t(eo, "type", "Pattern"), tt.setClass(eo), tt.setClass(eo, "pattern");
var so = /*#__PURE__*/ function() {
    "use strict";
    function so(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, so);
        t(this, "color", "rgb(0, 0, 0)"), t(this, "width", 1), t(this, "shadow", null), t(this, "strokeLineCap", "round"), t(this, "strokeLineJoin", "round"), t(this, "strokeMiterLimit", 10), t(this, "strokeDashArray", null), t(this, "limitedToCanvasSize", !1), this.canvas = e;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(so, [
        {
            key: "_setBrushStyles",
            value: function _setBrushStyles(t) {
                t.strokeStyle = this.color, t.lineWidth = this.width, t.lineCap = this.strokeLineCap, t.miterLimit = this.strokeMiterLimit, t.lineJoin = this.strokeLineJoin, t.setLineDash(this.strokeDashArray || []);
            }
        },
        {
            key: "_saveAndTransform",
            value: function _saveAndTransform(t) {
                var e = this.canvas.viewportTransform;
                t.save(), t.transform(e[0], e[1], e[2], e[3], e[4], e[5]);
            }
        },
        {
            key: "needsFullRender",
            value: function needsFullRender() {
                return new Ie(this.color).getAlpha() < 1 || !!this.shadow;
            }
        },
        {
            key: "_setShadow",
            value: function _setShadow() {
                if (!this.shadow || !this.canvas) return;
                var _$t = this.canvas, e = this.shadow, _$s = _$t.contextTop, i = _$t.getZoom() * _$t.getRetinaScaling();
                _$s.shadowColor = e.color, _$s.shadowBlur = e.blur * i, _$s.shadowOffsetX = e.offsetX * i, _$s.shadowOffsetY = e.offsetY * i;
            }
        },
        {
            key: "_resetShadow",
            value: function _resetShadow() {
                var _$t = this.canvas.contextTop;
                _$t.shadowColor = "", _$t.shadowBlur = _$t.shadowOffsetX = _$t.shadowOffsetY = 0;
            }
        },
        {
            key: "_isOutSideCanvas",
            value: function _isOutSideCanvas(t) {
                return t.x < 0 || t.x > this.canvas.getWidth() || t.y < 0 || t.y > this.canvas.getHeight();
            }
        }
    ]);
    return so;
}();
var io = [
    "path",
    "left",
    "top"
], ro = [
    "d"
];
var no = /*#__PURE__*/ function(Li) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(no, Li);
    function no(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, no);
        var _this;
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, _$s = e.path, _$r = e.left, n = e.top, o = i(e, io);
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, no), Object.assign(_this, no.ownDefaults), _this.setOptions(o), _this._setPath(t || [], !0), "number" == typeof _$r && _this.set(M, _$r), "number" == typeof n && _this.set(P, n);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(no, [
        {
            key: "_setPath",
            value: function _setPath(t, e) {
                this.path = nn(Array.isArray(t) ? t : bn(t)), this.setBoundingBox(e);
            }
        },
        {
            key: "_findCenterFromElement",
            value: function _findCenterFromElement() {
                var _$t = this._calcBoundsFromPath();
                return new ot(_$t.left + _$t.width / 2, _$t.top + _$t.height / 2);
            }
        },
        {
            key: "_renderPathCommands",
            value: function _renderPathCommands(t) {
                var e = -this.pathOffset.x, _$s = -this.pathOffset.y;
                t.beginPath();
                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;
                try {
                    for(var _iterator = this.path[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){
                        var i = _step.value;
                        switch(i[0]){
                            case "L":
                                t.lineTo(i[1] + e, i[2] + _$s);
                                break;
                            case "M":
                                t.moveTo(i[1] + e, i[2] + _$s);
                                break;
                            case "C":
                                t.bezierCurveTo(i[1] + e, i[2] + _$s, i[3] + e, i[4] + _$s, i[5] + e, i[6] + _$s);
                                break;
                            case "Q":
                                t.quadraticCurveTo(i[1] + e, i[2] + _$s, i[3] + e, i[4] + _$s);
                                break;
                            case "Z":
                                t.closePath();
                        }
                    }
                } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                } finally{
                    try {
                        if (!_iteratorNormalCompletion && _iterator.return != null) {
                            _iterator.return();
                        }
                    } finally{
                        if (_didIteratorError) {
                            throw _iteratorError;
                        }
                    }
                }
            }
        },
        {
            key: "_render",
            value: function _render(t) {
                this._renderPathCommands(t), this._renderPaintInOrder(t);
            }
        },
        {
            key: "toString",
            value: function toString() {
                return "#<Path (".concat(this.complexity(), '): { "top": ').concat(this.top, ', "left": ').concat(this.left, " }>");
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(no.prototype), "toObject", this).call(this, _$t)), {}, {
                    path: this.path.map(function(t) {
                        return t.slice();
                    })
                });
            }
        },
        {
            key: "toDatalessObject",
            value: function toDatalessObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                var e = this.toObject(_$t);
                return this.sourcePath && (delete e.path, e.sourcePath = this.sourcePath), e;
            }
        },
        {
            key: "_toSVG",
            value: function _toSVG() {
                var _$t = wn(this.path, o.NUM_FRACTION_DIGITS);
                return [
                    "<path ",
                    "COMMON_PARTS",
                    'd="'.concat(_$t, '" stroke-linecap="round" />\n')
                ];
            }
        },
        {
            key: "_getOffsetTransform",
            value: function _getOffsetTransform() {
                var _$t = o.NUM_FRACTION_DIGITS;
                return " translate(".concat(Vt(-this.pathOffset.x, _$t), ", ").concat(Vt(-this.pathOffset.y, _$t), ")");
            }
        },
        {
            key: "toClipPathSVG",
            value: function toClipPathSVG(t) {
                var e = this._getOffsetTransform();
                return "\t" + this._createBaseClipPathSVGMarkup(this._toSVG(), {
                    reviver: t,
                    additionalTransform: e
                });
            }
        },
        {
            key: "toSVG",
            value: function toSVG(t) {
                var e = this._getOffsetTransform();
                return this._createBaseSVGMarkup(this._toSVG(), {
                    reviver: t,
                    additionalTransform: e
                });
            }
        },
        {
            key: "complexity",
            value: function complexity() {
                return this.path.length;
            }
        },
        {
            key: "setDimensions",
            value: function setDimensions() {
                this.setBoundingBox();
            }
        },
        {
            key: "setBoundingBox",
            value: function setBoundingBox(t) {
                var _this__calcDimensions = this._calcDimensions(), e = _this__calcDimensions.width, _$s = _this__calcDimensions.height, i = _this__calcDimensions.pathOffset;
                this.set({
                    width: e,
                    height: _$s,
                    pathOffset: i
                }), t && this.setPositionByOrigin(i, D, D);
            }
        },
        {
            key: "_calcBoundsFromPath",
            value: function _calcBoundsFromPath() {
                var _$t = [];
                var e = 0, _$s = 0, i = 0, _$r = 0;
                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;
                try {
                    for(var _iterator = this.path[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){
                        var n = _step.value;
                        switch(n[0]){
                            case "L":
                                i = n[1], _$r = n[2], _$t.push({
                                    x: e,
                                    y: _$s
                                }, {
                                    x: i,
                                    y: _$r
                                });
                                break;
                            case "M":
                                i = n[1], _$r = n[2], e = i, _$s = _$r;
                                break;
                            case "C":
                                var _t;
                                (_t = _$t).push.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(sn(i, _$r, n[1], n[2], n[3], n[4], n[5], n[6]))), i = n[5], _$r = n[6];
                                break;
                            case "Q":
                                var _t1;
                                (_t1 = _$t).push.apply(_t1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(sn(i, _$r, n[1], n[2], n[1], n[2], n[3], n[4]))), i = n[3], _$r = n[4];
                                break;
                            case "Z":
                                i = e, _$r = _$s;
                        }
                    }
                } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                } finally{
                    try {
                        if (!_iteratorNormalCompletion && _iterator.return != null) {
                            _iterator.return();
                        }
                    } finally{
                        if (_didIteratorError) {
                            throw _iteratorError;
                        }
                    }
                }
                return he(_$t);
            }
        },
        {
            key: "_calcDimensions",
            value: function _calcDimensions() {
                var _$t = this._calcBoundsFromPath();
                return s(s({}, _$t), {}, {
                    pathOffset: new ot(_$t.left + _$t.width / 2, _$t.top + _$t.height / 2)
                });
            }
        }
    ], [
        {
            key: "fromObject",
            value: function fromObject(t) {
                return this._fromObject(t, {
                    extraParam: "path"
                });
            }
        },
        {
            key: "fromElement",
            value: function fromElement(t, e, r) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var n, o;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        n = Pr(t, this.ATTRIBUTE_NAMES, r), o = n.d;
                        return [
                            2,
                            new this(o, s(s(s({}, i(n, ro)), e), {}, {
                                left: void 0,
                                top: void 0
                            }))
                        ];
                    });
                }).call(this);
            }
        }
    ]);
    return no;
}(Li);
t(no, "type", "Path"), t(no, "cacheProperties", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Es).concat([
    "path",
    "fillRule"
])), t(no, "ATTRIBUTE_NAMES", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Zi).concat([
    "d"
])), tt.setClass(no), tt.setSVGClass(no);
var oo = /*#__PURE__*/ function(so) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oo, so);
    function oo(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, oo);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, oo, [
            e
        ]), t(_this, "decimate", .4), t(_this, "drawStraightLine", !1), t(_this, "straightLineKey", "shiftKey"), _this._points = [], _this._hasStraightLine = !1;
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oo, [
        {
            key: "needsFullRender",
            value: function needsFullRender() {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oo.prototype), "needsFullRender", this).call(this) || this._hasStraightLine;
            }
        },
        {
            key: "onMouseDown",
            value: function onMouseDown(t, e) {
                var _$s = e.e;
                this.canvas._isMainEvent(_$s) && (this.drawStraightLine = !!this.straightLineKey && _$s[this.straightLineKey], this._prepareForDrawing(t), this._addPoint(t), this._render());
            }
        },
        {
            key: "onMouseMove",
            value: function onMouseMove(t, e) {
                var _$s = e.e;
                if (this.canvas._isMainEvent(_$s) && (this.drawStraightLine = !!this.straightLineKey && _$s[this.straightLineKey], (!0 !== this.limitedToCanvasSize || !this._isOutSideCanvas(t)) && this._addPoint(t) && this._points.length > 1)) if (this.needsFullRender()) this.canvas.clearContext(this.canvas.contextTop), this._render();
                else {
                    var _$t = this._points, _$e = _$t.length, _$s1 = this.canvas.contextTop;
                    this._saveAndTransform(_$s1), this.oldEnd && (_$s1.beginPath(), _$s1.moveTo(this.oldEnd.x, this.oldEnd.y)), this.oldEnd = oo.drawSegment(_$s1, _$t[_$e - 2], _$t[_$e - 1]), _$s1.stroke(), _$s1.restore();
                }
            }
        },
        {
            key: "onMouseUp",
            value: function onMouseUp(t) {
                var e = t.e;
                return !this.canvas._isMainEvent(e) || (this.drawStraightLine = !1, this.oldEnd = void 0, this._finalizeAndAddPath(), !1);
            }
        },
        {
            key: "_prepareForDrawing",
            value: function _prepareForDrawing(t) {
                this._reset(), this._addPoint(t), this.canvas.contextTop.moveTo(t.x, t.y);
            }
        },
        {
            key: "_addPoint",
            value: function _addPoint(t) {
                return !(this._points.length > 1 && t.eq(this._points[this._points.length - 1])) && (this.drawStraightLine && this._points.length > 1 && (this._hasStraightLine = !0, this._points.pop()), this._points.push(t), !0);
            }
        },
        {
            key: "_reset",
            value: function _reset() {
                this._points = [], this._setBrushStyles(this.canvas.contextTop), this._setShadow(), this._hasStraightLine = !1;
            }
        },
        {
            key: "_render",
            value: function _render() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.canvas.contextTop, e = this._points[0], _$s = this._points[1];
                if (this._saveAndTransform(_$t), _$t.beginPath(), 2 === this._points.length && e.x === _$s.x && e.y === _$s.y) {
                    var _$t1 = this.width / 1e3;
                    e.x -= _$t1, _$s.x += _$t1;
                }
                _$t.moveTo(e.x, e.y);
                for(var i = 1; i < this._points.length; i++)oo.drawSegment(_$t, e, _$s), e = this._points[i], _$s = this._points[i + 1];
                _$t.lineTo(e.x, e.y), _$t.stroke(), _$t.restore();
            }
        },
        {
            key: "convertPointsToSVGPath",
            value: function convertPointsToSVGPath(t) {
                var e = this.width / 1e3;
                return Sn(t, e);
            }
        },
        {
            key: "createPath",
            value: function createPath(t) {
                var e = new no(t, {
                    fill: null,
                    stroke: this.color,
                    strokeWidth: this.width,
                    strokeLineCap: this.strokeLineCap,
                    strokeMiterLimit: this.strokeMiterLimit,
                    strokeLineJoin: this.strokeLineJoin,
                    strokeDashArray: this.strokeDashArray
                });
                return this.shadow && (this.shadow.affectStroke = !0, e.shadow = new Ds(this.shadow)), e;
            }
        },
        {
            key: "decimatePoints",
            value: function decimatePoints(t, e) {
                if (t.length <= 2) return t;
                var _$s, i = t[0];
                var _$r = this.canvas.getZoom(), n = Math.pow(e / _$r, 2), o = t.length - 1, a = [
                    i
                ];
                for(var _$e = 1; _$e < o - 1; _$e++)_$s = Math.pow(i.x - t[_$e].x, 2) + Math.pow(i.y - t[_$e].y, 2), _$s >= n && (i = t[_$e], a.push(i));
                return a.push(t[o]), a;
            }
        },
        {
            key: "_finalizeAndAddPath",
            value: function _finalizeAndAddPath() {
                this.canvas.contextTop.closePath(), this.decimate && (this._points = this.decimatePoints(this._points, this.decimate));
                var _$t = this.convertPointsToSVGPath(this._points);
                if (function(t) {
                    return "M 0 0 Q 0 0 0 0 L 0 0" === wn(t);
                }(_$t)) return void this.canvas.requestRenderAll();
                var e = this.createPath(_$t);
                this.canvas.clearContext(this.canvas.contextTop), this.canvas.fire("before:path:created", {
                    path: e
                }), this.canvas.add(e), this.canvas.requestRenderAll(), e.setCoords(), this._resetShadow(), this.canvas.fire("path:created", {
                    path: e
                });
            }
        }
    ], [
        {
            key: "drawSegment",
            value: function drawSegment(t, e, s) {
                var i = e.midPointFrom(s);
                return t.quadraticCurveTo(e.x, e.y, i.x, i.y), i;
            }
        }
    ]);
    return oo;
}(so);
var ao = [
    "left",
    "top",
    "radius"
], ho = [
    "radius",
    "startAngle",
    "endAngle",
    "counterClockwise"
];
var co = /*#__PURE__*/ function(Li) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(co, Li);
    function co(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, co);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, co), Object.assign(_this, co.ownDefaults), _this.setOptions(t);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(co, [
        {
            key: "_set",
            value: function _set(t, e) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(co.prototype), "_set", this).call(this, t, e), "radius" === t && this.setRadius(e), this;
            }
        },
        {
            key: "_render",
            value: function _render(t) {
                t.beginPath(), t.arc(0, 0, this.radius, xt(this.startAngle), xt(this.endAngle), this.counterClockwise), this._renderPaintInOrder(t);
            }
        },
        {
            key: "getRadiusX",
            value: function getRadiusX() {
                return this.get("radius") * this.get(H);
            }
        },
        {
            key: "getRadiusY",
            value: function getRadiusY() {
                return this.get("radius") * this.get(N);
            }
        },
        {
            key: "setRadius",
            value: function setRadius(t) {
                this.radius = t, this.set({
                    width: 2 * t,
                    height: 2 * t
                });
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(co.prototype), "toObject", this).call(this, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ho).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$t)));
            }
        },
        {
            key: "_toSVG",
            value: function _toSVG() {
                var _$t = (this.endAngle - this.startAngle) % 360;
                if (0 === _$t) return [
                    "<circle ",
                    "COMMON_PARTS",
                    'cx="0" cy="0" ',
                    'r="',
                    "".concat(this.radius),
                    '" />\n'
                ];
                {
                    var _this = this, e = _this.radius, _$s = xt(this.startAngle), i = xt(this.endAngle), _$r = rt(_$s) * e, n = nt(_$s) * e, o = rt(i) * e, a = nt(i) * e, h = _$t > 180 ? 1 : 0, c = this.counterClockwise ? 0 : 1;
                    return [
                        '<path d="M '.concat(_$r, " ").concat(n, " A ").concat(e, " ").concat(e, " 0 ").concat(h, " ").concat(c, " ").concat(o, " ").concat(a, '" '),
                        "COMMON_PARTS",
                        " />\n"
                    ];
                }
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(co), "getDefaults", this).call(this)), co.ownDefaults);
            }
        },
        {
            key: "fromElement",
            value: function fromElement(t, e, r) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var n, tmp, o, tmp1, a, tmp2, h;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        n = Pr(t, this.ATTRIBUTE_NAMES, r), tmp = n.left, o = tmp === void 0 ? 0 : tmp, tmp1 = n.top, a = tmp1 === void 0 ? 0 : tmp1, tmp2 = n.radius, h = tmp2 === void 0 ? 0 : tmp2;
                        return [
                            2,
                            new this(s(s({}, i(n, ao)), {}, {
                                radius: h,
                                left: o - h,
                                top: a - h
                            }))
                        ];
                    });
                }).call(this);
            }
        },
        {
            key: "fromObject",
            value: function fromObject(t) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(co), "_fromObject", this).call(this, t);
            }
        }
    ]);
    return co;
}(Li);
t(co, "type", "Circle"), t(co, "cacheProperties", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Es).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ho))), t(co, "ownDefaults", {
    radius: 0,
    startAngle: 0,
    endAngle: 360,
    counterClockwise: !1
}), t(co, "ATTRIBUTE_NAMES", [
    "cx",
    "cy",
    "r"
].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Zi))), tt.setClass(co), tt.setSVGClass(co);
var lo = /*#__PURE__*/ function(so) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(lo, so);
    function lo(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, lo);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, lo, [
            e
        ]), t(_this, "width", 10), _this.points = [];
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(lo, [
        {
            key: "drawDot",
            value: function drawDot(t) {
                var e = this.addPoint(t), _$s = this.canvas.contextTop;
                this._saveAndTransform(_$s), this.dot(_$s, e), _$s.restore();
            }
        },
        {
            key: "dot",
            value: function dot(t, e) {
                t.fillStyle = e.fill, t.beginPath(), t.arc(e.x, e.y, e.radius, 0, 2 * Math.PI, !1), t.closePath(), t.fill();
            }
        },
        {
            key: "onMouseDown",
            value: function onMouseDown(t) {
                this.points = [], this.canvas.clearContext(this.canvas.contextTop), this._setShadow(), this.drawDot(t);
            }
        },
        {
            key: "_render",
            value: function _render() {
                var _$t = this.canvas.contextTop, e = this.points;
                this._saveAndTransform(_$t);
                for(var _$s = 0; _$s < e.length; _$s++)this.dot(_$t, e[_$s]);
                _$t.restore();
            }
        },
        {
            key: "onMouseMove",
            value: function onMouseMove(t) {
                !0 === this.limitedToCanvasSize && this._isOutSideCanvas(t) || (this.needsFullRender() ? (this.canvas.clearContext(this.canvas.contextTop), this.addPoint(t), this._render()) : this.drawDot(t));
            }
        },
        {
            key: "onMouseUp",
            value: function onMouseUp() {
                var _$t = this.canvas.renderOnAddRemove;
                this.canvas.renderOnAddRemove = !1;
                var e = [];
                for(var _$t1 = 0; _$t1 < this.points.length; _$t1++){
                    var _$s = this.points[_$t1], i = new co({
                        radius: _$s.radius,
                        left: _$s.x,
                        top: _$s.y,
                        originX: D,
                        originY: D,
                        fill: _$s.fill
                    });
                    this.shadow && (i.shadow = new Ds(this.shadow)), e.push(i);
                }
                var _$s1 = new Ur(e, {
                    canvas: this.canvas
                });
                this.canvas.fire("before:path:created", {
                    path: _$s1
                }), this.canvas.add(_$s1), this.canvas.fire("path:created", {
                    path: _$s1
                }), this.canvas.clearContext(this.canvas.contextTop), this._resetShadow(), this.canvas.renderOnAddRemove = _$t, this.canvas.requestRenderAll();
            }
        },
        {
            key: "addPoint",
            value: function addPoint(t) {
                var e = t.x, _$s = t.y;
                var i = {
                    x: e,
                    y: _$s,
                    radius: On(Math.max(0, this.width - 20), this.width + 20) / 2,
                    fill: new Ie(this.color).setAlpha(On(0, 100) / 100).toRgba()
                };
                return this.points.push(i), i;
            }
        }
    ]);
    return lo;
}(so);
var uo = /*#__PURE__*/ function(so) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(uo, so);
    function uo(e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, uo);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, uo, [
            e
        ]), t(_this, "width", 10), t(_this, "density", 20), t(_this, "dotWidth", 1), t(_this, "dotWidthVariance", 1), t(_this, "randomOpacity", !1), t(_this, "optimizeOverlapping", !0), _this.sprayChunks = [], _this.sprayChunk = [];
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(uo, [
        {
            key: "onMouseDown",
            value: function onMouseDown(t) {
                this.sprayChunks = [], this.canvas.clearContext(this.canvas.contextTop), this._setShadow(), this.addSprayChunk(t), this.renderChunck(this.sprayChunk);
            }
        },
        {
            key: "onMouseMove",
            value: function onMouseMove(t) {
                !0 === this.limitedToCanvasSize && this._isOutSideCanvas(t) || (this.addSprayChunk(t), this.renderChunck(this.sprayChunk));
            }
        },
        {
            key: "onMouseUp",
            value: function onMouseUp() {
                var _$t = this.canvas.renderOnAddRemove;
                this.canvas.renderOnAddRemove = !1;
                var e = [];
                for(var _$t1 = 0; _$t1 < this.sprayChunks.length; _$t1++){
                    var _$s = this.sprayChunks[_$t1];
                    for(var _$t2 = 0; _$t2 < _$s.length; _$t2++){
                        var i = _$s[_$t2], _$r = new jr({
                            width: i.width,
                            height: i.width,
                            left: i.x + 1,
                            top: i.y + 1,
                            originX: D,
                            originY: D,
                            fill: this.color
                        });
                        e.push(_$r);
                    }
                }
                var _$s1 = new Ur(this.optimizeOverlapping ? function(t) {
                    var e = {}, _$s = [];
                    for(var i, _$r = 0; _$r < t.length; _$r++)i = "".concat(t[_$r].left).concat(t[_$r].top), e[i] || (e[i] = !0, _$s.push(t[_$r]));
                    return _$s;
                }(e) : e, {
                    objectCaching: !0,
                    subTargetCheck: !1,
                    interactive: !1
                });
                this.shadow && _$s1.set("shadow", new Ds(this.shadow)), this.canvas.fire("before:path:created", {
                    path: _$s1
                }), this.canvas.add(_$s1), this.canvas.fire("path:created", {
                    path: _$s1
                }), this.canvas.clearContext(this.canvas.contextTop), this._resetShadow(), this.canvas.renderOnAddRemove = _$t, this.canvas.requestRenderAll();
            }
        },
        {
            key: "renderChunck",
            value: function renderChunck(t) {
                var e = this.canvas.contextTop;
                e.fillStyle = this.color, this._saveAndTransform(e);
                for(var _$s = 0; _$s < t.length; _$s++){
                    var i = t[_$s];
                    e.globalAlpha = i.opacity, e.fillRect(i.x, i.y, i.width, i.width);
                }
                e.restore();
            }
        },
        {
            key: "_render",
            value: function _render() {
                var _$t = this.canvas.contextTop;
                _$t.fillStyle = this.color, this._saveAndTransform(_$t);
                for(var _$t1 = 0; _$t1 < this.sprayChunks.length; _$t1++)this.renderChunck(this.sprayChunks[_$t1]);
                _$t.restore();
            }
        },
        {
            key: "addSprayChunk",
            value: function addSprayChunk(t) {
                this.sprayChunk = [];
                var e = this.width / 2;
                for(var _$s = 0; _$s < this.density; _$s++)this.sprayChunk.push({
                    x: On(t.x - e, t.x + e),
                    y: On(t.y - e, t.y + e),
                    width: this.dotWidthVariance ? On(Math.max(1, this.dotWidth - this.dotWidthVariance), this.dotWidth + this.dotWidthVariance) : this.dotWidth,
                    opacity: this.randomOpacity ? On(0, 100) / 100 : 1
                });
                this.sprayChunks.push(this.sprayChunk);
            }
        }
    ]);
    return uo;
}(so);
var go = /*#__PURE__*/ function(oo) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(go, oo);
    function go(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, go);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, go, [
            t
        ]);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(go, [
        {
            key: "getPatternSrc",
            value: function getPatternSrc() {
                var _$t = pt(), e = _$t.getContext("2d");
                return _$t.width = _$t.height = 25, e && (e.fillStyle = this.color, e.beginPath(), e.arc(10, 10, 10, 0, 2 * Math.PI, !1), e.closePath(), e.fill()), _$t;
            }
        },
        {
            key: "getPattern",
            value: function getPattern(t) {
                return t.createPattern(this.source || this.getPatternSrc(), "repeat");
            }
        },
        {
            key: "_setBrushStyles",
            value: function _setBrushStyles(t) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(go.prototype), "_setBrushStyles", this).call(this, t);
                var e = this.getPattern(t);
                e && (t.strokeStyle = e);
            }
        },
        {
            key: "createPath",
            value: function createPath(t) {
                var e = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(go.prototype), "createPath", this).call(this, t), _$s = e._getLeftTopCoords().scalarAdd(e.strokeWidth / 2);
                return e.stroke = new eo({
                    source: this.source || this.getPatternSrc(),
                    offsetX: -_$s.x,
                    offsetY: -_$s.y
                }), e;
            }
        }
    ]);
    return go;
}(oo);
var fo = [
    "x1",
    "y1",
    "x2",
    "y2"
], po = [
    "x1",
    "y1",
    "x2",
    "y2"
], mo = [
    "x1",
    "x2",
    "y1",
    "y2"
];
var vo = /*#__PURE__*/ function(Li) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(vo, Li);
    function vo() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, vo);
        var _this;
        var _ref = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [
            0,
            0,
            0,
            0
        ], 4), _$t = _ref[0], e = _ref[1], _$s = _ref[2], i = _ref[3], _$r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, vo), Object.assign(_this, vo.ownDefaults), _this.setOptions(_$r), _this.x1 = _$t, _this.x2 = _$s, _this.y1 = e, _this.y2 = i, _this._setWidthHeight();
        var n = _$r.left, o = _$r.top;
        "number" == typeof n && _this.set(M, n), "number" == typeof o && _this.set(P, o);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(vo, [
        {
            key: "_setWidthHeight",
            value: function _setWidthHeight() {
                var _this = this, _$t = _this.x1, e = _this.y1, _$s = _this.x2, i = _this.y2;
                this.width = Math.abs(_$s - _$t), this.height = Math.abs(i - e);
                var _he = he([
                    {
                        x: _$t,
                        y: e
                    },
                    {
                        x: _$s,
                        y: i
                    }
                ]), _$r = _he.left, n = _he.top, o = _he.width, a = _he.height, h = new ot(_$r + o / 2, n + a / 2);
                this.setPositionByOrigin(h, D, D);
            }
        },
        {
            key: "_set",
            value: function _set(t, e) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(vo.prototype), "_set", this).call(this, t, e), mo.includes(t) && this._setWidthHeight(), this;
            }
        },
        {
            key: "_render",
            value: function _render(t) {
                t.beginPath();
                var e = this.calcLinePoints();
                t.moveTo(e.x1, e.y1), t.lineTo(e.x2, e.y2), t.lineWidth = this.strokeWidth;
                var _$s = t.strokeStyle;
                var i;
                Gt(this.stroke) ? t.strokeStyle = this.stroke.toLive(t) : t.strokeStyle = null !== (i = this.stroke) && void 0 !== i ? i : t.fillStyle;
                this.stroke && this._renderStroke(t), t.strokeStyle = _$s;
            }
        },
        {
            key: "_findCenterFromElement",
            value: function _findCenterFromElement() {
                return new ot((this.x1 + this.x2) / 2, (this.y1 + this.y2) / 2);
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(vo.prototype), "toObject", this).call(this, _$t)), this.calcLinePoints());
            }
        },
        {
            key: "_getNonTransformedDimensions",
            value: function _getNonTransformedDimensions() {
                var _$t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(vo.prototype), "_getNonTransformedDimensions", this).call(this);
                return "butt" === this.strokeLineCap && (0 === this.width && (_$t.y -= this.strokeWidth), 0 === this.height && (_$t.x -= this.strokeWidth)), _$t;
            }
        },
        {
            key: "calcLinePoints",
            value: function calcLinePoints() {
                var _this = this, _$t = _this.x1, e = _this.x2, _$s = _this.y1, i = _this.y2, _$r = _this.width, n = _this.height, o = _$t <= e ? -1 : 1, a = _$s <= i ? -1 : 1;
                return {
                    x1: o * _$r / 2,
                    x2: o * -_$r / 2,
                    y1: a * n / 2,
                    y2: a * -n / 2
                };
            }
        },
        {
            key: "_toSVG",
            value: function _toSVG() {
                var _this_calcLinePoints = this.calcLinePoints(), _$t = _this_calcLinePoints.x1, e = _this_calcLinePoints.x2, _$s = _this_calcLinePoints.y1, i = _this_calcLinePoints.y2;
                return [
                    "<line ",
                    "COMMON_PARTS",
                    'x1="'.concat(_$t, '" y1="').concat(_$s, '" x2="').concat(e, '" y2="').concat(i, '" />\n')
                ];
            }
        }
    ], [
        {
            key: "fromElement",
            value: function fromElement(t, e, s) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var _$r, tmp, n, tmp1, o, tmp2, a, tmp3, h;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        _$r = Pr(t, this.ATTRIBUTE_NAMES, s), tmp = _$r.x1, n = tmp === void 0 ? 0 : tmp, tmp1 = _$r.y1, o = tmp1 === void 0 ? 0 : tmp1, tmp2 = _$r.x2, a = tmp2 === void 0 ? 0 : tmp2, tmp3 = _$r.y2, h = tmp3 === void 0 ? 0 : tmp3;
                        return [
                            2,
                            new this([
                                n,
                                o,
                                a,
                                h
                            ], i(_$r, fo))
                        ];
                    });
                }).call(this);
            }
        },
        {
            key: "fromObject",
            value: function fromObject(t) {
                var e = t.x1, _$r = t.y1, n = t.x2, o = t.y2, a = i(t, po);
                return this._fromObject(s(s({}, a), {}, {
                    points: [
                        e,
                        _$r,
                        n,
                        o
                    ]
                }), {
                    extraParam: "points"
                });
            }
        }
    ]);
    return vo;
}(Li);
t(vo, "type", "Line"), t(vo, "cacheProperties", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Es).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(mo))), t(vo, "ATTRIBUTE_NAMES", Zi.concat(mo)), tt.setClass(vo), tt.setSVGClass(vo);
var yo = /*#__PURE__*/ function(Li) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(yo, Li);
    function yo(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, yo);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, yo), Object.assign(_this, yo.ownDefaults), _this.setOptions(t);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(yo, [
        {
            key: "_render",
            value: function _render(t) {
                var e = this.width / 2, _$s = this.height / 2;
                t.beginPath(), t.moveTo(-e, _$s), t.lineTo(0, -_$s), t.lineTo(e, _$s), t.closePath(), this._renderPaintInOrder(t);
            }
        },
        {
            key: "_toSVG",
            value: function _toSVG() {
                var _$t = this.width / 2, e = this.height / 2;
                return [
                    "<polygon ",
                    "COMMON_PARTS",
                    'points="',
                    "".concat(-_$t, " ").concat(e, ",0 ").concat(-e, ",").concat(_$t, " ").concat(e),
                    '" />'
                ];
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(yo), "getDefaults", this).call(this)), yo.ownDefaults);
            }
        }
    ]);
    return yo;
}(Li);
t(yo, "type", "Triangle"), t(yo, "ownDefaults", {
    width: 100,
    height: 100
}), tt.setClass(yo), tt.setSVGClass(yo);
var _o = [
    "rx",
    "ry"
];
var xo = /*#__PURE__*/ function(Li) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(xo, Li);
    function xo(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, xo);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, xo), Object.assign(_this, xo.ownDefaults), _this.setOptions(t);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(xo, [
        {
            key: "_set",
            value: function _set(t, e) {
                switch((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(xo.prototype), "_set", this).call(this, t, e), t){
                    case "rx":
                        this.rx = e, this.set("width", 2 * e);
                        break;
                    case "ry":
                        this.ry = e, this.set("height", 2 * e);
                }
                return this;
            }
        },
        {
            key: "getRx",
            value: function getRx() {
                return this.get("rx") * this.get(H);
            }
        },
        {
            key: "getRy",
            value: function getRy() {
                return this.get("ry") * this.get(N);
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(xo.prototype), "toObject", this).call(this, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_o).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$t)));
            }
        },
        {
            key: "_toSVG",
            value: function _toSVG() {
                return [
                    "<ellipse ",
                    "COMMON_PARTS",
                    'cx="0" cy="0" rx="'.concat(this.rx, '" ry="').concat(this.ry, '" />\n')
                ];
            }
        },
        {
            key: "_render",
            value: function _render(t) {
                t.beginPath(), t.save(), t.transform(1, 0, 0, this.ry / this.rx, 0, 0), t.arc(0, 0, this.rx, 0, S, !1), t.restore(), this._renderPaintInOrder(t);
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(xo), "getDefaults", this).call(this)), xo.ownDefaults);
            }
        },
        {
            key: "fromElement",
            value: function fromElement(t, e, s) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var i;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        i = Pr(t, this.ATTRIBUTE_NAMES, s);
                        return [
                            2,
                            (i.left = (i.left || 0) - i.rx, i.top = (i.top || 0) - i.ry, new this(i))
                        ];
                    });
                }).call(this);
            }
        }
    ]);
    return xo;
}(Li);
function Co(t) {
    if (!t) return [];
    var e = t.replace(/,/g, " ").trim().split(/\s+/), _$s = [];
    for(var _$t = 0; _$t < e.length; _$t += 2)_$s.push({
        x: parseFloat(e[_$t]),
        y: parseFloat(e[_$t + 1])
    });
    return _$s;
}
t(xo, "type", "Ellipse"), t(xo, "cacheProperties", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Es).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_o))), t(xo, "ownDefaults", {
    rx: 0,
    ry: 0
}), t(xo, "ATTRIBUTE_NAMES", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Zi).concat([
    "cx",
    "cy",
    "rx",
    "ry"
])), tt.setClass(xo), tt.setSVGClass(xo);
var bo = [
    "left",
    "top"
], So = {
    exactBoundingBox: !1
};
var wo = /*#__PURE__*/ function(Li) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(wo, Li);
    function wo() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, wo);
        var _this;
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], _$s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, wo), t(_this, "strokeDiff", void 0), Object.assign(_this, wo.ownDefaults), _this.setOptions(_$s), _this.points = e;
        var i = _$s.left, _$r = _$s.top;
        _this.initialized = !0, _this.setBoundingBox(!0), "number" == typeof i && _this.set(M, i), "number" == typeof _$r && _this.set(P, _$r);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(wo, [
        {
            key: "isOpen",
            value: function isOpen() {
                return !0;
            }
        },
        {
            key: "_projectStrokeOnPoints",
            value: function _projectStrokeOnPoints(t) {
                return Wi(this.points, t, this.isOpen());
            }
        },
        {
            key: "_calcDimensions",
            value: function _calcDimensions(t) {
                t = s({
                    scaleX: this.scaleX,
                    scaleY: this.scaleY,
                    skewX: this.skewX,
                    skewY: this.skewY,
                    strokeLineCap: this.strokeLineCap,
                    strokeLineJoin: this.strokeLineJoin,
                    strokeMiterLimit: this.strokeMiterLimit,
                    strokeUniform: this.strokeUniform,
                    strokeWidth: this.strokeWidth
                }, t || {});
                var e = this.exactBoundingBox ? this._projectStrokeOnPoints(t).map(function(t) {
                    return t.projectedPoint;
                }) : this.points;
                if (0 === e.length) return {
                    left: 0,
                    top: 0,
                    width: 0,
                    height: 0,
                    pathOffset: new ot,
                    strokeOffset: new ot,
                    strokeDiff: new ot
                };
                var i = he(e), _$r = Lt(s(s({}, t), {}, {
                    scaleX: 1,
                    scaleY: 1
                })), n = he(this.points.map(function(t) {
                    return St(t, _$r, !0);
                })), o = new ot(this.scaleX, this.scaleY);
                var a = i.left + i.width / 2, h = i.top + i.height / 2;
                return this.exactBoundingBox && (a -= h * Math.tan(xt(this.skewX)), h -= a * Math.tan(xt(this.skewY))), s(s({}, i), {}, {
                    pathOffset: new ot(a, h),
                    strokeOffset: new ot(n.left, n.top).subtract(new ot(i.left, i.top)).multiply(o),
                    strokeDiff: new ot(i.width, i.height).subtract(new ot(n.width, n.height)).multiply(o)
                });
            }
        },
        {
            key: "_findCenterFromElement",
            value: function _findCenterFromElement() {
                var _$t = he(this.points);
                return new ot(_$t.left + _$t.width / 2, _$t.top + _$t.height / 2);
            }
        },
        {
            key: "setDimensions",
            value: function setDimensions() {
                this.setBoundingBox();
            }
        },
        {
            key: "setBoundingBox",
            value: function setBoundingBox(t) {
                var _this__calcDimensions = this._calcDimensions(), e = _this__calcDimensions.left, _$s = _this__calcDimensions.top, i = _this__calcDimensions.width, _$r = _this__calcDimensions.height, n = _this__calcDimensions.pathOffset, o = _this__calcDimensions.strokeOffset, a = _this__calcDimensions.strokeDiff;
                this.set({
                    width: i,
                    height: _$r,
                    pathOffset: n,
                    strokeOffset: o,
                    strokeDiff: a
                }), t && this.setPositionByOrigin(new ot(e + i / 2, _$s + _$r / 2), D, D);
            }
        },
        {
            key: "isStrokeAccountedForInDimensions",
            value: function isStrokeAccountedForInDimensions() {
                return this.exactBoundingBox;
            }
        },
        {
            key: "_getNonTransformedDimensions",
            value: function _getNonTransformedDimensions() {
                return this.exactBoundingBox ? new ot(this.width, this.height) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(wo.prototype), "_getNonTransformedDimensions", this).call(this);
            }
        },
        {
            key: "_getTransformedDimensions",
            value: function _getTransformedDimensions() {
                var _this = this;
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                if (this.exactBoundingBox) {
                    var n;
                    if (Object.keys(_$t).some(function(t) {
                        return _this.strokeUniform || _this.constructor.layoutProperties.includes(t);
                    })) {
                        var e, _$s;
                        var _this__calcDimensions = this._calcDimensions(_$t), i = _this__calcDimensions.width, _$r = _this__calcDimensions.height;
                        n = new ot(null !== (e = _$t.width) && void 0 !== e ? e : i, null !== (_$s = _$t.height) && void 0 !== _$s ? _$s : _$r);
                    } else {
                        var i1, _$r1;
                        n = new ot(null !== (i1 = _$t.width) && void 0 !== i1 ? i1 : this.width, null !== (_$r1 = _$t.height) && void 0 !== _$r1 ? _$r1 : this.height);
                    }
                    return n.multiply(new ot(_$t.scaleX || this.scaleX, _$t.scaleY || this.scaleY));
                }
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(wo.prototype), "_getTransformedDimensions", this).call(this, _$t);
            }
        },
        {
            key: "_set",
            value: function _set(t, e) {
                var _$s = this.initialized && this[t] !== e, i = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(wo.prototype), "_set", this).call(this, t, e);
                return this.exactBoundingBox && _$s && ((t === H || t === N) && this.strokeUniform && this.constructor.layoutProperties.includes("strokeUniform") || this.constructor.layoutProperties.includes(t)) && this.setDimensions(), i;
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(wo.prototype), "toObject", this).call(this, _$t)), {}, {
                    points: this.points.map(function(t) {
                        var e = t.x, _$s = t.y;
                        return {
                            x: e,
                            y: _$s
                        };
                    })
                });
            }
        },
        {
            key: "_toSVG",
            value: function _toSVG() {
                var _$t = [], e = this.pathOffset.x, _$s = this.pathOffset.y, i = o.NUM_FRACTION_DIGITS;
                for(var _$r = 0, n = this.points.length; _$r < n; _$r++)_$t.push(Vt(this.points[_$r].x - e, i), ",", Vt(this.points[_$r].y - _$s, i), " ");
                return [
                    "<".concat(this.constructor.type.toLowerCase(), " "),
                    "COMMON_PARTS",
                    'points="'.concat(_$t.join(""), '" />\n')
                ];
            }
        },
        {
            key: "_render",
            value: function _render(t) {
                var e = this.points.length, _$s = this.pathOffset.x, i = this.pathOffset.y;
                if (e && !isNaN(this.points[e - 1].y)) {
                    t.beginPath(), t.moveTo(this.points[0].x - _$s, this.points[0].y - i);
                    for(var _$r = 0; _$r < e; _$r++){
                        var e1 = this.points[_$r];
                        t.lineTo(e1.x - _$s, e1.y - i);
                    }
                    !this.isOpen() && t.closePath(), this._renderPaintInOrder(t);
                }
            }
        },
        {
            key: "complexity",
            value: function complexity() {
                return this.points.length;
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(wo), "getDefaults", this).call(this)), wo.ownDefaults);
            }
        },
        {
            key: "fromElement",
            value: function fromElement(t, e, r) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        return [
                            2,
                            new this(Co(t.getAttribute("points")), s(s({}, i(Pr(t, this.ATTRIBUTE_NAMES, r), bo)), e))
                        ];
                    });
                }).call(this);
            }
        },
        {
            key: "fromObject",
            value: function fromObject(t) {
                return this._fromObject(t, {
                    extraParam: "points"
                });
            }
        }
    ]);
    return wo;
}(Li);
t(wo, "ownDefaults", So), t(wo, "type", "Polyline"), t(wo, "layoutProperties", [
    U,
    q,
    "strokeLineCap",
    "strokeLineJoin",
    "strokeMiterLimit",
    "strokeWidth",
    "strokeUniform",
    "points"
]), t(wo, "cacheProperties", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Es).concat([
    "points"
])), t(wo, "ATTRIBUTE_NAMES", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Zi)), tt.setClass(wo), tt.setSVGClass(wo);
var To = /*#__PURE__*/ function(wo) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(To, wo);
    function To() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, To);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, To, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(To, [
        {
            key: "isOpen",
            value: function isOpen() {
                return !1;
            }
        }
    ]);
    return To;
}(wo);
t(To, "ownDefaults", So), t(To, "type", "Polygon"), tt.setClass(To), tt.setSVGClass(To);
var Oo = /*#__PURE__*/ function(Li) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Oo, Li);
    function Oo() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Oo);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Oo, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Oo, [
        {
            key: "isEmptyStyles",
            value: function isEmptyStyles(t) {
                if (!this.styles) return !0;
                if (void 0 !== t && !this.styles[t]) return !0;
                var e = void 0 === t ? this.styles : {
                    line: this.styles[t]
                };
                for(var _$t in e)for(var _$s in e[_$t])for(var i in e[_$t][_$s])return !1;
                return !0;
            }
        },
        {
            key: "styleHas",
            value: function styleHas(t, e) {
                if (!this.styles) return !1;
                if (void 0 !== e && !this.styles[e]) return !1;
                var _$s = void 0 === e ? this.styles : {
                    0: this.styles[e]
                };
                for(var _$e in _$s)for(var i in _$s[_$e])if (void 0 !== _$s[_$e][i][t]) return !0;
                return !1;
            }
        },
        {
            key: "cleanStyle",
            value: function cleanStyle(t) {
                if (!this.styles) return !1;
                var e = this.styles;
                var _$s, i, _$r = 0, n = !0, o = 0;
                for(var o1 in e){
                    _$s = 0;
                    for(var a in e[o1]){
                        var h = e[o1][a] || {};
                        _$r++, void 0 !== h[t] ? (i ? h[t] !== i && (n = !1) : i = h[t], h[t] === this[t] && delete h[t]) : n = !1, 0 !== Object.keys(h).length ? _$s++ : delete e[o1][a];
                    }
                    0 === _$s && delete e[o1];
                }
                for(var _$t = 0; _$t < this._textLines.length; _$t++)o += this._textLines[_$t].length;
                n && _$r === o && (this[t] = i, this.removeStyle(t));
            }
        },
        {
            key: "removeStyle",
            value: function removeStyle(t) {
                if (!this.styles) return;
                var e = this.styles;
                var _$s, i, _$r;
                for(i in e){
                    for(_$r in _$s = e[i], _$s)delete _$s[_$r][t], 0 === Object.keys(_$s[_$r]).length && delete _$s[_$r];
                    0 === Object.keys(_$s).length && delete e[i];
                }
            }
        },
        {
            key: "_extendStyles",
            value: function _extendStyles(t, e) {
                var _this_get2DCursorLocation = this.get2DCursorLocation(t), i = _this_get2DCursorLocation.lineIndex, _$r = _this_get2DCursorLocation.charIndex;
                this._getLineStyle(i) || this._setLineStyle(i);
                var n = Wt(s(s({}, this._getStyleDeclaration(i, _$r)), e), function(t) {
                    return void 0 !== t;
                });
                this._setStyleDeclaration(i, _$r, n);
            }
        },
        {
            key: "getSelectionStyles",
            value: function getSelectionStyles(t, e, s) {
                var i = [];
                for(var _$r = t; _$r < (e || t); _$r++)i.push(this.getStyleAtPosition(_$r, s));
                return i;
            }
        },
        {
            key: "getStyleAtPosition",
            value: function getStyleAtPosition(t, e) {
                var _this_get2DCursorLocation = this.get2DCursorLocation(t), _$s = _this_get2DCursorLocation.lineIndex, i = _this_get2DCursorLocation.charIndex;
                return e ? this.getCompleteStyleDeclaration(_$s, i) : this._getStyleDeclaration(_$s, i);
            }
        },
        {
            key: "setSelectionStyles",
            value: function setSelectionStyles(t, e, s) {
                for(var i = e; i < (s || e); i++)this._extendStyles(i, t);
                this._forceClearCache = !0;
            }
        },
        {
            key: "_getStyleDeclaration",
            value: function _getStyleDeclaration(t, e) {
                var _$s;
                var i = this.styles && this.styles[t];
                return i && null !== (_$s = i[e]) && void 0 !== _$s ? _$s : {};
            }
        },
        {
            key: "getCompleteStyleDeclaration",
            value: function getCompleteStyleDeclaration(t, e) {
                return s(s({}, Yt(this, this.constructor._styleProperties)), this._getStyleDeclaration(t, e));
            }
        },
        {
            key: "_setStyleDeclaration",
            value: function _setStyleDeclaration(t, e, s) {
                this.styles[t][e] = s;
            }
        },
        {
            key: "_deleteStyleDeclaration",
            value: function _deleteStyleDeclaration(t, e) {
                delete this.styles[t][e];
            }
        },
        {
            key: "_getLineStyle",
            value: function _getLineStyle(t) {
                return !!this.styles[t];
            }
        },
        {
            key: "_setLineStyle",
            value: function _setLineStyle(t) {
                this.styles[t] = {};
            }
        },
        {
            key: "_deleteLineStyle",
            value: function _deleteLineStyle(t) {
                delete this.styles[t];
            }
        }
    ]);
    return Oo;
}(Li);
t(Oo, "_styleProperties", qe);
var ko = /  +/g, Do = /"/g;
function Mo(t, e, s, i, r) {
    return "\t\t".concat(function(t, e) {
        var _$s = e.left, _$i = e.top, _$r = e.width, n = e.height, a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : o.NUM_FRACTION_DIGITS;
        var h = Ye(K, t, !1), _map = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])([
            _$s,
            _$i,
            _$r,
            n
        ].map(function(t) {
            return Vt(t, a);
        }), 4), c = _map[0], l = _map[1], u = _map[2], d = _map[3];
        return "<rect ".concat(h, ' x="').concat(c, '" y="').concat(l, '" width="').concat(u, '" height="').concat(d, '"></rect>');
    }(t, {
        left: e,
        top: s,
        width: i,
        height: r
    }), "\n");
}
var Po = [
    "textAnchor",
    "textDecoration",
    "dx",
    "dy",
    "top",
    "left",
    "fontSize",
    "strokeWidth"
];
var Eo;
var Ao = /*#__PURE__*/ function(Oo) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ao, Oo);
    function Ao(e, s) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ao);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ao), t(_this, "__charBounds", []), Object.assign(_this, Ao.ownDefaults), _this.setOptions(s), _this.styles || (_this.styles = {}), _this.text = e, _this.initialized = !0, _this.path && _this.setPathInfo(), _this.initDimensions(), _this.setCoords();
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ao, [
        {
            key: "setPathInfo",
            value: function setPathInfo() {
                var _$t = this.path;
                _$t && (_$t.segmentsInfo = mn(_$t.path));
            }
        },
        {
            key: "_splitText",
            value: function _splitText() {
                var _$t = this._splitTextIntoLines(this.text);
                return this.textLines = _$t.lines, this._textLines = _$t.graphemeLines, this._unwrappedTextLines = _$t._unwrappedLines, this._text = _$t.graphemeText, _$t;
            }
        },
        {
            key: "initDimensions",
            value: function initDimensions() {
                this._splitText(), this._clearCache(), this.dirty = !0, this.path ? (this.width = this.path.width, this.height = this.path.height) : (this.width = this.calcTextWidth() || this.cursorWidth || this.MIN_TEXT_WIDTH, this.height = this.calcTextHeight()), this.textAlign.includes(Je) && this.enlargeSpaces();
            }
        },
        {
            key: "enlargeSpaces",
            value: function enlargeSpaces() {
                var _$t, e, _$s, i, _$r, n, o;
                for(var a = 0, h = this._textLines.length; a < h; a++)if ((this.textAlign === Je || a !== h - 1 && !this.isEndOfWrapping(a)) && (i = 0, _$r = this._textLines[a], e = this.getLineWidth(a), e < this.width && (o = this.textLines[a].match(this._reSpacesAndTabs)))) {
                    _$s = o.length, _$t = (this.width - e) / _$s;
                    for(var e1 = 0; e1 <= _$r.length; e1++)n = this.__charBounds[a][e1], this._reSpaceAndTab.test(_$r[e1]) ? (n.width += _$t, n.kernedWidth += _$t, n.left += i, i += _$t) : n.left += i;
                }
            }
        },
        {
            key: "isEndOfWrapping",
            value: function isEndOfWrapping(t) {
                return t === this._textLines.length - 1;
            }
        },
        {
            key: "missingNewlineOffset",
            value: function missingNewlineOffset(t) {
                return 1;
            }
        },
        {
            key: "get2DCursorLocation",
            value: function get2DCursorLocation(t, e) {
                var _$s = e ? this._unwrappedTextLines : this._textLines;
                var i;
                for(i = 0; i < _$s.length; i++){
                    if (t <= _$s[i].length) return {
                        lineIndex: i,
                        charIndex: t
                    };
                    t -= _$s[i].length + this.missingNewlineOffset(i, e);
                }
                return {
                    lineIndex: i - 1,
                    charIndex: _$s[i - 1].length < t ? _$s[i - 1].length : t
                };
            }
        },
        {
            key: "toString",
            value: function toString() {
                return "#<Text (".concat(this.complexity(), '): { "text": "').concat(this.text, '", "fontFamily": "').concat(this.fontFamily, '" }>');
            }
        },
        {
            key: "_getCacheCanvasDimensions",
            value: function _getCacheCanvasDimensions() {
                var _$t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ao.prototype), "_getCacheCanvasDimensions", this).call(this), e = this.fontSize;
                return _$t.width += e * _$t.zoomX, _$t.height += e * _$t.zoomY, _$t;
            }
        },
        {
            key: "_render",
            value: function _render(t) {
                var e = this.path;
                e && !e.isNotVisible() && e._render(t), this._setTextStyles(t), this._renderTextLinesBackground(t), this._renderTextDecoration(t, "underline"), this._renderText(t), this._renderTextDecoration(t, "overline"), this._renderTextDecoration(t, "linethrough");
            }
        },
        {
            key: "_renderText",
            value: function _renderText(t) {
                this.paintFirst === J ? (this._renderTextStroke(t), this._renderTextFill(t)) : (this._renderTextFill(t), this._renderTextStroke(t));
            }
        },
        {
            key: "_setTextStyles",
            value: function _setTextStyles(t, e, s) {
                if (t.textBaseline = "alphabetic", this.path) switch(this.pathAlign){
                    case D:
                        t.textBaseline = "middle";
                        break;
                    case "ascender":
                        t.textBaseline = P;
                        break;
                    case "descender":
                        t.textBaseline = E;
                }
                t.font = this._getFontDeclaration(e, s);
            }
        },
        {
            key: "calcTextWidth",
            value: function calcTextWidth() {
                var _$t = this.getLineWidth(0);
                for(var e = 1, _$s = this._textLines.length; e < _$s; e++){
                    var _$s1 = this.getLineWidth(e);
                    _$s1 > _$t && (_$t = _$s1);
                }
                return _$t;
            }
        },
        {
            key: "_renderTextLine",
            value: function _renderTextLine(t, e, s, i, r, n) {
                this._renderChars(t, e, s, i, r, n);
            }
        },
        {
            key: "_renderTextLinesBackground",
            value: function _renderTextLinesBackground(t) {
                if (!this.textBackgroundColor && !this.styleHas("textBackgroundColor")) return;
                var e = t.fillStyle, _$s = this._getLeftOffset();
                var i = this._getTopOffset();
                for(var e1 = 0, _$r = this._textLines.length; e1 < _$r; e1++){
                    var _$r1 = this.getHeightOfLine(e1);
                    if (!this.textBackgroundColor && !this.styleHas("textBackgroundColor", e1)) {
                        i += _$r1;
                        continue;
                    }
                    var n = this._textLines[e1].length, o = this._getLineLeftOffset(e1);
                    var a = void 0, h = void 0, c = 0, l = 0, u = this.getValueOfPropertyAt(e1, 0, "textBackgroundColor");
                    var d = this.getHeightOfLineImpl(e1);
                    for(var _$r2 = 0; _$r2 < n; _$r2++){
                        var n1 = this.__charBounds[e1][_$r2];
                        h = this.getValueOfPropertyAt(e1, _$r2, "textBackgroundColor"), this.path ? (t.save(), t.translate(n1.renderLeft, n1.renderTop), t.rotate(n1.angle), t.fillStyle = h, h && t.fillRect(-n1.width / 2, -d * (1 - this._fontSizeFraction), n1.width, d), t.restore()) : h !== u ? (a = _$s + o + l, "rtl" === this.direction && (a = this.width - a - c), t.fillStyle = u, u && t.fillRect(a, i, c, d), l = n1.left, c = n1.width, u = h) : c += n1.kernedWidth;
                    }
                    h && !this.path && (a = _$s + o + l, "rtl" === this.direction && (a = this.width - a - c), t.fillStyle = h, t.fillRect(a, i, c, d)), i += _$r1;
                }
                t.fillStyle = e, this._removeShadow(t);
            }
        },
        {
            key: "_measureChar",
            value: function _measureChar(t, e, s, i) {
                var _$r = _.getFontCache(e), n = this._getFontDeclaration(e), o = s ? s + t : t, a = s && n === this._getFontDeclaration(i), h = e.fontSize / this.CACHE_FONT_SIZE;
                var c, l, u, d;
                if (s && _$r.has(s) && (u = _$r.get(s)), _$r.has(t) && (d = c = _$r.get(t)), a && _$r.has(o) && (l = _$r.get(o), d = l - u), void 0 === c || void 0 === u || void 0 === l) {
                    var _$i = function() {
                        if (!Eo) {
                            var _$t = vt({
                                width: 0,
                                height: 0
                            });
                            Eo = _$t.getContext("2d");
                        }
                        return Eo;
                    }();
                    this._setTextStyles(_$i, e, !0), void 0 === c && (d = c = _$i.measureText(t).width, _$r.set(t, c)), void 0 === u && a && s && (u = _$i.measureText(s).width, _$r.set(s, u)), a && void 0 === l && (l = _$i.measureText(o).width, _$r.set(o, l), d = l - u);
                }
                return {
                    width: c * h,
                    kernedWidth: d * h
                };
            }
        },
        {
            key: "getHeightOfChar",
            value: function getHeightOfChar(t, e) {
                return this.getValueOfPropertyAt(t, e, "fontSize");
            }
        },
        {
            key: "measureLine",
            value: function measureLine(t) {
                var e = this._measureLine(t);
                return 0 !== this.charSpacing && (e.width -= this._getWidthOfCharSpacing()), e.width < 0 && (e.width = 0), e;
            }
        },
        {
            key: "_measureLine",
            value: function _measureLine(t) {
                var e, _$s, i = 0;
                var _$r = this.pathSide === A, n = this.path, o = this._textLines[t], a = o.length, h = new Array(a);
                this.__charBounds[t] = h;
                for(var _$r1 = 0; _$r1 < a; _$r1++){
                    var n1 = o[_$r1];
                    _$s = this._getGraphemeBox(n1, t, _$r1, e), h[_$r1] = _$s, i += _$s.kernedWidth, e = n1;
                }
                if (h[a] = {
                    left: _$s ? _$s.left + _$s.width : 0,
                    width: 0,
                    kernedWidth: 0,
                    height: this.fontSize,
                    deltaY: 0
                }, n && n.segmentsInfo) {
                    var _$t = 0;
                    var e1 = n.segmentsInfo[n.segmentsInfo.length - 1].length;
                    switch(this.textAlign){
                        case M:
                            _$t = _$r ? e1 - i : 0;
                            break;
                        case D:
                            _$t = (e1 - i) / 2;
                            break;
                        case A:
                            _$t = _$r ? 0 : e1 - i;
                    }
                    _$t += this.pathStartOffset * (_$r ? -1 : 1);
                    for(var i1 = _$r ? a - 1 : 0; _$r ? i1 >= 0 : i1 < a; _$r ? i1-- : i1++)_$s = h[i1], _$t > e1 ? _$t %= e1 : _$t < 0 && (_$t += e1), this._setGraphemeOnPath(_$t, _$s), _$t += _$s.kernedWidth;
                }
                return {
                    width: i,
                    numOfSpaces: 0
                };
            }
        },
        {
            key: "_setGraphemeOnPath",
            value: function _setGraphemeOnPath(t, e) {
                var _$s = t + e.kernedWidth / 2, i = this.path, _$r = vn(i.path, _$s, i.segmentsInfo);
                e.renderLeft = _$r.x - i.pathOffset.x, e.renderTop = _$r.y - i.pathOffset.y, e.angle = _$r.angle + (this.pathSide === A ? Math.PI : 0);
            }
        },
        {
            key: "_getGraphemeBox",
            value: function _getGraphemeBox(t, e, s, i, r) {
                var n = this.getCompleteStyleDeclaration(e, s), o = i ? this.getCompleteStyleDeclaration(e, s - 1) : {}, a = this._measureChar(t, n, i, o);
                var h, c = a.kernedWidth, l = a.width;
                0 !== this.charSpacing && (h = this._getWidthOfCharSpacing(), l += h, c += h);
                var u = {
                    width: l,
                    left: 0,
                    height: n.fontSize,
                    kernedWidth: c,
                    deltaY: n.deltaY
                };
                if (s > 0 && !r) {
                    var _$t = this.__charBounds[e][s - 1];
                    u.left = _$t.left + _$t.width + a.kernedWidth - a.width;
                }
                return u;
            }
        },
        {
            key: "getHeightOfLineImpl",
            value: function getHeightOfLineImpl(t) {
                var e = this.__lineHeights;
                if (e[t]) return e[t];
                var _$s = this.getHeightOfChar(t, 0);
                for(var e1 = 1, i = this._textLines[t].length; e1 < i; e1++)_$s = Math.max(this.getHeightOfChar(t, e1), _$s);
                return e[t] = _$s * this._fontSizeMult;
            }
        },
        {
            key: "getHeightOfLine",
            value: function getHeightOfLine(t) {
                return this.getHeightOfLineImpl(t) * this.lineHeight;
            }
        },
        {
            key: "calcTextHeight",
            value: function calcTextHeight() {
                var _$t = 0;
                for(var e = 0, _$s = this._textLines.length; e < _$s; e++)_$t += e === _$s - 1 ? this.getHeightOfLineImpl(e) : this.getHeightOfLine(e);
                return _$t;
            }
        },
        {
            key: "_getLeftOffset",
            value: function _getLeftOffset() {
                return "ltr" === this.direction ? -this.width / 2 : this.width / 2;
            }
        },
        {
            key: "_getTopOffset",
            value: function _getTopOffset() {
                return -this.height / 2;
            }
        },
        {
            key: "_renderTextCommon",
            value: function _renderTextCommon(t, e) {
                t.save();
                var _$s = 0;
                var i = this._getLeftOffset(), _$r = this._getTopOffset();
                for(var n = 0, o = this._textLines.length; n < o; n++)this._renderTextLine(e, t, this._textLines[n], i + this._getLineLeftOffset(n), _$r + _$s + this.getHeightOfLineImpl(n), n), _$s += this.getHeightOfLine(n);
                t.restore();
            }
        },
        {
            key: "_renderTextFill",
            value: function _renderTextFill(t) {
                (this.fill || this.styleHas(K)) && this._renderTextCommon(t, "fillText");
            }
        },
        {
            key: "_renderTextStroke",
            value: function _renderTextStroke(t) {
                (this.stroke && 0 !== this.strokeWidth || !this.isEmptyStyles()) && (this.shadow && !this.shadow.affectStroke && this._removeShadow(t), t.save(), this._setLineDash(t, this.strokeDashArray), t.beginPath(), this._renderTextCommon(t, "strokeText"), t.closePath(), t.restore());
            }
        },
        {
            key: "_renderChars",
            value: function _renderChars(t, e, s, i, r, n) {
                var o = this.textAlign.includes(Je), a = this.path, h = !o && 0 === this.charSpacing && this.isEmptyStyles(n) && !a, c = "ltr" === this.direction, l = "ltr" === this.direction ? 1 : -1, u = e.direction;
                var d, g, f, p, m, v = "", y = 0;
                if (e.save(), u !== this.direction && (e.canvas.setAttribute("dir", c ? "ltr" : "rtl"), e.direction = c ? "ltr" : "rtl", e.textAlign = c ? M : A), r -= this.getHeightOfLineImpl(n) * this._fontSizeFraction, h) return this._renderChar(t, e, n, 0, s.join(""), i, r), void e.restore();
                for(var h1 = 0, c1 = s.length - 1; h1 <= c1; h1++)p = h1 === c1 || this.charSpacing || a, v += s[h1], f = this.__charBounds[n][h1], 0 === y ? (i += l * (f.kernedWidth - f.width), y += f.width) : y += f.kernedWidth, o && !p && this._reSpaceAndTab.test(s[h1]) && (p = !0), p || (d = d || this.getCompleteStyleDeclaration(n, h1), g = this.getCompleteStyleDeclaration(n, h1 + 1), p = Ki(d, g, !1)), p && (a ? (e.save(), e.translate(f.renderLeft, f.renderTop), e.rotate(f.angle), this._renderChar(t, e, n, h1, v, -y / 2, 0), e.restore()) : (m = i, this._renderChar(t, e, n, h1, v, m, r)), v = "", d = g, i += l * y, y = 0);
                e.restore();
            }
        },
        {
            key: "_applyPatternGradientTransformText",
            value: function _applyPatternGradientTransformText(t) {
                var e = this.width + this.strokeWidth, _$s = this.height + this.strokeWidth, i = vt({
                    width: e,
                    height: _$s
                }), _$r = i.getContext("2d");
                return i.width = e, i.height = _$s, _$r.beginPath(), _$r.moveTo(0, 0), _$r.lineTo(e, 0), _$r.lineTo(e, _$s), _$r.lineTo(0, _$s), _$r.closePath(), _$r.translate(e / 2, _$s / 2), _$r.fillStyle = t.toLive(_$r), this._applyPatternGradientTransform(_$r, t), _$r.fill(), _$r.createPattern(i, "no-repeat");
            }
        },
        {
            key: "handleFiller",
            value: function handleFiller(t, e, s) {
                var i, _$r;
                return Gt(s) ? "percentage" === s.gradientUnits || s.gradientTransform || s.patternTransform ? (i = -this.width / 2, _$r = -this.height / 2, t.translate(i, _$r), t[e] = this._applyPatternGradientTransformText(s), {
                    offsetX: i,
                    offsetY: _$r
                }) : (t[e] = s.toLive(t), this._applyPatternGradientTransform(t, s)) : (t[e] = s, {
                    offsetX: 0,
                    offsetY: 0
                });
            }
        },
        {
            key: "_setStrokeStyles",
            value: function _setStrokeStyles(t, e) {
                var _$s = e.stroke, i = e.strokeWidth;
                return t.lineWidth = i, t.lineCap = this.strokeLineCap, t.lineDashOffset = this.strokeDashOffset, t.lineJoin = this.strokeLineJoin, t.miterLimit = this.strokeMiterLimit, this.handleFiller(t, "strokeStyle", _$s);
            }
        },
        {
            key: "_setFillStyles",
            value: function _setFillStyles(t, e) {
                var _$s = e.fill;
                return this.handleFiller(t, "fillStyle", _$s);
            }
        },
        {
            key: "_renderChar",
            value: function _renderChar(t, e, s, i, r, n, o) {
                var a = this._getStyleDeclaration(s, i), h = this.getCompleteStyleDeclaration(s, i), c = "fillText" === t && h.fill, l = "strokeText" === t && h.stroke && h.strokeWidth;
                if (l || c) {
                    if (e.save(), e.font = this._getFontDeclaration(h), a.textBackgroundColor && this._removeShadow(e), a.deltaY && (o += a.deltaY), c) {
                        var _$t = this._setFillStyles(e, h);
                        e.fillText(r, n - _$t.offsetX, o - _$t.offsetY);
                    }
                    if (l) {
                        var _$t1 = this._setStrokeStyles(e, h);
                        e.strokeText(r, n - _$t1.offsetX, o - _$t1.offsetY);
                    }
                    e.restore();
                }
            }
        },
        {
            key: "setSuperscript",
            value: function setSuperscript(t, e) {
                this._setScript(t, e, this.superscript);
            }
        },
        {
            key: "setSubscript",
            value: function setSubscript(t, e) {
                this._setScript(t, e, this.subscript);
            }
        },
        {
            key: "_setScript",
            value: function _setScript(t, e, s) {
                var i = this.get2DCursorLocation(t, !0), _$r = this.getValueOfPropertyAt(i.lineIndex, i.charIndex, "fontSize"), n = this.getValueOfPropertyAt(i.lineIndex, i.charIndex, "deltaY"), o = {
                    fontSize: _$r * s.size,
                    deltaY: n + _$r * s.baseline
                };
                this.setSelectionStyles(o, t, e);
            }
        },
        {
            key: "_getLineLeftOffset",
            value: function _getLineLeftOffset(t) {
                var e = this.getLineWidth(t), _$s = this.width - e, i = this.textAlign, _$r = this.direction, n = this.isEndOfWrapping(t);
                var o = 0;
                return i === Je || i === $e && !n || i === Ze && !n || i === Qe && !n ? 0 : (i === D && (o = _$s / 2), i === A && (o = _$s), i === $e && (o = _$s / 2), i === Ze && (o = _$s), "rtl" === _$r && (i === A || i === Je || i === Ze ? o = 0 : i === M || i === Qe ? o = -_$s : i !== D && i !== $e || (o = -_$s / 2)), o);
            }
        },
        {
            key: "_clearCache",
            value: function _clearCache() {
                this._forceClearCache = !1, this.__lineWidths = [], this.__lineHeights = [], this.__charBounds = [];
            }
        },
        {
            key: "getLineWidth",
            value: function getLineWidth(t) {
                if (void 0 !== this.__lineWidths[t]) return this.__lineWidths[t];
                var _this_measureLine = this.measureLine(t), e = _this_measureLine.width;
                return this.__lineWidths[t] = e, e;
            }
        },
        {
            key: "_getWidthOfCharSpacing",
            value: function _getWidthOfCharSpacing() {
                return 0 !== this.charSpacing ? this.fontSize * this.charSpacing / 1e3 : 0;
            }
        },
        {
            key: "getValueOfPropertyAt",
            value: function getValueOfPropertyAt(t, e, s) {
                var i;
                return null !== (i = this._getStyleDeclaration(t, e)[s]) && void 0 !== i ? i : this[s];
            }
        },
        {
            key: "_renderTextDecoration",
            value: function _renderTextDecoration(t, e) {
                if (!this[e] && !this.styleHas(e)) return;
                var _$s = this._getTopOffset();
                var i = this._getLeftOffset(), _$r = this.path, n = this._getWidthOfCharSpacing(), o = "linethrough" === e ? .5 : "overline" === e ? 1 : 0, a = this.offsets[e];
                for(var h = 0, c = this._textLines.length; h < c; h++){
                    var c1 = this.getHeightOfLine(h);
                    if (!this[e] && !this.styleHas(e, h)) {
                        _$s += c1;
                        continue;
                    }
                    var l = this._textLines[h], u = c1 / this.lineHeight, d = this._getLineLeftOffset(h);
                    var g = 0, f = 0, p = this.getValueOfPropertyAt(h, 0, e), m = this.getValueOfPropertyAt(h, 0, K), v = this.getValueOfPropertyAt(h, 0, ze), y = p, _ = m, x = v;
                    var C = _$s + u * (1 - this._fontSizeFraction);
                    var b = this.getHeightOfChar(h, 0), S = this.getValueOfPropertyAt(h, 0, "deltaY");
                    for(var _$s1 = 0, n1 = l.length; _$s1 < n1; _$s1++){
                        var n2 = this.__charBounds[h][_$s1];
                        y = this.getValueOfPropertyAt(h, _$s1, e), _ = this.getValueOfPropertyAt(h, _$s1, K), x = this.getValueOfPropertyAt(h, _$s1, ze);
                        var c2 = this.getHeightOfChar(h, _$s1), l1 = this.getValueOfPropertyAt(h, _$s1, "deltaY");
                        if (_$r && y && _) {
                            var _$e = this.fontSize * x / 1e3;
                            t.save(), t.fillStyle = m, t.translate(n2.renderLeft, n2.renderTop), t.rotate(n2.angle), t.fillRect(-n2.kernedWidth / 2, a * c2 + l1 - o * _$e, n2.kernedWidth, _$e), t.restore();
                        } else if ((y !== p || _ !== m || c2 !== b || x !== v || l1 !== S) && f > 0) {
                            var _$e1 = this.fontSize * v / 1e3;
                            var _$s2 = i + d + g;
                            "rtl" === this.direction && (_$s2 = this.width - _$s2 - f), p && m && v && (t.fillStyle = m, t.fillRect(_$s2, C + a * b + S - o * _$e1, f, _$e1)), g = n2.left, f = n2.width, p = y, v = x, m = _, b = c2, S = l1;
                        } else f += n2.kernedWidth;
                    }
                    var w = i + d + g;
                    "rtl" === this.direction && (w = this.width - w - f), t.fillStyle = _;
                    var T = this.fontSize * x / 1e3;
                    y && _ && x && t.fillRect(w, C + a * b + S - o * T, f - n, T), _$s += c1;
                }
                this._removeShadow(t);
            }
        },
        {
            key: "_getFontDeclaration",
            value: function _getFontDeclaration() {
                var _ref = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, tmp = _ref.fontFamily, _$t = tmp === void 0 ? this.fontFamily : tmp, tmp1 = _ref.fontStyle, e = tmp1 === void 0 ? this.fontStyle : tmp1, tmp2 = _ref.fontWeight, _$s = tmp2 === void 0 ? this.fontWeight : tmp2, tmp3 = _ref.fontSize, i = tmp3 === void 0 ? this.fontSize : tmp3, _$r = arguments.length > 1 ? arguments[1] : void 0;
                var n = _$t.includes("'") || _$t.includes('"') || _$t.includes(",") || Ao.genericFonts.includes(_$t.toLowerCase()) ? _$t : '"'.concat(_$t, '"');
                return [
                    e,
                    _$s,
                    "".concat(_$r ? this.CACHE_FONT_SIZE : i, "px"),
                    n
                ].join(" ");
            }
        },
        {
            key: "render",
            value: function render(t) {
                this.visible && (this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen() || (this._forceClearCache && this.initDimensions(), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ao.prototype), "render", this).call(this, t)));
            }
        },
        {
            key: "graphemeSplit",
            value: function graphemeSplit(t) {
                return Hi(t);
            }
        },
        {
            key: "_splitTextIntoLines",
            value: function _splitTextIntoLines(t) {
                var e = t.split(this._reNewline), _$s = new Array(e.length), i = [
                    "\n"
                ];
                var _$r = [];
                for(var _$t = 0; _$t < e.length; _$t++)_$s[_$t] = this.graphemeSplit(e[_$t]), _$r = _$r.concat(_$s[_$t], i);
                return _$r.pop(), {
                    _unwrappedLines: _$s,
                    lines: e,
                    graphemeText: _$r,
                    graphemeLines: _$s
                };
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ao.prototype), "toObject", this).call(this, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ue).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$t)))), {}, {
                    styles: Ji(this.styles, this.text)
                }, this.path ? {
                    path: this.path.toObject()
                } : {});
            }
        },
        {
            key: "set",
            value: function set(t, e) {
                var _this_constructor = this.constructor, _$s = _this_constructor.textLayoutProperties;
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ao.prototype), "set", this).call(this, t, e);
                var i = !1, _$r = !1;
                if ("object" == (typeof t === "undefined" ? "undefined" : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t))) for(var _$e in t)"path" === _$e && this.setPathInfo(), i = i || _$s.includes(_$e), _$r = _$r || "path" === _$e;
                else i = _$s.includes(t), _$r = "path" === t;
                return _$r && this.setPathInfo(), i && this.initialized && (this.initDimensions(), this.setCoords()), this;
            }
        },
        {
            key: "complexity",
            value: function complexity() {
                return 1;
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ao), "getDefaults", this).call(this)), Ao.ownDefaults);
            }
        },
        {
            key: "fromElement",
            value: function fromElement(t, e, r) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var n, o, tmp, a, tmp1, h, tmp2, c, tmp3, l, tmp4, u, tmp5, d, tmp6, g, tmp7, f, p, m, v, y, _, x;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        n = Pr(t, Ao.ATTRIBUTE_NAMES, r), o = s(s({}, e), n), tmp = o.textAnchor, a = tmp === void 0 ? M : tmp, tmp1 = o.textDecoration, h = tmp1 === void 0 ? "" : tmp1, tmp2 = o.dx, c = tmp2 === void 0 ? 0 : tmp2, tmp3 = o.dy, l = tmp3 === void 0 ? 0 : tmp3, tmp4 = o.top, u = tmp4 === void 0 ? 0 : tmp4, tmp5 = o.left, d = tmp5 === void 0 ? 0 : tmp5, tmp6 = o.fontSize, g = tmp6 === void 0 ? O : tmp6, tmp7 = o.strokeWidth, f = tmp7 === void 0 ? 1 : tmp7, p = i(o, Po), m = new this(Pe(t.textContent || "").trim(), s({
                            left: d + c,
                            top: u + l,
                            underline: h.includes("underline"),
                            overline: h.includes("overline"),
                            linethrough: h.includes("line-through"),
                            strokeWidth: 0,
                            fontSize: g
                        }, p)), v = m.getScaledHeight() / m.height, y = ((m.height + m.strokeWidth) * m.lineHeight - m.height) * v, _ = m.getScaledHeight() + y;
                        x = 0;
                        return [
                            2,
                            (a === D && (x = m.getScaledWidth() / 2), a === A && (x = m.getScaledWidth()), m.set({
                                left: m.left - x,
                                top: m.top - (_ - m.fontSize * (.07 + m._fontSizeFraction)) / m.lineHeight,
                                strokeWidth: f
                            }), m)
                        ];
                    });
                }).call(this);
            }
        },
        {
            key: "fromObject",
            value: function fromObject(t) {
                return this._fromObject(s(s({}, t), {}, {
                    styles: Qi(t.styles || {}, t.text)
                }), {
                    extraParam: "text"
                });
            }
        }
    ]);
    return Ao;
}(Oo);
t(Ao, "textLayoutProperties", Ne), t(Ao, "cacheProperties", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Es).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ue))), t(Ao, "ownDefaults", Ke), t(Ao, "type", "Text"), t(Ao, "genericFonts", [
    "serif",
    "sans-serif",
    "monospace",
    "cursive",
    "fantasy",
    "system-ui",
    "ui-serif",
    "ui-sans-serif",
    "ui-monospace",
    "ui-rounded",
    "math",
    "emoji",
    "fangsong"
]), t(Ao, "ATTRIBUTE_NAMES", Zi.concat("x", "y", "dx", "dy", "font-family", "font-style", "font-weight", "font-size", "letter-spacing", "text-decoration", "text-anchor")), Fi(Ao, [
    /*#__PURE__*/ function(We) {
        "use strict";
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_class, We);
        function _class() {
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, _class);
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, _class, arguments);
        }
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_class, [
            {
                key: "_toSVG",
                value: function _toSVG() {
                    var _$t = this._getSVGLeftTopOffsets(), e = this._getSVGTextAndBg(_$t.textTop, _$t.textLeft);
                    return this._wrapSVGTextAndBg(e);
                }
            },
            {
                key: "toSVG",
                value: function toSVG(t) {
                    var e = this._createBaseSVGMarkup(this._toSVG(), {
                        reviver: t,
                        noStyle: !0,
                        withShadow: !0
                    }), _$s = this.path;
                    return _$s ? e + _$s._createBaseSVGMarkup(_$s._toSVG(), {
                        reviver: t,
                        withShadow: !0,
                        additionalTransform: zt(this.calcOwnMatrix())
                    }) : e;
                }
            },
            {
                key: "_getSVGLeftTopOffsets",
                value: function _getSVGLeftTopOffsets() {
                    return {
                        textLeft: -this.width / 2,
                        textTop: -this.height / 2,
                        lineTop: this.getHeightOfLine(0)
                    };
                }
            },
            {
                key: "_wrapSVGTextAndBg",
                value: function _wrapSVGTextAndBg(t) {
                    var e = t.textBgRects, _$s = t.textSpans;
                    var i = this.getSvgTextDecoration(this);
                    return [
                        e.join(""),
                        '\t\t<text xml:space="preserve" ',
                        'font-family="'.concat(this.fontFamily.replace(Do, "'"), '" '),
                        'font-size="'.concat(this.fontSize, '" '),
                        this.fontStyle ? 'font-style="'.concat(this.fontStyle, '" ') : "",
                        this.fontWeight ? 'font-weight="'.concat(this.fontWeight, '" ') : "",
                        i ? 'text-decoration="'.concat(i, '" ') : "",
                        "rtl" === this.direction ? 'direction="'.concat(this.direction, '" ') : "",
                        'style="',
                        this.getSvgStyles(!0),
                        '"',
                        this.addPaintOrder(),
                        " >",
                        _$s.join(""),
                        "</text>\n"
                    ];
                }
            },
            {
                key: "_getSVGTextAndBg",
                value: function _getSVGTextAndBg(t, e) {
                    var _i;
                    var _$s = [], i = [];
                    var _$r, n = t;
                    this.backgroundColor && (_i = i).push.apply(_i, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Mo(this.backgroundColor, -this.width / 2, -this.height / 2, this.width, this.height)));
                    for(var _$t = 0, o = this._textLines.length; _$t < o; _$t++)_$r = this._getLineLeftOffset(_$t), "rtl" === this.direction && (_$r += this.width), (this.textBackgroundColor || this.styleHas("textBackgroundColor", _$t)) && this._setSVGTextLineBg(i, _$t, e + _$r, n), this._setSVGTextLineText(_$s, _$t, e + _$r, n), n += this.getHeightOfLine(_$t);
                    return {
                        textSpans: _$s,
                        textBgRects: i
                    };
                }
            },
            {
                key: "_createTextCharSpan",
                value: function _createTextCharSpan(t, e, s, i, r) {
                    var n = o.NUM_FRACTION_DIGITS, a = this.getSvgSpanStyles(e, t !== t.trim() || !!t.match(ko)), h = a ? 'style="'.concat(a, '"') : "", c = e.deltaY, l = c ? ' dy="'.concat(Vt(c, n), '" ') : "", u = r.angle, d = r.renderLeft, g = r.renderTop, f = r.width;
                    var p = "";
                    if (void 0 !== d) {
                        var _$t = f / 2;
                        u && (p = ' rotate="'.concat(Vt(Ct(u), n), '"'));
                        var _$e = Pt({
                            angle: Ct(u)
                        });
                        _$e[4] = d, _$e[5] = g;
                        var _$r = new ot(-_$t, 0).transform(_$e);
                        s = _$r.x, i = _$r.y;
                    }
                    return '<tspan x="'.concat(Vt(s, n), '" y="').concat(Vt(i, n), '" ').concat(l).concat(p).concat(h, ">").concat(zi(t), "</tspan>");
                }
            },
            {
                key: "_setSVGTextLineText",
                value: function _setSVGTextLineText(t, e, s, i) {
                    var _$r = this.getHeightOfLine(e), n = this.textAlign.includes(Je), o = this._textLines[e];
                    var a, h, c, l, u, d = "", g = 0;
                    i += _$r * (1 - this._fontSizeFraction) / this.lineHeight;
                    for(var _$r1 = 0, f = o.length - 1; _$r1 <= f; _$r1++)u = _$r1 === f || this.charSpacing || this.path, d += o[_$r1], c = this.__charBounds[e][_$r1], 0 === g ? (s += c.kernedWidth - c.width, g += c.width) : g += c.kernedWidth, n && !u && this._reSpaceAndTab.test(o[_$r1]) && (u = !0), u || (a = a || this.getCompleteStyleDeclaration(e, _$r1), h = this.getCompleteStyleDeclaration(e, _$r1 + 1), u = Ki(a, h, !0)), u && (l = this._getStyleDeclaration(e, _$r1), t.push(this._createTextCharSpan(d, l, s, i, c)), d = "", a = h, "rtl" === this.direction ? s -= g : s += g, g = 0);
                }
            },
            {
                key: "_setSVGTextLineBg",
                value: function _setSVGTextLineBg(t, e, s, i) {
                    var _t;
                    var _$r = this._textLines[e], n = this.getHeightOfLine(e) / this.lineHeight;
                    var o, a = 0, h = 0, c = this.getValueOfPropertyAt(e, 0, "textBackgroundColor");
                    for(var l = 0; l < _$r.length; l++){
                        var _t1;
                        var _this___charBounds_e_l = this.__charBounds[e][l], _$r1 = _this___charBounds_e_l.left, u = _this___charBounds_e_l.width, d = _this___charBounds_e_l.kernedWidth;
                        o = this.getValueOfPropertyAt(e, l, "textBackgroundColor"), o !== c ? (c && (_t1 = t).push.apply(_t1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Mo(c, s + h, i, a, n))), h = _$r1, a = u, c = o) : a += d;
                    }
                    o && (_t = t).push.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Mo(c, s + h, i, a, n)));
                }
            },
            {
                key: "_getSVGLineTopOffset",
                value: function _getSVGLineTopOffset(t) {
                    var e, _$s = 0;
                    for(e = 0; e < t; e++)_$s += this.getHeightOfLine(e);
                    var i = this.getHeightOfLine(e);
                    return {
                        lineTop: _$s,
                        offset: (this._fontSizeMult - this._fontSizeFraction) * i / (this.lineHeight * this._fontSizeMult)
                    };
                }
            },
            {
                key: "getSvgStyles",
                value: function getSvgStyles(t) {
                    return "".concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_class.prototype), "getSvgStyles", this).call(this, t), " text-decoration-thickness: ").concat(Vt(this.textDecorationThickness * this.getObjectScaling().y / 10, o.NUM_FRACTION_DIGITS), "%; white-space: pre;");
                }
            },
            {
                key: "getSvgSpanStyles",
                value: function getSvgSpanStyles(t, e) {
                    var _$s = t.fontFamily, i = t.strokeWidth, _$r = t.stroke, n = t.fill, a = t.fontSize, h = t.fontStyle, c = t.fontWeight, l = t.deltaY, u = t.textDecorationThickness, d = t.linethrough, g = t.overline, f = t.underline, p = this.getSvgTextDecoration({
                        underline: null != f ? f : this.underline,
                        overline: null != g ? g : this.overline,
                        linethrough: null != d ? d : this.linethrough
                    }), m = u || this.textDecorationThickness;
                    return [
                        _$r ? Ye(J, _$r) : "",
                        i ? "stroke-width: ".concat(i, "; ") : "",
                        _$s ? "font-family: ".concat(_$s.includes("'") || _$s.includes('"') ? _$s : "'".concat(_$s, "'"), "; ") : "",
                        a ? "font-size: ".concat(a, "px; ") : "",
                        h ? "font-style: ".concat(h, "; ") : "",
                        c ? "font-weight: ".concat(c, "; ") : "",
                        p ? "text-decoration: ".concat(p, "; text-decoration-thickness: ").concat(Vt(m * this.getObjectScaling().y / 10, o.NUM_FRACTION_DIGITS), "%; ") : "",
                        n ? Ye(K, n) : "",
                        l ? "baseline-shift: ".concat(-l, "; ") : "",
                        e ? "white-space: pre; " : ""
                    ].join("");
                }
            },
            {
                key: "getSvgTextDecoration",
                value: function getSvgTextDecoration(t) {
                    return [
                        "overline",
                        "underline",
                        "line-through"
                    ].filter(function(e) {
                        return t[e.replace("-", "")];
                    }).join(" ");
                }
            }
        ]);
        return _class;
    }(We)
]), tt.setClass(Ao), tt.setSVGClass(Ao);
var jo = /*#__PURE__*/ function() {
    "use strict";
    function jo(e) {
        var _this = this;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, jo);
        t(this, "target", void 0), t(this, "__mouseDownInPlace", !1), t(this, "__dragStartFired", !1), t(this, "__isDraggingOver", !1), t(this, "__dragStartSelection", void 0), t(this, "__dragImageDisposer", void 0), t(this, "_dispose", void 0), this.target = e;
        var _$s = [
            this.target.on("dragenter", this.dragEnterHandler.bind(this)),
            this.target.on("dragover", this.dragOverHandler.bind(this)),
            this.target.on("dragleave", this.dragLeaveHandler.bind(this)),
            this.target.on("dragend", this.dragEndHandler.bind(this)),
            this.target.on("drop", this.dropHandler.bind(this))
        ];
        this._dispose = function() {
            _$s.forEach(function(t) {
                return t();
            }), _this._dispose = void 0;
        };
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(jo, [
        {
            key: "isPointerOverSelection",
            value: function isPointerOverSelection(t) {
                var e = this.target, _$s = e.getSelectionStartFromPointer(t);
                return e.isEditing && _$s >= e.selectionStart && _$s <= e.selectionEnd && e.selectionStart < e.selectionEnd;
            }
        },
        {
            key: "start",
            value: function start(t) {
                return this.__mouseDownInPlace = this.isPointerOverSelection(t);
            }
        },
        {
            key: "isActive",
            value: function isActive() {
                return this.__mouseDownInPlace;
            }
        },
        {
            key: "end",
            value: function end(t) {
                var e = this.isActive();
                return e && !this.__dragStartFired && (this.target.setCursorByClick(t), this.target.initDelayedCursor(!0)), this.__mouseDownInPlace = !1, this.__dragStartFired = !1, this.__isDraggingOver = !1, e;
            }
        },
        {
            key: "getDragStartSelection",
            value: function getDragStartSelection() {
                return this.__dragStartSelection;
            }
        },
        {
            key: "setDragImage",
            value: function setDragImage(t, e) {
                var _$s;
                var i = e.selectionStart, _$r = e.selectionEnd;
                var n = this.target, o = n.canvas, a = new ot(n.flipX ? -1 : 1, n.flipY ? -1 : 1), h = n._getCursorBoundaries(i), c = new ot(h.left + h.leftOffset, h.top + h.topOffset).multiply(a).transform(n.calcTransformMatrix()), l = o.getScenePoint(t).subtract(c), u = n.getCanvasRetinaScaling(), d = n.getBoundingRect(), g = c.subtract(new ot(d.left, d.top)), f = o.viewportTransform, p = g.add(l).transform(f, !0), m = n.backgroundColor, v = Vi(n.styles);
                n.backgroundColor = "";
                var y = {
                    stroke: "transparent",
                    fill: "transparent",
                    textBackgroundColor: "transparent"
                };
                n.setSelectionStyles(y, 0, i), n.setSelectionStyles(y, _$r, n.text.length), n.dirty = !0;
                var _ = n.toCanvasElement({
                    enableRetinaScaling: o.enableRetinaScaling,
                    viewportTransform: !0
                });
                n.backgroundColor = m, n.styles = v, n.dirty = !0, Tn(_, {
                    position: "fixed",
                    left: "".concat(-_.width, "px"),
                    border: j,
                    width: "".concat(_.width / u, "px"),
                    height: "".concat(_.height / u, "px")
                }), this.__dragImageDisposer && this.__dragImageDisposer(), this.__dragImageDisposer = function() {
                    _.remove();
                }, Kt(t.target || this.target.hiddenTextarea).body.appendChild(_), null === (_$s = t.dataTransfer) || void 0 === _$s || _$s.setDragImage(_, p.x, p.y);
            }
        },
        {
            key: "onDragStart",
            value: function onDragStart(t) {
                this.__dragStartFired = !0;
                var e = this.target, i = this.isActive();
                if (i && t.dataTransfer) {
                    var i1 = this.__dragStartSelection = {
                        selectionStart: e.selectionStart,
                        selectionEnd: e.selectionEnd
                    }, _$r = e._text.slice(i1.selectionStart, i1.selectionEnd).join(""), n = s({
                        text: e.text,
                        value: _$r
                    }, i1);
                    t.dataTransfer.setData("text/plain", _$r), t.dataTransfer.setData("application/fabric", JSON.stringify({
                        value: _$r,
                        styles: e.getSelectionStyles(i1.selectionStart, i1.selectionEnd, !0)
                    })), t.dataTransfer.effectAllowed = "copyMove", this.setDragImage(t, n);
                }
                return e.abortCursorAnimation(), i;
            }
        },
        {
            key: "canDrop",
            value: function canDrop(t) {
                if (this.target.editable && !this.target.getActiveControl() && !t.defaultPrevented) {
                    if (this.isActive() && this.__dragStartSelection) {
                        var e = this.target.getSelectionStartFromPointer(t), _$s = this.__dragStartSelection;
                        return e < _$s.selectionStart || e > _$s.selectionEnd;
                    }
                    return !0;
                }
                return !1;
            }
        },
        {
            key: "targetCanDrop",
            value: function targetCanDrop(t) {
                return this.target.canDrop(t);
            }
        },
        {
            key: "dragEnterHandler",
            value: function dragEnterHandler(t) {
                var e = t.e;
                var _$s = this.targetCanDrop(e);
                !this.__isDraggingOver && _$s && (this.__isDraggingOver = !0);
            }
        },
        {
            key: "dragOverHandler",
            value: function dragOverHandler(t) {
                var e = t.e, _$s = this.targetCanDrop(e);
                !this.__isDraggingOver && _$s ? this.__isDraggingOver = !0 : this.__isDraggingOver && !_$s && (this.__isDraggingOver = !1), this.__isDraggingOver && (e.preventDefault(), t.canDrop = !0, t.dropTarget = this.target);
            }
        },
        {
            key: "dragLeaveHandler",
            value: function dragLeaveHandler() {
                (this.__isDraggingOver || this.isActive()) && (this.__isDraggingOver = !1);
            }
        },
        {
            key: "dropHandler",
            value: function dropHandler(t) {
                var e;
                var _$s = t.e, i = _$s.defaultPrevented;
                this.__isDraggingOver = !1, _$s.preventDefault();
                var _$r = null === (e = _$s.dataTransfer) || void 0 === e ? void 0 : e.getData("text/plain");
                if (_$r && !i) {
                    var e1 = this.target, i1 = e1.canvas;
                    var n = e1.getSelectionStartFromPointer(_$s);
                    var _ref = _$s.dataTransfer.types.includes("application/fabric") ? JSON.parse(_$s.dataTransfer.getData("application/fabric")) : {}, o = _ref.styles, a = _$r[Math.max(0, _$r.length - 1)], h = 0;
                    if (this.__dragStartSelection) {
                        var _$t = this.__dragStartSelection.selectionStart, _$s1 = this.__dragStartSelection.selectionEnd;
                        n > _$t && n <= _$s1 ? n = _$t : n > _$s1 && (n -= _$s1 - _$t), e1.removeChars(_$t, _$s1), delete this.__dragStartSelection;
                    }
                    e1._reNewline.test(a) && (e1._reNewline.test(e1._text[n]) || n === e1._text.length) && (_$r = _$r.trimEnd()), t.didDrop = !0, t.dropTarget = e1, e1.insertChars(_$r, o, n), i1.setActiveObject(e1), e1.enterEditing(_$s), e1.selectionStart = Math.min(n + h, e1._text.length), e1.selectionEnd = Math.min(e1.selectionStart + _$r.length, e1._text.length), e1.hiddenTextarea.value = e1.text, e1._updateTextarea(), e1.hiddenTextarea.focus(), e1.fire(z, {
                        index: n + h,
                        action: "drop"
                    }), i1.fire("text:changed", {
                        target: e1
                    }), i1.contextTopDirty = !0, i1.requestRenderAll();
                }
            }
        },
        {
            key: "dragEndHandler",
            value: function dragEndHandler(t) {
                var e = t.e;
                if (this.isActive() && this.__dragStartFired && this.__dragStartSelection) {
                    var _$s;
                    var _$t = this.target, i = this.target.canvas, _this___dragStartSelection = this.__dragStartSelection, _$r = _this___dragStartSelection.selectionStart, n = _this___dragStartSelection.selectionEnd, o = (null === (_$s = e.dataTransfer) || void 0 === _$s ? void 0 : _$s.dropEffect) || j;
                    o === j ? (_$t.selectionStart = _$r, _$t.selectionEnd = n, _$t._updateTextarea(), _$t.hiddenTextarea.focus()) : (_$t.clearContextTop(), "move" === o && (_$t.removeChars(_$r, n), _$t.selectionStart = _$t.selectionEnd = _$r, _$t.hiddenTextarea && (_$t.hiddenTextarea.value = _$t.text), _$t._updateTextarea(), _$t.fire(z, {
                        index: _$r,
                        action: "dragend"
                    }), i.fire("text:changed", {
                        target: _$t
                    }), i.requestRenderAll()), _$t.exitEditing());
                }
                this.__dragImageDisposer && this.__dragImageDisposer(), delete this.__dragImageDisposer, delete this.__dragStartSelection, this.__isDraggingOver = !1;
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                this._dispose && this._dispose();
            }
        }
    ]);
    return jo;
}();
var Fo = /[ \n\.,;!\?\-]/;
var Lo = /*#__PURE__*/ function(Ao) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Lo, Ao);
    function Lo() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Lo);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Lo, arguments), t(_this, "_currentCursorOpacity", 1);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Lo, [
        {
            key: "initBehavior",
            value: function initBehavior() {
                this._tick = this._tick.bind(this), this._onTickComplete = this._onTickComplete.bind(this), this.updateSelectionOnMouseMove = this.updateSelectionOnMouseMove.bind(this);
            }
        },
        {
            key: "onDeselect",
            value: function onDeselect(t) {
                return this.isEditing && this.exitEditing(), this.selected = !1, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Lo.prototype), "onDeselect", this).call(this, t);
            }
        },
        {
            key: "_animateCursor",
            value: function _animateCursor(t) {
                var _this = this;
                var e = t.toValue, _$s = t.duration, i = t.delay, _$r = t.onComplete;
                return Ks({
                    startValue: this._currentCursorOpacity,
                    endValue: e,
                    duration: _$s,
                    delay: i,
                    onComplete: _$r,
                    abort: function() {
                        return !_this.canvas || _this.selectionStart !== _this.selectionEnd;
                    },
                    onChange: function(t) {
                        _this._currentCursorOpacity = t, _this.renderCursorOrSelection();
                    }
                });
            }
        },
        {
            key: "_tick",
            value: function _tick(t) {
                this._currentTickState = this._animateCursor({
                    toValue: 0,
                    duration: this.cursorDuration / 2,
                    delay: Math.max(t || 0, 100),
                    onComplete: this._onTickComplete
                });
            }
        },
        {
            key: "_onTickComplete",
            value: function _onTickComplete() {
                var _$t;
                null === (_$t = this._currentTickCompleteState) || void 0 === _$t || _$t.abort(), this._currentTickCompleteState = this._animateCursor({
                    toValue: 1,
                    duration: this.cursorDuration,
                    onComplete: this._tick
                });
            }
        },
        {
            key: "initDelayedCursor",
            value: function initDelayedCursor(t) {
                this.abortCursorAnimation(), this._tick(t ? 0 : this.cursorDelay);
            }
        },
        {
            key: "abortCursorAnimation",
            value: function abortCursorAnimation() {
                var _$t = !1;
                [
                    this._currentTickState,
                    this._currentTickCompleteState
                ].forEach(function(e) {
                    e && !e.isDone() && (_$t = !0, e.abort());
                }), this._currentCursorOpacity = 1, _$t && this.clearContextTop();
            }
        },
        {
            key: "restartCursorIfNeeded",
            value: function restartCursorIfNeeded() {
                [
                    this._currentTickState,
                    this._currentTickCompleteState
                ].some(function(t) {
                    return !t || t.isDone();
                }) && this.initDelayedCursor();
            }
        },
        {
            key: "selectAll",
            value: function selectAll() {
                return this.selectionStart = 0, this.selectionEnd = this._text.length, this._fireSelectionChanged(), this._updateTextarea(), this;
            }
        },
        {
            key: "cmdAll",
            value: function cmdAll() {
                this.selectAll(), this.renderCursorOrSelection();
            }
        },
        {
            key: "getSelectedText",
            value: function getSelectedText() {
                return this._text.slice(this.selectionStart, this.selectionEnd).join("");
            }
        },
        {
            key: "findWordBoundaryLeft",
            value: function findWordBoundaryLeft(t) {
                var e = 0, _$s = t - 1;
                if (this._reSpace.test(this._text[_$s])) for(; this._reSpace.test(this._text[_$s]);)e++, _$s--;
                for(; /\S/.test(this._text[_$s]) && _$s > -1;)e++, _$s--;
                return t - e;
            }
        },
        {
            key: "findWordBoundaryRight",
            value: function findWordBoundaryRight(t) {
                var e = 0, _$s = t;
                if (this._reSpace.test(this._text[_$s])) for(; this._reSpace.test(this._text[_$s]);)e++, _$s++;
                for(; /\S/.test(this._text[_$s]) && _$s < this._text.length;)e++, _$s++;
                return t + e;
            }
        },
        {
            key: "findLineBoundaryLeft",
            value: function findLineBoundaryLeft(t) {
                var e = 0, _$s = t - 1;
                for(; !/\n/.test(this._text[_$s]) && _$s > -1;)e++, _$s--;
                return t - e;
            }
        },
        {
            key: "findLineBoundaryRight",
            value: function findLineBoundaryRight(t) {
                var e = 0, _$s = t;
                for(; !/\n/.test(this._text[_$s]) && _$s < this._text.length;)e++, _$s++;
                return t + e;
            }
        },
        {
            key: "searchWordBoundary",
            value: function searchWordBoundary(t, e) {
                var _$s = this._text;
                var i = t > 0 && this._reSpace.test(_$s[t]) && (-1 === e || !F.test(_$s[t - 1])) ? t - 1 : t, _$r = _$s[i];
                for(; i > 0 && i < _$s.length && !Fo.test(_$r);)i += e, _$r = _$s[i];
                return -1 === e && Fo.test(_$r) && i++, i;
            }
        },
        {
            key: "selectWord",
            value: function selectWord(t) {
                var e;
                t = null !== (e = t) && void 0 !== e ? e : this.selectionStart;
                var _$s = this.searchWordBoundary(t, -1), i = Math.max(_$s, this.searchWordBoundary(t, 1));
                this.selectionStart = _$s, this.selectionEnd = i, this._fireSelectionChanged(), this._updateTextarea(), this.renderCursorOrSelection();
            }
        },
        {
            key: "selectLine",
            value: function selectLine(t) {
                var e;
                t = null !== (e = t) && void 0 !== e ? e : this.selectionStart;
                var _$s = this.findLineBoundaryLeft(t), i = this.findLineBoundaryRight(t);
                this.selectionStart = _$s, this.selectionEnd = i, this._fireSelectionChanged(), this._updateTextarea();
            }
        },
        {
            key: "enterEditing",
            value: function enterEditing(t) {
                !this.isEditing && this.editable && (this.enterEditingImpl(), this.fire("editing:entered", t ? {
                    e: t
                } : void 0), this._fireSelectionChanged(), this.canvas && (this.canvas.fire("text:editing:entered", {
                    target: this,
                    e: t
                }), this.canvas.requestRenderAll()));
            }
        },
        {
            key: "enterEditingImpl",
            value: function enterEditingImpl() {
                this.canvas && (this.canvas.calcOffset(), this.canvas.textEditingManager.exitTextEditing()), this.isEditing = !0, this.initHiddenTextarea(), this.hiddenTextarea.focus(), this.hiddenTextarea.value = this.text, this._updateTextarea(), this._saveEditingProps(), this._setEditingProps(), this._textBeforeEdit = this.text, this._tick();
            }
        },
        {
            key: "updateSelectionOnMouseMove",
            value: function updateSelectionOnMouseMove(t) {
                if (this.getActiveControl()) return;
                var e = this.hiddenTextarea;
                Kt(e).activeElement !== e && e.focus();
                var _$s = this.getSelectionStartFromPointer(t), i = this.selectionStart, _$r = this.selectionEnd;
                (_$s === this.__selectionStartOnMouseDown && i !== _$r || i !== _$s && _$r !== _$s) && (_$s > this.__selectionStartOnMouseDown ? (this.selectionStart = this.__selectionStartOnMouseDown, this.selectionEnd = _$s) : (this.selectionStart = _$s, this.selectionEnd = this.__selectionStartOnMouseDown), this.selectionStart === i && this.selectionEnd === _$r || (this._fireSelectionChanged(), this._updateTextarea(), this.renderCursorOrSelection()));
            }
        },
        {
            key: "_setEditingProps",
            value: function _setEditingProps() {
                this.hoverCursor = "text", this.canvas && (this.canvas.defaultCursor = this.canvas.moveCursor = "text"), this.borderColor = this.editingBorderColor, this.hasControls = this.selectable = !1, this.lockMovementX = this.lockMovementY = !0;
            }
        },
        {
            key: "fromStringToGraphemeSelection",
            value: function fromStringToGraphemeSelection(t, e, s) {
                var i = s.slice(0, t), _$r = this.graphemeSplit(i).length;
                if (t === e) return {
                    selectionStart: _$r,
                    selectionEnd: _$r
                };
                var n = s.slice(t, e);
                return {
                    selectionStart: _$r,
                    selectionEnd: _$r + this.graphemeSplit(n).length
                };
            }
        },
        {
            key: "fromGraphemeToStringSelection",
            value: function fromGraphemeToStringSelection(t, e, s) {
                var i = s.slice(0, t).join("").length;
                if (t === e) return {
                    selectionStart: i,
                    selectionEnd: i
                };
                return {
                    selectionStart: i,
                    selectionEnd: i + s.slice(t, e).join("").length
                };
            }
        },
        {
            key: "_updateTextarea",
            value: function _updateTextarea() {
                if (this.cursorOffsetCache = {}, this.hiddenTextarea) {
                    if (!this.inCompositionMode) {
                        var _$t = this.fromGraphemeToStringSelection(this.selectionStart, this.selectionEnd, this._text);
                        this.hiddenTextarea.selectionStart = _$t.selectionStart, this.hiddenTextarea.selectionEnd = _$t.selectionEnd;
                    }
                    this.updateTextareaPosition();
                }
            }
        },
        {
            key: "updateFromTextArea",
            value: function updateFromTextArea() {
                if (!this.hiddenTextarea) return;
                this.cursorOffsetCache = {};
                var _$t = this.hiddenTextarea;
                this.text = _$t.value, this.set("dirty", !0), this.initDimensions(), this.setCoords();
                var e = this.fromStringToGraphemeSelection(_$t.selectionStart, _$t.selectionEnd, _$t.value);
                this.selectionEnd = this.selectionStart = e.selectionEnd, this.inCompositionMode || (this.selectionStart = e.selectionStart), this.updateTextareaPosition();
            }
        },
        {
            key: "updateTextareaPosition",
            value: function updateTextareaPosition() {
                if (this.selectionStart === this.selectionEnd) {
                    var _$t = this._calcTextareaPosition();
                    this.hiddenTextarea.style.left = _$t.left, this.hiddenTextarea.style.top = _$t.top;
                }
            }
        },
        {
            key: "_calcTextareaPosition",
            value: function _calcTextareaPosition() {
                if (!this.canvas) return {
                    left: "1px",
                    top: "1px"
                };
                var _$t = this.inCompositionMode ? this.compositionStart : this.selectionStart, e = this._getCursorBoundaries(_$t), _$s = this.get2DCursorLocation(_$t), i = _$s.lineIndex, _$r = _$s.charIndex, n = this.getValueOfPropertyAt(i, _$r, "fontSize") * this.lineHeight, o = e.leftOffset, a = this.getCanvasRetinaScaling(), h = this.canvas.upperCanvasEl, c = h.width / a, l = h.height / a, u = c - n, d = l - n, g = new ot(e.left + o, e.top + e.topOffset + n).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ot(h.clientWidth / c, h.clientHeight / l));
                return g.x < 0 && (g.x = 0), g.x > u && (g.x = u), g.y < 0 && (g.y = 0), g.y > d && (g.y = d), g.x += this.canvas._offset.left, g.y += this.canvas._offset.top, {
                    left: "".concat(g.x, "px"),
                    top: "".concat(g.y, "px"),
                    fontSize: "".concat(n, "px"),
                    charHeight: n
                };
            }
        },
        {
            key: "_saveEditingProps",
            value: function _saveEditingProps() {
                this._savedProps = {
                    hasControls: this.hasControls,
                    borderColor: this.borderColor,
                    lockMovementX: this.lockMovementX,
                    lockMovementY: this.lockMovementY,
                    hoverCursor: this.hoverCursor,
                    selectable: this.selectable,
                    defaultCursor: this.canvas && this.canvas.defaultCursor,
                    moveCursor: this.canvas && this.canvas.moveCursor
                };
            }
        },
        {
            key: "_restoreEditingProps",
            value: function _restoreEditingProps() {
                this._savedProps && (this.hoverCursor = this._savedProps.hoverCursor, this.hasControls = this._savedProps.hasControls, this.borderColor = this._savedProps.borderColor, this.selectable = this._savedProps.selectable, this.lockMovementX = this._savedProps.lockMovementX, this.lockMovementY = this._savedProps.lockMovementY, this.canvas && (this.canvas.defaultCursor = this._savedProps.defaultCursor || this.canvas.defaultCursor, this.canvas.moveCursor = this._savedProps.moveCursor || this.canvas.moveCursor), delete this._savedProps);
            }
        },
        {
            key: "_exitEditing",
            value: function _exitEditing() {
                var _$t = this.hiddenTextarea;
                this.selected = !1, this.isEditing = !1, _$t && (_$t.blur && _$t.blur(), _$t.parentNode && _$t.parentNode.removeChild(_$t)), this.hiddenTextarea = null, this.abortCursorAnimation(), this.selectionStart !== this.selectionEnd && this.clearContextTop();
            }
        },
        {
            key: "exitEditingImpl",
            value: function exitEditingImpl() {
                this._exitEditing(), this.selectionEnd = this.selectionStart, this._restoreEditingProps(), this._forceClearCache && (this.initDimensions(), this.setCoords());
            }
        },
        {
            key: "exitEditing",
            value: function exitEditing() {
                var _$t = this._textBeforeEdit !== this.text;
                return this.exitEditingImpl(), this.fire("editing:exited"), _$t && this.fire(Q), this.canvas && (this.canvas.fire("text:editing:exited", {
                    target: this
                }), _$t && this.canvas.fire("object:modified", {
                    target: this
                })), this;
            }
        },
        {
            key: "_removeExtraneousStyles",
            value: function _removeExtraneousStyles() {
                for(var _$t in this.styles)this._textLines[_$t] || delete this.styles[_$t];
            }
        },
        {
            key: "removeStyleFromTo",
            value: function removeStyleFromTo(t, e) {
                var _this_get2DCursorLocation = this.get2DCursorLocation(t, !0), _$s = _this_get2DCursorLocation.lineIndex, i = _this_get2DCursorLocation.charIndex, _this_get2DCursorLocation1 = this.get2DCursorLocation(e, !0), _$r = _this_get2DCursorLocation1.lineIndex, n = _this_get2DCursorLocation1.charIndex;
                if (_$s !== _$r) {
                    if (this.styles[_$s]) for(var _$t = i; _$t < this._unwrappedTextLines[_$s].length; _$t++)delete this.styles[_$s][_$t];
                    if (this.styles[_$r]) for(var _$t1 = n; _$t1 < this._unwrappedTextLines[_$r].length; _$t1++){
                        var _$e = this.styles[_$r][_$t1];
                        _$e && (this.styles[_$s] || (this.styles[_$s] = {}), this.styles[_$s][i + _$t1 - n] = _$e);
                    }
                    for(var _$t2 = _$s + 1; _$t2 <= _$r; _$t2++)delete this.styles[_$t2];
                    this.shiftLineStyles(_$r, _$s - _$r);
                } else if (this.styles[_$s]) {
                    var _$t3 = this.styles[_$s], _$e1 = n - i;
                    for(var _$e2 = i; _$e2 < n; _$e2++)delete _$t3[_$e2];
                    for(var i1 in this.styles[_$s]){
                        var _$s1 = parseInt(i1, 10);
                        _$s1 >= n && (_$t3[_$s1 - _$e1] = _$t3[i1], delete _$t3[i1]);
                    }
                }
            }
        },
        {
            key: "shiftLineStyles",
            value: function shiftLineStyles(t, e) {
                var _$s = Object.assign({}, this.styles);
                for(var i in this.styles){
                    var _$r = parseInt(i, 10);
                    _$r > t && (this.styles[_$r + e] = _$s[_$r], _$s[_$r - e] || delete this.styles[_$r]);
                }
            }
        },
        {
            key: "insertNewlineStyleObject",
            value: function insertNewlineStyleObject(t, e, i, r) {
                var n = {}, o = this._unwrappedTextLines[t].length, a = o === e;
                var h = !1;
                i || (i = 1), this.shiftLineStyles(t, i);
                var c = this.styles[t] ? this.styles[t][0 === e ? e : e - 1] : void 0;
                for(var _$s in this.styles[t]){
                    var _$i = parseInt(_$s, 10);
                    _$i >= e && (h = !0, n[_$i - e] = this.styles[t][_$s], a && 0 === e || delete this.styles[t][_$s]);
                }
                var l = !1;
                for(h && !a && (this.styles[t + i] = n, l = !0), (l || o > e) && i--; i > 0;)r && r[i - 1] ? this.styles[t + i] = {
                    0: s({}, r[i - 1])
                } : c ? this.styles[t + i] = {
                    0: s({}, c)
                } : delete this.styles[t + i], i--;
                this._forceClearCache = !0;
            }
        },
        {
            key: "insertCharStyleObject",
            value: function insertCharStyleObject(t, e, i, r) {
                this.styles || (this.styles = {});
                var n = this.styles[t], o = n ? s({}, n) : {};
                i || (i = 1);
                for(var _$t in o){
                    var _$s = parseInt(_$t, 10);
                    _$s >= e && (n[_$s + i] = o[_$s], o[_$s - i] || delete n[_$s]);
                }
                if (this._forceClearCache = !0, r) {
                    for(; i--;)Object.keys(r[i]).length && (this.styles[t] || (this.styles[t] = {}), this.styles[t][e + i] = s({}, r[i]));
                    return;
                }
                if (!n) return;
                var a = n[e ? e - 1 : 1];
                for(; a && i--;)this.styles[t][e + i] = s({}, a);
            }
        },
        {
            key: "insertNewStyleBlock",
            value: function insertNewStyleBlock(t, e, s) {
                var i = this.get2DCursorLocation(e, !0), _$r = [
                    0
                ];
                var n, o = 0;
                for(var _$e = 0; _$e < t.length; _$e++)"\n" === t[_$e] ? (o++, _$r[o] = 0) : _$r[o]++;
                for(_$r[0] > 0 && (this.insertCharStyleObject(i.lineIndex, i.charIndex, _$r[0], s), s = s && s.slice(_$r[0] + 1)), o && this.insertNewlineStyleObject(i.lineIndex, i.charIndex + _$r[0], o), n = 1; n < o; n++)_$r[n] > 0 ? this.insertCharStyleObject(i.lineIndex + n, 0, _$r[n], s) : s && this.styles[i.lineIndex + n] && s[0] && (this.styles[i.lineIndex + n][0] = s[0]), s = s && s.slice(_$r[n] + 1);
                _$r[n] > 0 && this.insertCharStyleObject(i.lineIndex + n, 0, _$r[n], s);
            }
        },
        {
            key: "removeChars",
            value: function removeChars(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t + 1;
                this.removeStyleFromTo(t, e), this._text.splice(t, e - t), this.text = this._text.join(""), this.set("dirty", !0), this.initDimensions(), this.setCoords(), this._removeExtraneousStyles();
            }
        },
        {
            key: "insertChars",
            value: function insertChars(t, e, s) {
                var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : s;
                i > s && this.removeStyleFromTo(s, i);
                var _$r = this.graphemeSplit(t);
                this.insertNewStyleBlock(_$r, s, e), this._text = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this._text.slice(0, s)).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$r), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this._text.slice(i))), this.text = this._text.join(""), this.set("dirty", !0), this.initDimensions(), this.setCoords(), this._removeExtraneousStyles();
            }
        },
        {
            key: "setSelectionStartEndWithShift",
            value: function setSelectionStartEndWithShift(t, e, s) {
                s <= t ? (e === t ? this._selectionDirection = M : this._selectionDirection === A && (this._selectionDirection = M, this.selectionEnd = t), this.selectionStart = s) : s > t && s < e ? this._selectionDirection === A ? this.selectionEnd = s : this.selectionStart = s : (e === t ? this._selectionDirection = A : this._selectionDirection === M && (this._selectionDirection = A, this.selectionStart = e), this.selectionEnd = s);
            }
        }
    ]);
    return Lo;
}(Ao);
var Ro = /*#__PURE__*/ function(Lo) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ro, Lo);
    function Ro() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ro);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ro, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ro, [
        {
            key: "initHiddenTextarea",
            value: function initHiddenTextarea() {
                var _this = this;
                var _$t = this.canvas && Kt(this.canvas.getElement()) || m(), e = _$t.createElement("textarea");
                Object.entries({
                    autocapitalize: "off",
                    autocorrect: "off",
                    autocomplete: "off",
                    spellcheck: "false",
                    "data-fabric": "textarea",
                    wrap: "off",
                    name: "fabricTextarea"
                }).map(function(t) {
                    var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), _$s = _t[0], i = _t[1];
                    return e.setAttribute(_$s, i);
                });
                var _this__calcTextareaPosition = this._calcTextareaPosition(), _$s = _this__calcTextareaPosition.top, i = _this__calcTextareaPosition.left, _$r = _this__calcTextareaPosition.fontSize;
                e.style.cssText = "position: absolute; top: ".concat(_$s, "; left: ").concat(i, "; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(_$r, ";"), (this.hiddenTextareaContainer || _$t.body).appendChild(e), Object.entries({
                    blur: "blur",
                    keydown: "onKeyDown",
                    keyup: "onKeyUp",
                    input: "onInput",
                    copy: "copy",
                    cut: "copy",
                    paste: "paste",
                    compositionstart: "onCompositionStart",
                    compositionupdate: "onCompositionUpdate",
                    compositionend: "onCompositionEnd"
                }).map(function(t) {
                    var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 2), _$s = _t[0], i = _t[1];
                    return e.addEventListener(_$s, _this[i].bind(_this));
                }), this.hiddenTextarea = e;
            }
        },
        {
            key: "blur",
            value: function blur() {
                this.abortCursorAnimation();
            }
        },
        {
            key: "onKeyDown",
            value: function onKeyDown(t) {
                if (!this.isEditing) return;
                var e = "rtl" === this.direction ? this.keysMapRtl : this.keysMap;
                if (t.keyCode in e) this[e[t.keyCode]](t);
                else {
                    if (!(t.keyCode in this.ctrlKeysMapDown) || !t.ctrlKey && !t.metaKey) return;
                    this[this.ctrlKeysMapDown[t.keyCode]](t);
                }
                t.stopImmediatePropagation(), t.preventDefault(), t.keyCode >= 33 && t.keyCode <= 40 ? (this.inCompositionMode = !1, this.clearContextTop(), this.renderCursorOrSelection()) : this.canvas && this.canvas.requestRenderAll();
            }
        },
        {
            key: "onKeyUp",
            value: function onKeyUp(t) {
                !this.isEditing || this._copyDone || this.inCompositionMode ? this._copyDone = !1 : t.keyCode in this.ctrlKeysMapUp && (t.ctrlKey || t.metaKey) && (this[this.ctrlKeysMapUp[t.keyCode]](t), t.stopImmediatePropagation(), t.preventDefault(), this.canvas && this.canvas.requestRenderAll());
            }
        },
        {
            key: "onInput",
            value: function onInput(t) {
                var _this = this;
                var e = this.fromPaste, _this_hiddenTextarea = this.hiddenTextarea, _$s = _this_hiddenTextarea.value, i = _this_hiddenTextarea.selectionStart, _$r = _this_hiddenTextarea.selectionEnd;
                if (this.fromPaste = !1, t && t.stopPropagation(), !this.isEditing) return;
                var n = function() {
                    _this.updateFromTextArea(), _this.fire(z), _this.canvas && (_this.canvas.fire("text:changed", {
                        target: _this
                    }), _this.canvas.requestRenderAll());
                };
                if ("" === this.hiddenTextarea.value) return this.styles = {}, void n();
                var a = this._splitTextIntoLines(_$s).graphemeText, h = this._text.length, c = a.length, l = this.selectionStart, u = this.selectionEnd, d = l !== u;
                var g, f, m, v, y = c - h;
                var _ = this.fromStringToGraphemeSelection(i, _$r, _$s), x = l > _.selectionStart;
                d ? (f = this._text.slice(l, u), y += u - l) : c < h && (f = x ? this._text.slice(u + y, u) : this._text.slice(l, l - y));
                var C = a.slice(_.selectionEnd - y, _.selectionEnd);
                if (f && f.length && (C.length && (g = this.getSelectionStyles(l, l + 1, !1), g = C.map(function() {
                    return g[0];
                })), d ? (m = l, v = u) : x ? (m = u - f.length, v = u) : (m = u, v = u + f.length), this.removeStyleFromTo(m, v)), C.length) {
                    var _p = p(), _$t = _p.copyPasteData;
                    e && C.join("") === _$t.copiedText && !o.disableStyleCopyPaste && (g = _$t.copiedTextStyle), this.insertNewStyleBlock(C, l, g);
                }
                n();
            }
        },
        {
            key: "onCompositionStart",
            value: function onCompositionStart() {
                this.inCompositionMode = !0;
            }
        },
        {
            key: "onCompositionEnd",
            value: function onCompositionEnd() {
                this.inCompositionMode = !1;
            }
        },
        {
            key: "onCompositionUpdate",
            value: function onCompositionUpdate(t) {
                var e = t.target;
                var _$s = e.selectionStart, i = e.selectionEnd;
                this.compositionStart = _$s, this.compositionEnd = i, this.updateTextareaPosition();
            }
        },
        {
            key: "copy",
            value: function copy() {
                if (this.selectionStart === this.selectionEnd) return;
                var _p = p(), _$t = _p.copyPasteData;
                _$t.copiedText = this.getSelectedText(), o.disableStyleCopyPaste ? _$t.copiedTextStyle = void 0 : _$t.copiedTextStyle = this.getSelectionStyles(this.selectionStart, this.selectionEnd, !0), this._copyDone = !0;
            }
        },
        {
            key: "paste",
            value: function paste() {
                this.fromPaste = !0;
            }
        },
        {
            key: "_getWidthBeforeCursor",
            value: function _getWidthBeforeCursor(t, e) {
                var _$s, i = this._getLineLeftOffset(t);
                return e > 0 && (_$s = this.__charBounds[t][e - 1], i += _$s.left + _$s.width), i;
            }
        },
        {
            key: "getDownCursorOffset",
            value: function getDownCursorOffset(t, e) {
                var _$s = this._getSelectionForOffset(t, e), i = this.get2DCursorLocation(_$s), _$r = i.lineIndex;
                if (_$r === this._textLines.length - 1 || t.metaKey || 34 === t.keyCode) return this._text.length - _$s;
                var n = i.charIndex, o = this._getWidthBeforeCursor(_$r, n), a = this._getIndexOnLine(_$r + 1, o);
                return this._textLines[_$r].slice(n).length + a + 1 + this.missingNewlineOffset(_$r);
            }
        },
        {
            key: "_getSelectionForOffset",
            value: function _getSelectionForOffset(t, e) {
                return t.shiftKey && this.selectionStart !== this.selectionEnd && e ? this.selectionEnd : this.selectionStart;
            }
        },
        {
            key: "getUpCursorOffset",
            value: function getUpCursorOffset(t, e) {
                var _$s = this._getSelectionForOffset(t, e), i = this.get2DCursorLocation(_$s), _$r = i.lineIndex;
                if (0 === _$r || t.metaKey || 33 === t.keyCode) return -_$s;
                var n = i.charIndex, o = this._getWidthBeforeCursor(_$r, n), a = this._getIndexOnLine(_$r - 1, o), h = this._textLines[_$r].slice(0, n), c = this.missingNewlineOffset(_$r - 1);
                return -this._textLines[_$r - 1].length + a - h.length + (1 - c);
            }
        },
        {
            key: "_getIndexOnLine",
            value: function _getIndexOnLine(t, e) {
                var _$s = this._textLines[t];
                var i, _$r, n = this._getLineLeftOffset(t), o = 0;
                for(var a = 0, h = _$s.length; a < h; a++)if (i = this.__charBounds[t][a].width, n += i, n > e) {
                    _$r = !0;
                    var _$t = n - i, _$s1 = n, h1 = Math.abs(_$t - e);
                    o = Math.abs(_$s1 - e) < h1 ? a : a - 1;
                    break;
                }
                return _$r || (o = _$s.length - 1), o;
            }
        },
        {
            key: "moveCursorDown",
            value: function moveCursorDown(t) {
                this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length || this._moveCursorUpOrDown("Down", t);
            }
        },
        {
            key: "moveCursorUp",
            value: function moveCursorUp(t) {
                0 === this.selectionStart && 0 === this.selectionEnd || this._moveCursorUpOrDown("Up", t);
            }
        },
        {
            key: "_moveCursorUpOrDown",
            value: function _moveCursorUpOrDown(t, e) {
                var _$s = this["get".concat(t, "CursorOffset")](e, this._selectionDirection === A);
                if (e.shiftKey ? this.moveCursorWithShift(_$s) : this.moveCursorWithoutShift(_$s), 0 !== _$s) {
                    var _$t = this.text.length;
                    this.selectionStart = Ms(0, this.selectionStart, _$t), this.selectionEnd = Ms(0, this.selectionEnd, _$t), this.abortCursorAnimation(), this.initDelayedCursor(), this._fireSelectionChanged(), this._updateTextarea();
                }
            }
        },
        {
            key: "moveCursorWithShift",
            value: function moveCursorWithShift(t) {
                var e = this._selectionDirection === M ? this.selectionStart + t : this.selectionEnd + t;
                return this.setSelectionStartEndWithShift(this.selectionStart, this.selectionEnd, e), 0 !== t;
            }
        },
        {
            key: "moveCursorWithoutShift",
            value: function moveCursorWithoutShift(t) {
                return t < 0 ? (this.selectionStart += t, this.selectionEnd = this.selectionStart) : (this.selectionEnd += t, this.selectionStart = this.selectionEnd), 0 !== t;
            }
        },
        {
            key: "moveCursorLeft",
            value: function moveCursorLeft(t) {
                0 === this.selectionStart && 0 === this.selectionEnd || this._moveCursorLeftOrRight("Left", t);
            }
        },
        {
            key: "_move",
            value: function _move(t, e, s) {
                var i;
                if (t.altKey) i = this["findWordBoundary".concat(s)](this[e]);
                else {
                    if (!t.metaKey && 35 !== t.keyCode && 36 !== t.keyCode) return this[e] += "Left" === s ? -1 : 1, !0;
                    i = this["findLineBoundary".concat(s)](this[e]);
                }
                return void 0 !== i && this[e] !== i && (this[e] = i, !0);
            }
        },
        {
            key: "_moveLeft",
            value: function _moveLeft(t, e) {
                return this._move(t, e, "Left");
            }
        },
        {
            key: "_moveRight",
            value: function _moveRight(t, e) {
                return this._move(t, e, "Right");
            }
        },
        {
            key: "moveCursorLeftWithoutShift",
            value: function moveCursorLeftWithoutShift(t) {
                var e = !0;
                return this._selectionDirection = M, this.selectionEnd === this.selectionStart && 0 !== this.selectionStart && (e = this._moveLeft(t, "selectionStart")), this.selectionEnd = this.selectionStart, e;
            }
        },
        {
            key: "moveCursorLeftWithShift",
            value: function moveCursorLeftWithShift(t) {
                return this._selectionDirection === A && this.selectionStart !== this.selectionEnd ? this._moveLeft(t, "selectionEnd") : 0 !== this.selectionStart ? (this._selectionDirection = M, this._moveLeft(t, "selectionStart")) : void 0;
            }
        },
        {
            key: "moveCursorRight",
            value: function moveCursorRight(t) {
                this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length || this._moveCursorLeftOrRight("Right", t);
            }
        },
        {
            key: "_moveCursorLeftOrRight",
            value: function _moveCursorLeftOrRight(t, e) {
                var _$s = "moveCursor".concat(t).concat(e.shiftKey ? "WithShift" : "WithoutShift");
                this._currentCursorOpacity = 1, this[_$s](e) && (this.abortCursorAnimation(), this.initDelayedCursor(), this._fireSelectionChanged(), this._updateTextarea());
            }
        },
        {
            key: "moveCursorRightWithShift",
            value: function moveCursorRightWithShift(t) {
                return this._selectionDirection === M && this.selectionStart !== this.selectionEnd ? this._moveRight(t, "selectionStart") : this.selectionEnd !== this._text.length ? (this._selectionDirection = A, this._moveRight(t, "selectionEnd")) : void 0;
            }
        },
        {
            key: "moveCursorRightWithoutShift",
            value: function moveCursorRightWithoutShift(t) {
                var e = !0;
                return this._selectionDirection = A, this.selectionStart === this.selectionEnd ? (e = this._moveRight(t, "selectionStart"), this.selectionEnd = this.selectionStart) : this.selectionStart = this.selectionEnd, e;
            }
        }
    ]);
    return Ro;
}(Lo);
var Io = function(t) {
    return !!t.button;
};
var Bo = /*#__PURE__*/ function(Ro) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Bo, Ro);
    function Bo() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Bo);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Bo, arguments), t(_this, "draggableTextDelegate", void 0);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Bo, [
        {
            key: "initBehavior",
            value: function initBehavior() {
                this.on("mousedown", this._mouseDownHandler), this.on("mouseup", this.mouseUpHandler), this.on("mousedblclick", this.doubleClickHandler), this.on("mousetripleclick", this.tripleClickHandler), this.draggableTextDelegate = new jo(this), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Bo.prototype), "initBehavior", this).call(this);
            }
        },
        {
            key: "shouldStartDragging",
            value: function shouldStartDragging() {
                return this.draggableTextDelegate.isActive();
            }
        },
        {
            key: "onDragStart",
            value: function onDragStart(t) {
                return this.draggableTextDelegate.onDragStart(t);
            }
        },
        {
            key: "canDrop",
            value: function canDrop(t) {
                return this.draggableTextDelegate.canDrop(t);
            }
        },
        {
            key: "doubleClickHandler",
            value: function doubleClickHandler(t) {
                this.isEditing && (this.selectWord(this.getSelectionStartFromPointer(t.e)), this.renderCursorOrSelection());
            }
        },
        {
            key: "tripleClickHandler",
            value: function tripleClickHandler(t) {
                this.isEditing && (this.selectLine(this.getSelectionStartFromPointer(t.e)), this.renderCursorOrSelection());
            }
        },
        {
            key: "_mouseDownHandler",
            value: function _mouseDownHandler(t) {
                var e = t.e, _$s = t.alreadySelected;
                this.canvas && this.editable && !Io(e) && !this.getActiveControl() && (this.draggableTextDelegate.start(e) || (this.canvas.textEditingManager.register(this), _$s && (this.inCompositionMode = !1, this.setCursorByClick(e)), this.isEditing && (this.__selectionStartOnMouseDown = this.selectionStart, this.selectionStart === this.selectionEnd && this.abortCursorAnimation(), this.renderCursorOrSelection()), this.selected || (this.selected = _$s || this.isEditing)));
            }
        },
        {
            key: "mouseUpHandler",
            value: function mouseUpHandler(t) {
                var e = t.e, _$s = t.transform;
                var i = this.draggableTextDelegate.end(e);
                if (this.canvas) {
                    this.canvas.textEditingManager.unregister(this);
                    var _$t = this.canvas._activeObject;
                    if (_$t && _$t !== this) return;
                }
                !this.editable || this.group && !this.group.interactive || _$s && _$s.actionPerformed || Io(e) || i || this.selected && !this.getActiveControl() && (this.enterEditing(e), this.selectionStart === this.selectionEnd ? this.initDelayedCursor(!0) : this.renderCursorOrSelection());
            }
        },
        {
            key: "setCursorByClick",
            value: function setCursorByClick(t) {
                var e = this.getSelectionStartFromPointer(t), _$s = this.selectionStart, i = this.selectionEnd;
                t.shiftKey ? this.setSelectionStartEndWithShift(_$s, i, e) : (this.selectionStart = e, this.selectionEnd = e), this.isEditing && (this._fireSelectionChanged(), this._updateTextarea());
            }
        },
        {
            key: "getSelectionStartFromPointer",
            value: function getSelectionStartFromPointer(t) {
                var e = this.canvas.getScenePoint(t).transform(wt(this.calcTransformMatrix())).add(new ot(-this._getLeftOffset(), -this._getTopOffset()));
                var _$s = 0, i = 0, _$r = 0;
                for(var _$t = 0; _$t < this._textLines.length && _$s <= e.y; _$t++)_$s += this.getHeightOfLine(_$t), _$r = _$t, _$t > 0 && (i += this._textLines[_$t - 1].length + this.missingNewlineOffset(_$t - 1));
                var n = Math.abs(this._getLineLeftOffset(_$r));
                var o = this._textLines[_$r].length, a = this.__charBounds[_$r];
                for(var _$t1 = 0; _$t1 < o; _$t1++){
                    var _$s1 = n + a[_$t1].kernedWidth;
                    if (e.x <= _$s1) {
                        Math.abs(e.x - _$s1) <= Math.abs(e.x - n) && i++;
                        break;
                    }
                    n = _$s1, i++;
                }
                return Math.min(this.flipX ? o - i : i, this._text.length);
            }
        }
    ]);
    return Bo;
}(Ro);
var Xo = "moveCursorUp", Yo = "moveCursorDown", Wo = "moveCursorLeft", Vo = "moveCursorRight", zo = "exitEditing", Go = function(t, e) {
    var _$s = e.getRetinaScaling();
    t.setTransform(_$s, 0, 0, _$s, 0, 0);
    var i = e.viewportTransform;
    t.transform(i[0], i[1], i[2], i[3], i[4], i[5]);
}, Ho = s({
    selectionStart: 0,
    selectionEnd: 0,
    selectionColor: "rgba(17,119,255,0.3)",
    isEditing: !1,
    editable: !0,
    editingBorderColor: "rgba(102,153,255,0.25)",
    cursorWidth: 2,
    cursorColor: "",
    cursorDelay: 1e3,
    cursorDuration: 600,
    caching: !0,
    hiddenTextareaContainer: null,
    keysMap: {
        9: zo,
        27: zo,
        33: Xo,
        34: Yo,
        35: Vo,
        36: Wo,
        37: Wo,
        38: Xo,
        39: Vo,
        40: Yo
    },
    keysMapRtl: {
        9: zo,
        27: zo,
        33: Xo,
        34: Yo,
        35: Wo,
        36: Vo,
        37: Vo,
        38: Xo,
        39: Wo,
        40: Yo
    },
    ctrlKeysMapDown: {
        65: "cmdAll"
    },
    ctrlKeysMapUp: {
        67: "copy",
        88: "cut"
    }
}, {
    _selectionDirection: null,
    _reSpace: /\s|\r?\n/,
    inCompositionMode: !1
});
var No = /*#__PURE__*/ function(Bo) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No, Bo);
    function No(t, e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, No);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, No, [
            t,
            s(s({}, No.ownDefaults), e)
        ]), _this.initBehavior();
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No, [
        {
            key: "type",
            get: function get() {
                var _$t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No.prototype), "type", this);
                return "itext" === _$t ? "i-text" : _$t;
            }
        },
        {
            key: "_set",
            value: function _set(t, e) {
                return this.isEditing && this._savedProps && t in this._savedProps ? (this._savedProps[t] = e, this) : ("canvas" === t && ((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_instanceof$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.canvas, Xn) && this.canvas.textEditingManager.remove(this), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_instanceof$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, Xn) && e.textEditingManager.add(this)), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No.prototype), "_set", this).call(this, t, e));
            }
        },
        {
            key: "setSelectionStart",
            value: function setSelectionStart(t) {
                t = Math.max(t, 0), this._updateAndFire("selectionStart", t);
            }
        },
        {
            key: "setSelectionEnd",
            value: function setSelectionEnd(t) {
                t = Math.min(t, this.text.length), this._updateAndFire("selectionEnd", t);
            }
        },
        {
            key: "_updateAndFire",
            value: function _updateAndFire(t, e) {
                this[t] !== e && (this._fireSelectionChanged(), this[t] = e), this._updateTextarea();
            }
        },
        {
            key: "_fireSelectionChanged",
            value: function _fireSelectionChanged() {
                this.fire("selection:changed"), this.canvas && this.canvas.fire("text:selection:changed", {
                    target: this
                });
            }
        },
        {
            key: "initDimensions",
            value: function initDimensions() {
                this.isEditing && this.initDelayedCursor(), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No.prototype), "initDimensions", this).call(this);
            }
        },
        {
            key: "getSelectionStyles",
            value: function getSelectionStyles() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.selectionStart || 0, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.selectionEnd, _$s = arguments.length > 2 ? arguments[2] : void 0;
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No.prototype), "getSelectionStyles", this).call(this, _$t, e, _$s);
            }
        },
        {
            key: "setSelectionStyles",
            value: function setSelectionStyles(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.selectionStart || 0, _$s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.selectionEnd;
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No.prototype), "setSelectionStyles", this).call(this, t, e, _$s);
            }
        },
        {
            key: "get2DCursorLocation",
            value: function get2DCursorLocation() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.selectionStart, e = arguments.length > 1 ? arguments[1] : void 0;
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No.prototype), "get2DCursorLocation", this).call(this, _$t, e);
            }
        },
        {
            key: "render",
            value: function render(t) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No.prototype), "render", this).call(this, t), this.cursorOffsetCache = {}, this.renderCursorOrSelection();
            }
        },
        {
            key: "toCanvasElement",
            value: function toCanvasElement(t) {
                var e = this.isEditing;
                this.isEditing = !1;
                var _$s = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No.prototype), "toCanvasElement", this).call(this, t);
                return this.isEditing = e, _$s;
            }
        },
        {
            key: "renderCursorOrSelection",
            value: function renderCursorOrSelection() {
                if (!this.isEditing || !this.canvas) return;
                var _$t = this.clearContextTop(!0);
                if (!_$t) return;
                var e = this._getCursorBoundaries(), _$s = this.findAncestorsWithClipPath(), i = _$s.length > 0;
                var _$r, n = _$t;
                if (i) {
                    _$r = vt(_$t.canvas), n = _$r.getContext("2d"), Go(n, this.canvas);
                    var e1 = this.calcTransformMatrix();
                    n.transform(e1[0], e1[1], e1[2], e1[3], e1[4], e1[5]);
                }
                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;
                if (this.selectionStart !== this.selectionEnd || this.inCompositionMode ? this.renderSelection(n, e) : this.renderCursor(n, e), i) try {
                    for(var _iterator = _$s[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){
                        var e2 = _step.value;
                        var _$s1 = e2.clipPath, i1 = vt(_$t.canvas), _$r1 = i1.getContext("2d");
                        if (Go(_$r1, this.canvas), !_$s1.absolutePositioned) {
                            var _$t1 = e2.calcTransformMatrix();
                            _$r1.transform(_$t1[0], _$t1[1], _$t1[2], _$t1[3], _$t1[4], _$t1[5]);
                        }
                        _$s1.transform(_$r1), _$s1.drawObject(_$r1, !0, {}), this.drawClipPathOnCache(n, _$s1, i1);
                    }
                } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                } finally{
                    try {
                        if (!_iteratorNormalCompletion && _iterator.return != null) {
                            _iterator.return();
                        }
                    } finally{
                        if (_didIteratorError) {
                            throw _iteratorError;
                        }
                    }
                }
                i && (_$t.setTransform(1, 0, 0, 1, 0, 0), _$t.drawImage(_$r, 0, 0)), this.canvas.contextTopDirty = !0, _$t.restore();
            }
        },
        {
            key: "findAncestorsWithClipPath",
            value: function findAncestorsWithClipPath() {
                var _$t = [];
                var e = this;
                for(; e;)e.clipPath && _$t.push(e), e = e.parent;
                return _$t;
            }
        },
        {
            key: "_getCursorBoundaries",
            value: function _getCursorBoundaries() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.selectionStart, e = arguments.length > 1 ? arguments[1] : void 0;
                var _$s = this._getLeftOffset(), i = this._getTopOffset(), _$r = this._getCursorBoundariesOffsets(_$t, e);
                return {
                    left: _$s,
                    top: i,
                    leftOffset: _$r.left,
                    topOffset: _$r.top
                };
            }
        },
        {
            key: "_getCursorBoundariesOffsets",
            value: function _getCursorBoundariesOffsets(t, e) {
                return e ? this.__getCursorBoundariesOffsets(t) : this.cursorOffsetCache && "top" in this.cursorOffsetCache ? this.cursorOffsetCache : this.cursorOffsetCache = this.__getCursorBoundariesOffsets(t);
            }
        },
        {
            key: "__getCursorBoundariesOffsets",
            value: function __getCursorBoundariesOffsets(t) {
                var e = 0, _$s = 0;
                var _this_get2DCursorLocation = this.get2DCursorLocation(t), i = _this_get2DCursorLocation.charIndex, _$r = _this_get2DCursorLocation.lineIndex;
                for(var _$t = 0; _$t < _$r; _$t++)e += this.getHeightOfLine(_$t);
                var n = this._getLineLeftOffset(_$r), o = this.__charBounds[_$r][i];
                o && (_$s = o.left), 0 !== this.charSpacing && i === this._textLines[_$r].length && (_$s -= this._getWidthOfCharSpacing());
                var a = {
                    top: e,
                    left: n + (_$s > 0 ? _$s : 0)
                };
                return "rtl" === this.direction && (this.textAlign === A || this.textAlign === Je || this.textAlign === Ze ? a.left *= -1 : this.textAlign === M || this.textAlign === Qe ? a.left = n - (_$s > 0 ? _$s : 0) : this.textAlign !== D && this.textAlign !== $e || (a.left = n - (_$s > 0 ? _$s : 0))), a;
            }
        },
        {
            key: "renderCursorAt",
            value: function renderCursorAt(t) {
                this._renderCursor(this.canvas.contextTop, this._getCursorBoundaries(t, !0), t);
            }
        },
        {
            key: "renderCursor",
            value: function renderCursor(t, e) {
                this._renderCursor(t, e, this.selectionStart);
            }
        },
        {
            key: "getCursorRenderingData",
            value: function getCursorRenderingData() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.selectionStart, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this._getCursorBoundaries(_$t);
                var _$s = this.get2DCursorLocation(_$t), i = _$s.lineIndex, _$r = _$s.charIndex > 0 ? _$s.charIndex - 1 : 0, n = this.getValueOfPropertyAt(i, _$r, "fontSize"), o = this.getObjectScaling().x * this.canvas.getZoom(), a = this.cursorWidth / o, h = this.getValueOfPropertyAt(i, _$r, "deltaY"), c = e.topOffset + (1 - this._fontSizeFraction) * this.getHeightOfLine(i) / this.lineHeight - n * (1 - this._fontSizeFraction);
                return {
                    color: this.cursorColor || this.getValueOfPropertyAt(i, _$r, "fill"),
                    opacity: this._currentCursorOpacity,
                    left: e.left + e.leftOffset - a / 2,
                    top: c + e.top + h,
                    width: a,
                    height: n
                };
            }
        },
        {
            key: "_renderCursor",
            value: function _renderCursor(t, e, s) {
                var _this_getCursorRenderingData = this.getCursorRenderingData(s, e), i = _this_getCursorRenderingData.color, _$r = _this_getCursorRenderingData.opacity, n = _this_getCursorRenderingData.left, o = _this_getCursorRenderingData.top, a = _this_getCursorRenderingData.width, h = _this_getCursorRenderingData.height;
                t.fillStyle = i, t.globalAlpha = _$r, t.fillRect(n, o, a, h);
            }
        },
        {
            key: "renderSelection",
            value: function renderSelection(t, e) {
                var _$s = {
                    selectionStart: this.inCompositionMode ? this.hiddenTextarea.selectionStart : this.selectionStart,
                    selectionEnd: this.inCompositionMode ? this.hiddenTextarea.selectionEnd : this.selectionEnd
                };
                this._renderSelection(t, _$s, e);
            }
        },
        {
            key: "renderDragSourceEffect",
            value: function renderDragSourceEffect() {
                var _$t = this.draggableTextDelegate.getDragStartSelection();
                this._renderSelection(this.canvas.contextTop, _$t, this._getCursorBoundaries(_$t.selectionStart, !0));
            }
        },
        {
            key: "renderDropTargetEffect",
            value: function renderDropTargetEffect(t) {
                var e = this.getSelectionStartFromPointer(t);
                this.renderCursorAt(e);
            }
        },
        {
            key: "_renderSelection",
            value: function _renderSelection(t, e, s) {
                var i = e.selectionStart, _$r = e.selectionEnd, n = this.textAlign.includes(Je), o = this.get2DCursorLocation(i), a = this.get2DCursorLocation(_$r), h = o.lineIndex, c = a.lineIndex, l = o.charIndex < 0 ? 0 : o.charIndex, u = a.charIndex < 0 ? 0 : a.charIndex;
                for(var _$e = h; _$e <= c; _$e++){
                    var i1 = this._getLineLeftOffset(_$e) || 0;
                    var _$r1 = this.getHeightOfLine(_$e), o1 = 0, a1 = 0, d = 0;
                    if (_$e === h && (a1 = this.__charBounds[h][l].left), _$e >= h && _$e < c) d = n && !this.isEndOfWrapping(_$e) ? this.width : this.getLineWidth(_$e) || 5;
                    else if (_$e === c) if (0 === u) d = this.__charBounds[c][u].left;
                    else {
                        var _$t = this._getWidthOfCharSpacing();
                        d = this.__charBounds[c][u - 1].left + this.__charBounds[c][u - 1].width - _$t;
                    }
                    o1 = _$r1, (this.lineHeight < 1 || _$e === c && this.lineHeight > 1) && (_$r1 /= this.lineHeight);
                    var g = s.left + i1 + a1, f = _$r1, p = 0;
                    var m = d - a1;
                    this.inCompositionMode ? (t.fillStyle = this.compositionColor || "black", f = 1, p = _$r1) : t.fillStyle = this.selectionColor, "rtl" === this.direction && (this.textAlign === A || this.textAlign === Je || this.textAlign === Ze ? g = this.width - g - m : this.textAlign === M || this.textAlign === Qe ? g = s.left + i1 - d : this.textAlign !== D && this.textAlign !== $e || (g = s.left + i1 - d)), t.fillRect(g, s.top + s.topOffset + p, m, f), s.topOffset += o1;
                }
            }
        },
        {
            key: "getCurrentCharFontSize",
            value: function getCurrentCharFontSize() {
                var _$t = this._getCurrentCharIndex();
                return this.getValueOfPropertyAt(_$t.l, _$t.c, "fontSize");
            }
        },
        {
            key: "getCurrentCharColor",
            value: function getCurrentCharColor() {
                var _$t = this._getCurrentCharIndex();
                return this.getValueOfPropertyAt(_$t.l, _$t.c, K);
            }
        },
        {
            key: "_getCurrentCharIndex",
            value: function _getCurrentCharIndex() {
                var _$t = this.get2DCursorLocation(this.selectionStart, !0), e = _$t.charIndex > 0 ? _$t.charIndex - 1 : 0;
                return {
                    l: _$t.lineIndex,
                    c: e
                };
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                this.exitEditingImpl(), this.draggableTextDelegate.dispose(), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No.prototype), "dispose", this).call(this);
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No), "getDefaults", this).call(this)), No.ownDefaults);
            }
        }
    ]);
    return No;
}(Bo);
t(No, "ownDefaults", Ho), t(No, "type", "IText"), tt.setClass(No), tt.setClass(No, "i-text");
var Uo = /*#__PURE__*/ function(No) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Uo, No);
    function Uo(t, e) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Uo);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Uo, [
            t,
            s(s({}, Uo.ownDefaults), e)
        ]);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Uo, [
        {
            key: "initDimensions",
            value: function initDimensions() {
                this.initialized && (this.isEditing && this.initDelayedCursor(), this._clearCache(), this.dynamicMinWidth = 0, this._styleMap = this._generateStyleMap(this._splitText()), this.dynamicMinWidth > this.width && this._set("width", this.dynamicMinWidth), this.textAlign.includes(Je) && this.enlargeSpaces(), this.height = this.calcTextHeight());
            }
        },
        {
            key: "_generateStyleMap",
            value: function _generateStyleMap(t) {
                var e = 0, _$s = 0, i = 0;
                var _$r = {};
                for(var n = 0; n < t.graphemeLines.length; n++)"\n" === t.graphemeText[i] && n > 0 ? (_$s = 0, i++, e++) : !this.splitByGrapheme && this._reSpaceAndTab.test(t.graphemeText[i]) && n > 0 && (_$s++, i++), _$r[n] = {
                    line: e,
                    offset: _$s
                }, i += t.graphemeLines[n].length, _$s += t.graphemeLines[n].length;
                return _$r;
            }
        },
        {
            key: "styleHas",
            value: function styleHas(t, e) {
                if (this._styleMap && !this.isWrapping) {
                    var _$t = this._styleMap[e];
                    _$t && (e = _$t.line);
                }
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Uo.prototype), "styleHas", this).call(this, t, e);
            }
        },
        {
            key: "isEmptyStyles",
            value: function isEmptyStyles(t) {
                if (!this.styles) return !0;
                var e, _$s = 0, i = t + 1, _$r = !1;
                var n = this._styleMap[t], o = this._styleMap[t + 1];
                n && (t = n.line, _$s = n.offset), o && (i = o.line, _$r = i === t, e = o.offset);
                var a = void 0 === t ? this.styles : {
                    line: this.styles[t]
                };
                for(var _$t in a)for(var i1 in a[_$t]){
                    var n1 = parseInt(i1, 10);
                    if (n1 >= _$s && (!_$r || n1 < e)) for(var e1 in a[_$t][i1])return !1;
                }
                return !0;
            }
        },
        {
            key: "_getStyleDeclaration",
            value: function _getStyleDeclaration(t, e) {
                if (this._styleMap && !this.isWrapping) {
                    var _$s = this._styleMap[t];
                    if (!_$s) return {};
                    t = _$s.line, e = _$s.offset + e;
                }
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Uo.prototype), "_getStyleDeclaration", this).call(this, t, e);
            }
        },
        {
            key: "_setStyleDeclaration",
            value: function _setStyleDeclaration(t, e, s) {
                var i = this._styleMap[t];
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Uo.prototype), "_setStyleDeclaration", this).call(this, i.line, i.offset + e, s);
            }
        },
        {
            key: "_deleteStyleDeclaration",
            value: function _deleteStyleDeclaration(t, e) {
                var _$s = this._styleMap[t];
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Uo.prototype), "_deleteStyleDeclaration", this).call(this, _$s.line, _$s.offset + e);
            }
        },
        {
            key: "_getLineStyle",
            value: function _getLineStyle(t) {
                var e = this._styleMap[t];
                return !!this.styles[e.line];
            }
        },
        {
            key: "_setLineStyle",
            value: function _setLineStyle(t) {
                var e = this._styleMap[t];
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Uo.prototype), "_setLineStyle", this).call(this, e.line);
            }
        },
        {
            key: "_wrapText",
            value: function _wrapText(t, e) {
                var _i;
                this.isWrapping = !0;
                var _$s = this.getGraphemeDataForRender(t), i = [];
                for(var _$t = 0; _$t < _$s.wordsData.length; _$t++)(_i = i).push.apply(_i, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this._wrapLine(_$t, e, _$s)));
                return this.isWrapping = !1, i;
            }
        },
        {
            key: "getGraphemeDataForRender",
            value: function getGraphemeDataForRender(t) {
                var _this = this;
                var e = this.splitByGrapheme, _$s = e ? "" : " ";
                var i = 0;
                return {
                    wordsData: t.map(function(t, r) {
                        var n = 0;
                        var o = e ? _this.graphemeSplit(t) : _this.wordSplit(t);
                        return 0 === o.length ? [
                            {
                                word: [],
                                width: 0
                            }
                        ] : o.map(function(t) {
                            var o = e ? [
                                t
                            ] : _this.graphemeSplit(t), a = _this._measureWord(o, r, n);
                            return i = Math.max(a, i), n += o.length + _$s.length, {
                                word: o,
                                width: a
                            };
                        });
                    }),
                    largestWordWidth: i
                };
            }
        },
        {
            key: "_measureWord",
            value: function _measureWord(t, e) {
                var _$s, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, _$r = 0;
                for(var n = 0, o = t.length; n < o; n++){
                    _$r += this._getGraphemeBox(t[n], e, n + i, _$s, true).kernedWidth, _$s = t[n];
                }
                return _$r;
            }
        },
        {
            key: "wordSplit",
            value: function wordSplit(t) {
                return t.split(this._wordJoiners);
            }
        },
        {
            key: "_wrapLine",
            value: function _wrapLine(t, e, s) {
                var i = s.largestWordWidth, _$r = s.wordsData, n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                var o = this._getWidthOfCharSpacing(), a = this.splitByGrapheme, h = [], c = a ? "" : " ";
                var l = 0, u = [], d = 0, g = 0, f = !0;
                e -= n;
                var p = Math.max(e, i, this.dynamicMinWidth), m = _$r[t];
                var v;
                for(d = 0, v = 0; v < m.length; v++){
                    var _m_v = m[v], _$e = _m_v.word, _$s = _m_v.width;
                    d += _$e.length, l += g + _$s - o, l > p && !f ? (h.push(u), u = [], l = _$s, f = !0) : l += o, f || a || u.push(c), u = u.concat(_$e), g = a ? 0 : this._measureWord([
                        c
                    ], t, d), d++, f = !1;
                }
                return v && h.push(u), i + n > this.dynamicMinWidth && (this.dynamicMinWidth = i - o + n), h;
            }
        },
        {
            key: "isEndOfWrapping",
            value: function isEndOfWrapping(t) {
                return !this._styleMap[t + 1] || this._styleMap[t + 1].line !== this._styleMap[t].line;
            }
        },
        {
            key: "missingNewlineOffset",
            value: function missingNewlineOffset(t, e) {
                return this.splitByGrapheme && !e ? this.isEndOfWrapping(t) ? 1 : 0 : 1;
            }
        },
        {
            key: "_splitTextIntoLines",
            value: function _splitTextIntoLines(t) {
                var e = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Uo.prototype), "_splitTextIntoLines", this).call(this, t), _$s = this._wrapText(e.lines, this.width), i = new Array(_$s.length);
                for(var _$t = 0; _$t < _$s.length; _$t++)i[_$t] = _$s[_$t].join("");
                return e.lines = i, e.graphemeLines = _$s, e;
            }
        },
        {
            key: "getMinWidth",
            value: function getMinWidth() {
                return Math.max(this.minWidth, this.dynamicMinWidth);
            }
        },
        {
            key: "_removeExtraneousStyles",
            value: function _removeExtraneousStyles() {
                var _$t = new Map;
                for(var e in this._styleMap){
                    var _$s = parseInt(e, 10);
                    if (this._textLines[_$s]) {
                        var _$s1 = this._styleMap[e].line;
                        _$t.set("".concat(_$s1), !0);
                    }
                }
                for(var e1 in this.styles)_$t.has(e1) || delete this.styles[e1];
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Uo.prototype), "toObject", this).call(this, [
                    "minWidth",
                    "splitByGrapheme"
                ].concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$t)));
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Uo), "getDefaults", this).call(this)), Uo.ownDefaults);
            }
        },
        {
            key: "createControls",
            value: function createControls() {
                return {
                    controls: Ai()
                };
            }
        }
    ]);
    return Uo;
}(No);
t(Uo, "type", "Textbox"), t(Uo, "textLayoutProperties", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(No.textLayoutProperties).concat([
    "width"
])), t(Uo, "ownDefaults", {
    minWidth: 20,
    dynamicMinWidth: 2,
    lockScalingFlip: !0,
    noScaleCache: !1,
    _wordJoiners: /[ \t\r]/,
    splitByGrapheme: !1
}), tt.setClass(Uo);
var qo = /*#__PURE__*/ function(Xr) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(qo, Xr);
    function qo() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, qo);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, qo, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(qo, [
        {
            key: "shouldPerformLayout",
            value: function shouldPerformLayout(t) {
                return !!t.target.clipPath && (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(qo.prototype), "shouldPerformLayout", this).call(this, t);
            }
        },
        {
            key: "shouldLayoutClipPath",
            value: function shouldLayoutClipPath() {
                return !1;
            }
        },
        {
            key: "calcLayoutResult",
            value: function calcLayoutResult(t, e) {
                var _$s = t.target, i = _$s.clipPath, _$r = _$s.group;
                if (!i || !this.shouldPerformLayout(t)) return;
                var _he = he(Br(_$s, i)), n = _he.width, o = _he.height, a = new ot(n, o);
                if (i.absolutePositioned) {
                    return {
                        center: me(i.getRelativeCenterPoint(), void 0, _$r ? _$r.calcTransformMatrix() : void 0),
                        size: a
                    };
                }
                {
                    var _$r1 = i.getRelativeCenterPoint().transform(_$s.calcOwnMatrix(), !0);
                    if (this.shouldPerformLayout(t)) {
                        var _ref = this.calcBoundingBox(e, t) || {}, tmp = _ref.center, _$s1 = tmp === void 0 ? new ot : tmp, tmp1 = _ref.correction, i1 = tmp1 === void 0 ? new ot : tmp1;
                        return {
                            center: _$s1.add(_$r1),
                            correction: i1.subtract(_$r1),
                            size: a
                        };
                    }
                    return {
                        center: _$s.getRelativeCenterPoint().add(_$r1),
                        size: a
                    };
                }
            }
        }
    ]);
    return qo;
}(Xr);
t(qo, "type", "clip-path"), tt.setClass(qo);
var Ko = /*#__PURE__*/ function(Xr) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ko, Xr);
    function Ko() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ko);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ko, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ko, [
        {
            key: "getInitialSize",
            value: function getInitialSize(t, e) {
                var _$s = t.target, i = e.size;
                return new ot(_$s.width || i.x, _$s.height || i.y);
            }
        }
    ]);
    return Ko;
}(Xr);
t(Ko, "type", "fixed"), tt.setClass(Ko);
var Jo = /*#__PURE__*/ function(Gr) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Jo, Gr);
    function Jo() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Jo);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Jo, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Jo, [
        {
            key: "subscribeTargets",
            value: function subscribeTargets(t) {
                var e = t.target;
                t.targets.reduce(function(t, e) {
                    return e.parent && t.add(e.parent), t;
                }, new Set).forEach(function(t) {
                    t.layoutManager.subscribeTargets({
                        target: t,
                        targets: [
                            e
                        ]
                    });
                });
            }
        },
        {
            key: "unsubscribeTargets",
            value: function unsubscribeTargets(t) {
                var e = t.target, _$s = e.getObjects();
                t.targets.reduce(function(t, e) {
                    return e.parent && t.add(e.parent), t;
                }, new Set).forEach(function(t) {
                    !_$s.some(function(e) {
                        return e.parent === t;
                    }) && t.layoutManager.unsubscribeTargets({
                        target: t,
                        targets: [
                            e
                        ]
                    });
                });
            }
        }
    ]);
    return Jo;
}(Gr);
var Qo = /*#__PURE__*/ function(Ur) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Qo, Ur);
    function Qo() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Qo);
        var _this;
        var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Qo), Object.assign(_this, Qo.ownDefaults), _this.setOptions(e);
        var _$s = e.left, i = e.top, _$r = e.layoutManager;
        _this.groupInit(_$t, {
            left: _$s,
            top: i,
            layoutManager: null != _$r ? _$r : new Jo
        });
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Qo, [
        {
            key: "_shouldSetNestedCoords",
            value: function _shouldSetNestedCoords() {
                return !0;
            }
        },
        {
            key: "__objectSelectionMonitor",
            value: function __objectSelectionMonitor() {}
        },
        {
            key: "multiSelectAdd",
            value: function multiSelectAdd() {
                var _this = this;
                for(var _$t = arguments.length, e = new Array(_$t), _$s = 0; _$s < _$t; _$s++)e[_$s] = arguments[_$s];
                "selection-order" === this.multiSelectionStacking ? this.add.apply(this, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e)) : e.forEach(function(t) {
                    var e = _this._objects.findIndex(function(e) {
                        return e.isInFrontOf(t);
                    }), _$s = -1 === e ? _this.size() : e;
                    _this.insertAt(_$s, t);
                });
            }
        },
        {
            key: "canEnterGroup",
            value: function canEnterGroup(t) {
                return this.getObjects().some(function(e) {
                    return e.isDescendantOf(t) || t.isDescendantOf(e);
                }) ? (a("error", "ActiveSelection: circular object trees are not supported, this call has no effect"), !1) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Qo.prototype), "canEnterGroup", this).call(this, t);
            }
        },
        {
            key: "enterGroup",
            value: function enterGroup(t, e) {
                t.parent && t.parent === t.group ? t.parent._exitGroup(t) : t.group && t.parent !== t.group && t.group.remove(t), this._enterGroup(t, e);
            }
        },
        {
            key: "exitGroup",
            value: function exitGroup(t, e) {
                this._exitGroup(t, e), t.parent && t.parent._enterGroup(t, !0);
            }
        },
        {
            key: "_onAfterObjectsChange",
            value: function _onAfterObjectsChange(t, e) {
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Qo.prototype), "_onAfterObjectsChange", this).call(this, t, e);
                var _$s = new Set;
                e.forEach(function(t) {
                    var _$e = t.parent;
                    _$e && _$s.add(_$e);
                }), t === Rr ? _$s.forEach(function(t) {
                    t._onAfterObjectsChange(Lr, e);
                }) : _$s.forEach(function(t) {
                    t._set("dirty", !0);
                });
            }
        },
        {
            key: "onDeselect",
            value: function onDeselect() {
                return this.removeAll(), !1;
            }
        },
        {
            key: "toString",
            value: function toString() {
                return "#<ActiveSelection: (".concat(this.complexity(), ")>");
            }
        },
        {
            key: "shouldCache",
            value: function shouldCache() {
                return !1;
            }
        },
        {
            key: "isOnACache",
            value: function isOnACache() {
                return !1;
            }
        },
        {
            key: "_renderControls",
            value: function _renderControls(t, e, i) {
                t.save(), t.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1;
                var _$r = s(s({
                    hasControls: !1
                }, i), {}, {
                    forActiveSelection: !0
                });
                for(var _$e = 0; _$e < this._objects.length; _$e++)this._objects[_$e]._renderControls(t, _$r);
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Qo.prototype), "_renderControls", this).call(this, t, e), t.restore();
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Qo), "getDefaults", this).call(this)), Qo.ownDefaults);
            }
        }
    ]);
    return Qo;
}(Ur);
t(Qo, "type", "ActiveSelection"), t(Qo, "ownDefaults", {
    multiSelectionStacking: "canvas-stacking"
}), tt.setClass(Qo), tt.setClass(Qo, "activeSelection");
var Zo = /*#__PURE__*/ function() {
    "use strict";
    function Zo() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Zo);
        t(this, "resources", {});
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Zo, [
        {
            key: "applyFilters",
            value: function applyFilters(t, e, s, i, r) {
                var n = r.getContext("2d");
                if (!n) return;
                n.drawImage(e, 0, 0, s, i);
                var o = {
                    sourceWidth: s,
                    sourceHeight: i,
                    imageData: n.getImageData(0, 0, s, i),
                    originalEl: e,
                    originalImageData: n.getImageData(0, 0, s, i),
                    canvasEl: r,
                    ctx: n,
                    filterBackend: this
                };
                t.forEach(function(t) {
                    t.applyTo(o);
                });
                var a = o.imageData;
                return a.width === s && a.height === i || (r.width = a.width, r.height = a.height), n.putImageData(a, 0, 0), o;
            }
        }
    ]);
    return Zo;
}();
var $o = /*#__PURE__*/ function() {
    "use strict";
    function $o() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, $o);
        var _ref = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, tmp = _ref.tileSize, e = tmp === void 0 ? o.textureSize : tmp;
        t(this, "aPosition", new Float32Array([
            0,
            0,
            0,
            1,
            1,
            0,
            1,
            1
        ])), t(this, "resources", {}), this.tileSize = e, this.setupGLContext(e, e), this.captureGPUInfo();
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])($o, [
        {
            key: "setupGLContext",
            value: function setupGLContext(t, e) {
                this.dispose(), this.createWebGLCanvas(t, e);
            }
        },
        {
            key: "createWebGLCanvas",
            value: function createWebGLCanvas(t, e) {
                var _$s = vt({
                    width: t,
                    height: e
                }), i = _$s.getContext("webgl", {
                    alpha: !0,
                    premultipliedAlpha: !1,
                    depth: !1,
                    stencil: !1,
                    antialias: !1
                });
                i && (i.clearColor(0, 0, 0, 0), this.canvas = _$s, this.gl = i);
            }
        },
        {
            key: "applyFilters",
            value: function applyFilters(t, e, s, i, r, n) {
                var o = this.gl, a = r.getContext("2d");
                if (!o || !a) return;
                var h;
                n && (h = this.getCachedTexture(n, e));
                var c = {
                    originalWidth: e.width || e.naturalWidth || 0,
                    originalHeight: e.height || e.naturalHeight || 0,
                    sourceWidth: s,
                    sourceHeight: i,
                    destinationWidth: s,
                    destinationHeight: i,
                    context: o,
                    sourceTexture: this.createTexture(o, s, i, h ? void 0 : e),
                    targetTexture: this.createTexture(o, s, i),
                    originalTexture: h || this.createTexture(o, s, i, h ? void 0 : e),
                    passes: t.length,
                    webgl: !0,
                    aPosition: this.aPosition,
                    programCache: this.programCache,
                    pass: 0,
                    filterBackend: this,
                    targetCanvas: r
                }, l = o.createFramebuffer();
                return o.bindFramebuffer(o.FRAMEBUFFER, l), t.forEach(function(t) {
                    t && t.applyTo(c);
                }), function(t) {
                    var _$e = t.targetCanvas, _$s = _$e.width, _$i = _$e.height, _$r = t.destinationWidth, _$n = t.destinationHeight;
                    _$s === _$r && _$i === _$n || (_$e.width = _$r, _$e.height = _$n);
                }(c), this.copyGLTo2D(o, c), o.bindTexture(o.TEXTURE_2D, null), o.deleteTexture(c.sourceTexture), o.deleteTexture(c.targetTexture), o.deleteFramebuffer(l), a.setTransform(1, 0, 0, 1, 0, 0), c;
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                this.canvas && (this.canvas = null, this.gl = null), this.clearWebGLCaches();
            }
        },
        {
            key: "clearWebGLCaches",
            value: function clearWebGLCaches() {
                this.programCache = {}, this.textureCache = {};
            }
        },
        {
            key: "createTexture",
            value: function createTexture(t, e, s, i, r) {
                var n = t.NEAREST, o = t.TEXTURE_2D, a = t.RGBA, h = t.UNSIGNED_BYTE, c = t.CLAMP_TO_EDGE, l = t.TEXTURE_MAG_FILTER, u = t.TEXTURE_MIN_FILTER, d = t.TEXTURE_WRAP_S, g = t.TEXTURE_WRAP_T, f = t.createTexture();
                return t.bindTexture(o, f), t.texParameteri(o, l, r || n), t.texParameteri(o, u, r || n), t.texParameteri(o, d, c), t.texParameteri(o, g, c), i ? t.texImage2D(o, 0, a, a, h, i) : t.texImage2D(o, 0, a, e, s, 0, a, h, null), f;
            }
        },
        {
            key: "getCachedTexture",
            value: function getCachedTexture(t, e, s) {
                var _this = this, i = _this.textureCache;
                if (i[t]) return i[t];
                {
                    var _$r = this.createTexture(this.gl, e.width, e.height, e, s);
                    return _$r && (i[t] = _$r), _$r;
                }
            }
        },
        {
            key: "evictCachesForKey",
            value: function evictCachesForKey(t) {
                this.textureCache[t] && (this.gl.deleteTexture(this.textureCache[t]), delete this.textureCache[t]);
            }
        },
        {
            key: "copyGLTo2D",
            value: function copyGLTo2D(t, e) {
                var _$s = t.canvas, i = e.targetCanvas, _$r = i.getContext("2d");
                if (!_$r) return;
                _$r.translate(0, i.height), _$r.scale(1, -1);
                var n = _$s.height - i.height;
                _$r.drawImage(_$s, 0, n, i.width, i.height, 0, 0, i.width, i.height);
            }
        },
        {
            key: "copyGLTo2DPutImageData",
            value: function copyGLTo2DPutImageData(t, e) {
                var _$s = e.targetCanvas.getContext("2d"), i = e.destinationWidth, _$r = e.destinationHeight, n = i * _$r * 4;
                if (!_$s) return;
                var o = new Uint8Array(this.imageBuffer, 0, n), a = new Uint8ClampedArray(this.imageBuffer, 0, n);
                t.readPixels(0, 0, i, _$r, t.RGBA, t.UNSIGNED_BYTE, o);
                var h = new ImageData(a, i, _$r);
                _$s.putImageData(h, 0, 0);
            }
        },
        {
            key: "captureGPUInfo",
            value: function captureGPUInfo() {
                if (this.gpuInfo) return this.gpuInfo;
                var _$t = this.gl, e = {
                    renderer: "",
                    vendor: ""
                };
                if (!_$t) return e;
                var _$s = _$t.getExtension("WEBGL_debug_renderer_info");
                if (_$s) {
                    var i = _$t.getParameter(_$s.UNMASKED_RENDERER_WEBGL), _$r = _$t.getParameter(_$s.UNMASKED_VENDOR_WEBGL);
                    i && (e.renderer = i.toLowerCase()), _$r && (e.vendor = _$r.toLowerCase());
                }
                return this.gpuInfo = e, e;
            }
        }
    ]);
    return $o;
}();
var ta;
function ea() {
    var _p = p(), _$t = _p.WebGLProbe;
    return _$t.queryWebGL(pt()), o.enableGLFiltering && _$t.isSupported(o.textureSize) ? new $o({
        tileSize: o.textureSize
    }) : new Zo;
}
function sa() {
    return !ta && (!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) && (ta = ea()), ta;
}
function ia(t) {
    ta = t;
}
var ra = [
    "filters",
    "resizeFilter",
    "src",
    "crossOrigin",
    "type"
], na = [
    "cropX",
    "cropY"
];
var oa = /*#__PURE__*/ function(Li) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oa, Li);
    function oa(e, s) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, oa);
        var _this;
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, oa), t(_this, "_lastScaleX", 1), t(_this, "_lastScaleY", 1), t(_this, "_filterScalingX", 1), t(_this, "_filterScalingY", 1), _this.filters = [], Object.assign(_this, oa.ownDefaults), _this.setOptions(s), _this.cacheKey = "texture".concat(ft()), _this.setElement("string" == typeof e ? (_this.canvas && Kt(_this.canvas.getElement()) || m()).getElementById(e) : e, s);
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oa, [
        {
            key: "getElement",
            value: function getElement() {
                return this._element;
            }
        },
        {
            key: "setElement",
            value: function setElement(t) {
                var e;
                var _$s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                this.removeTexture(this.cacheKey), this.removeTexture("".concat(this.cacheKey, "_filtered")), this._element = t, this._originalElement = t, this._setWidthHeight(_$s), null === (e = t.classList) || void 0 === e || e.add(oa.CSS_CANVAS), 0 !== this.filters.length && this.applyFilters(), this.resizeFilter && this.applyResizeFilters();
            }
        },
        {
            key: "removeTexture",
            value: function removeTexture(t) {
                var e = sa(!1);
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_instanceof$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, $o) && e.evictCachesForKey(t);
            }
        },
        {
            key: "dispose",
            value: function dispose() {
                var _this = this;
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oa.prototype), "dispose", this).call(this), this.removeTexture(this.cacheKey), this.removeTexture("".concat(this.cacheKey, "_filtered")), this._cacheContext = null, [
                    "_originalElement",
                    "_element",
                    "_filteredEl",
                    "_cacheCanvas"
                ].forEach(function(t) {
                    var e = _this[t];
                    e && p().dispose(e), _this[t] = void 0;
                });
            }
        },
        {
            key: "getCrossOrigin",
            value: function getCrossOrigin() {
                return this._originalElement && (this._originalElement.crossOrigin || null);
            }
        },
        {
            key: "getOriginalSize",
            value: function getOriginalSize() {
                var _$t = this.getElement();
                return _$t ? {
                    width: _$t.naturalWidth || _$t.width,
                    height: _$t.naturalHeight || _$t.height
                } : {
                    width: 0,
                    height: 0
                };
            }
        },
        {
            key: "_stroke",
            value: function _stroke(t) {
                if (!this.stroke || 0 === this.strokeWidth) return;
                var e = this.width / 2, _$s = this.height / 2;
                t.beginPath(), t.moveTo(-e, -_$s), t.lineTo(e, -_$s), t.lineTo(e, _$s), t.lineTo(-e, _$s), t.lineTo(-e, -_$s), t.closePath();
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                var e = [];
                return this.filters.forEach(function(t) {
                    t && e.push(t.toObject());
                }), s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oa.prototype), "toObject", this).call(this, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(na).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$t)))), {}, {
                    src: this.getSrc(),
                    crossOrigin: this.getCrossOrigin(),
                    filters: e
                }, this.resizeFilter ? {
                    resizeFilter: this.resizeFilter.toObject()
                } : {});
            }
        },
        {
            key: "hasCrop",
            value: function hasCrop() {
                return !!this.cropX || !!this.cropY || this.width < this._element.width || this.height < this._element.height;
            }
        },
        {
            key: "_toSVG",
            value: function _toSVG() {
                var _$t = [], e = this._element, _$s = -this.width / 2, i = -this.height / 2;
                var _$r = [], n = [], o = "", a = "";
                if (!e) return [];
                if (this.hasCrop()) {
                    var _$t1 = ft();
                    _$r.push('<clipPath id="imageCrop_' + _$t1 + '">\n', '\t<rect x="' + _$s + '" y="' + i + '" width="' + this.width + '" height="' + this.height + '" />\n', "</clipPath>\n"), o = ' clip-path="url(#imageCrop_' + _$t1 + ')" ';
                }
                if (this.imageSmoothing || (a = ' image-rendering="optimizeSpeed"'), _$t.push("\t<image ", "COMMON_PARTS", 'xlink:href="'.concat(this.getSvgSrc(!0), '" x="').concat(_$s - this.cropX, '" y="').concat(i - this.cropY, '" width="').concat(e.width || e.naturalWidth, '" height="').concat(e.height || e.naturalHeight, '"').concat(a).concat(o, "></image>\n")), this.stroke || this.strokeDashArray) {
                    var _$t2 = this.fill;
                    this.fill = null, n = [
                        '\t<rect x="'.concat(_$s, '" y="').concat(i, '" width="').concat(this.width, '" height="').concat(this.height, '" style="').concat(this.getSvgStyles(), '" />\n')
                    ], this.fill = _$t2;
                }
                return _$r = this.paintFirst !== K ? _$r.concat(n, _$t) : _$r.concat(_$t, n), _$r;
            }
        },
        {
            key: "getSrc",
            value: function getSrc(t) {
                var e = t ? this._element : this._originalElement;
                return e ? e.toDataURL ? e.toDataURL() : this.srcFromAttribute ? e.getAttribute("src") || "" : e.src : this.src || "";
            }
        },
        {
            key: "getSvgSrc",
            value: function getSvgSrc(t) {
                return this.getSrc(t);
            }
        },
        {
            key: "setSrc",
            value: function setSrc(t) {
                var _this = this;
                var _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, e = _ref.crossOrigin, _$s = _ref.signal;
                return It(t, {
                    crossOrigin: e,
                    signal: _$s
                }).then(function(t) {
                    void 0 !== e && _this.set({
                        crossOrigin: e
                    }), _this.setElement(t);
                });
            }
        },
        {
            key: "toString",
            value: function toString() {
                return '#<Image: { src: "'.concat(this.getSrc(), '" }>');
            }
        },
        {
            key: "applyResizeFilters",
            value: function applyResizeFilters() {
                var _$t = this.resizeFilter, e = this.minimumScaleTrigger, _$s = this.getTotalObjectScaling(), i = _$s.x, _$r = _$s.y, n = this._filteredEl || this._originalElement;
                if (this.group && this.set("dirty", !0), !_$t || i > e && _$r > e) return this._element = n, this._filterScalingX = 1, this._filterScalingY = 1, this._lastScaleX = i, void (this._lastScaleY = _$r);
                var o = vt(n), a = n.width, h = n.height;
                this._element = o, this._lastScaleX = _$t.scaleX = i, this._lastScaleY = _$t.scaleY = _$r, sa().applyFilters([
                    _$t
                ], n, a, h, this._element), this._filterScalingX = o.width / this._originalElement.width, this._filterScalingY = o.height / this._originalElement.height;
            }
        },
        {
            key: "applyFilters",
            value: function applyFilters() {
                var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.filters || [];
                if (_$t = _$t.filter(function(t) {
                    return t && !t.isNeutralState();
                }), this.set("dirty", !0), this.removeTexture("".concat(this.cacheKey, "_filtered")), 0 === _$t.length) return this._element = this._originalElement, this._filteredEl = void 0, this._filterScalingX = 1, void (this._filterScalingY = 1);
                var e = this._originalElement, _$s = e.naturalWidth || e.width, i = e.naturalHeight || e.height;
                if (this._element === this._originalElement) {
                    var _$t1 = vt({
                        width: _$s,
                        height: i
                    });
                    this._element = _$t1, this._filteredEl = _$t1;
                } else this._filteredEl && (this._element = this._filteredEl, this._filteredEl.getContext("2d").clearRect(0, 0, _$s, i), this._lastScaleX = 1, this._lastScaleY = 1);
                sa().applyFilters(_$t, this._originalElement, _$s, i, this._element, this.cacheKey), this._originalElement.width === this._element.width && this._originalElement.height === this._element.height || (this._filterScalingX = this._element.width / this._originalElement.width, this._filterScalingY = this._element.height / this._originalElement.height);
            }
        },
        {
            key: "_render",
            value: function _render(t) {
                t.imageSmoothingEnabled = this.imageSmoothing, !0 !== this.isMoving && this.resizeFilter && this._needsResize() && this.applyResizeFilters(), this._stroke(t), this._renderPaintInOrder(t);
            }
        },
        {
            key: "drawCacheOnCanvas",
            value: function drawCacheOnCanvas(t) {
                t.imageSmoothingEnabled = this.imageSmoothing, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oa.prototype), "drawCacheOnCanvas", this).call(this, t);
            }
        },
        {
            key: "shouldCache",
            value: function shouldCache() {
                return this.needsItsOwnCache();
            }
        },
        {
            key: "_renderFill",
            value: function _renderFill(t) {
                var e = this._element;
                if (!e) return;
                var _$s = this._filterScalingX, i = this._filterScalingY, _$r = this.width, n = this.height, o = Math.max(this.cropX, 0), a = Math.max(this.cropY, 0), h = e.naturalWidth || e.width, c = e.naturalHeight || e.height, l = o * _$s, u = a * i, d = Math.min(_$r * _$s, h - l), g = Math.min(n * i, c - u), f = -_$r / 2, p = -n / 2, m = Math.min(_$r, h / _$s - o), v = Math.min(n, c / i - a);
                e && t.drawImage(e, l, u, d, g, f, p, m, v);
            }
        },
        {
            key: "_needsResize",
            value: function _needsResize() {
                var _$t = this.getTotalObjectScaling();
                return _$t.x !== this._lastScaleX || _$t.y !== this._lastScaleY;
            }
        },
        {
            key: "_resetWidthHeight",
            value: function _resetWidthHeight() {
                this.set(this.getOriginalSize());
            }
        },
        {
            key: "_setWidthHeight",
            value: function _setWidthHeight() {
                var _ref = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, _$t = _ref.width, e = _ref.height;
                var _$s = this.getOriginalSize();
                this.width = _$t || _$s.width, this.height = e || _$s.height;
            }
        },
        {
            key: "parsePreserveAspectRatioAttribute",
            value: function parsePreserveAspectRatioAttribute() {
                var _$t = Xe(this.preserveAspectRatio || ""), e = this.width, _$s = this.height, i = {
                    width: e,
                    height: _$s
                };
                var _$r, n = this._element.width, o = this._element.height, a = 1, h = 1, c = 0, l = 0, u = 0, d = 0;
                return !_$t || _$t.alignX === j && _$t.alignY === j ? (a = e / n, h = _$s / o) : ("meet" === _$t.meetOrSlice && (a = h = qr(this._element, i), _$r = (e - n * a) / 2, "Min" === _$t.alignX && (c = -_$r), "Max" === _$t.alignX && (c = _$r), _$r = (_$s - o * h) / 2, "Min" === _$t.alignY && (l = -_$r), "Max" === _$t.alignY && (l = _$r)), "slice" === _$t.meetOrSlice && (a = h = Kr(this._element, i), _$r = n - e / a, "Mid" === _$t.alignX && (u = _$r / 2), "Max" === _$t.alignX && (u = _$r), _$r = o - _$s / h, "Mid" === _$t.alignY && (d = _$r / 2), "Max" === _$t.alignY && (d = _$r), n = e / a, o = _$s / h)), {
                    width: n,
                    height: o,
                    scaleX: a,
                    scaleY: h,
                    offsetLeft: c,
                    offsetTop: l,
                    cropX: u,
                    cropY: d
                };
            }
        }
    ], [
        {
            key: "getDefaults",
            value: function getDefaults() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oa), "getDefaults", this).call(this)), oa.ownDefaults);
            }
        },
        {
            key: "fromObject",
            value: function fromObject(t, e) {
                var _this = this;
                var _$r = t.filters, n = t.resizeFilter, o = t.src, a = t.crossOrigin, h = t.type, c = i(t, ra);
                return Promise.all([
                    It(o, s(s({}, e), {}, {
                        crossOrigin: a
                    })),
                    _$r && Bt(_$r, e),
                    n && Bt([
                        n
                    ], e),
                    Xt(c, e)
                ]).then(function(t) {
                    var _t = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(t, 4), _$e = _t[0], tmp = _t[1], _$i = tmp === void 0 ? [] : tmp, tmp1 = _t[2], _ref = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(tmp1 === void 0 ? [] : tmp1, 1), _$r = _ref[0], tmp2 = _t[3], n = tmp2 === void 0 ? {} : tmp2;
                    return new _this(_$e, s(s({}, c), {}, {
                        src: o,
                        filters: _$i,
                        resizeFilter: _$r
                    }, n));
                });
            }
        },
        {
            key: "fromURL",
            value: function fromURL(t) {
                var _this = this;
                var _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, tmp = _ref.crossOrigin, e = tmp === void 0 ? null : tmp, _$s = _ref.signal, i = arguments.length > 2 ? arguments[2] : void 0;
                return It(t, {
                    crossOrigin: e,
                    signal: _$s
                }).then(function(t) {
                    return new _this(t, i);
                });
            }
        },
        {
            key: "fromElement",
            value: function fromElement(_0) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function(t) {
                    var e, _$s, i;
                    var _arguments = arguments;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        e = _arguments.length > 1 && void 0 !== _arguments[1] ? _arguments[1] : {}, _$s = _arguments.length > 2 ? _arguments[2] : void 0;
                        i = Pr(t, this.ATTRIBUTE_NAMES, _$s);
                        return [
                            2,
                            this.fromURL(i["xlink:href"] || i.href, e, i).catch(function(t) {
                                return a("log", "Unable to parse Image", t), null;
                            })
                        ];
                    });
                }).apply(this, arguments);
            }
        }
    ]);
    return oa;
}(Li);
function aa(t) {
    if (!us.test(t.nodeName)) return {};
    var e = t.getAttribute("viewBox");
    var _$s, i, _$r = 1, n = 1, o = 0, a = 0;
    var h = t.getAttribute("width"), c = t.getAttribute("height"), l = t.getAttribute("x") || 0, u = t.getAttribute("y") || 0, d = !(e && gs.test(e)), g = !h || !c || "100%" === h || "100%" === c;
    var f = "", p = 0, m = 0;
    if (d && (l || u) && t.parentNode && "#document" !== t.parentNode.nodeName && (f = " translate(" + Be(l || "0") + " " + Be(u || "0") + ") ", _$s = (t.getAttribute("transform") || "") + f, t.setAttribute("transform", _$s), t.removeAttribute("x"), t.removeAttribute("y")), d && g) return {
        width: 0,
        height: 0
    };
    var v = {
        width: 0,
        height: 0
    };
    if (d) return v.width = Be(h), v.height = Be(c), v;
    var y = e.match(gs);
    o = -parseFloat(y[1]), a = -parseFloat(y[2]);
    var _ = parseFloat(y[3]), x = parseFloat(y[4]);
    v.minX = o, v.minY = a, v.viewBoxWidth = _, v.viewBoxHeight = x, g ? (v.width = _, v.height = x) : (v.width = Be(h), v.height = Be(c), _$r = v.width / _, n = v.height / x);
    var C = Xe(t.getAttribute("preserveAspectRatio") || "");
    if (C.alignX !== j && ("meet" === C.meetOrSlice && (n = _$r = _$r > n ? n : _$r), "slice" === C.meetOrSlice && (n = _$r = _$r > n ? _$r : n), p = v.width - _ * _$r, m = v.height - x * _$r, "Mid" === C.alignX && (p /= 2), "Mid" === C.alignY && (m /= 2), "Min" === C.alignX && (p = 0), "Min" === C.alignY && (m = 0)), 1 === _$r && 1 === n && 0 === o && 0 === a && 0 === l && 0 === u) return v;
    if ((l || u) && "#document" !== t.parentNode.nodeName && (f = " translate(" + Be(l || "0") + " " + Be(u || "0") + ") "), _$s = f + " matrix(" + _$r + " 0 0 " + n + " " + (o * _$r + p) + " " + (a * n + m) + ") ", "svg" === t.nodeName) {
        for(i = t.ownerDocument.createElementNS(ns, "g"); t.firstChild;)i.appendChild(t.firstChild);
        t.appendChild(i);
    } else i = t, i.removeAttribute("x"), i.removeAttribute("y"), _$s = i.getAttribute("transform") + _$s;
    return i.setAttribute("transform", _$s), v;
}
t(oa, "type", "Image"), t(oa, "cacheProperties", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Es).concat((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(na))), t(oa, "ownDefaults", {
    strokeWidth: 0,
    srcFromAttribute: !1,
    minimumScaleTrigger: .5,
    cropX: 0,
    cropY: 0,
    imageSmoothing: !0
}), t(oa, "CSS_CANVAS", "canvas-img"), t(oa, "ATTRIBUTE_NAMES", (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Zi).concat([
    "x",
    "y",
    "width",
    "height",
    "preserveAspectRatio",
    "xlink:href",
    "href",
    "crossOrigin",
    "image-rendering"
])), tt.setClass(oa), tt.setSVGClass(oa);
var ha = function(t) {
    return t.tagName.replace("svg:", "");
}, ca = Ve([
    "pattern",
    "defs",
    "symbol",
    "metadata",
    "clipPath",
    "mask",
    "desc"
]);
function la(t, e) {
    var _$s, i, _$r, n, o = [];
    for(_$r = 0, n = e.length; _$r < n; _$r++)_$s = e[_$r], i = t.getElementsByTagNameNS("http://www.w3.org/2000/svg", _$s), o = o.concat(Array.from(i));
    return o;
}
var ua = [
    "gradientTransform",
    "x1",
    "x2",
    "y1",
    "y2",
    "gradientUnits",
    "cx",
    "cy",
    "r",
    "fx",
    "fy"
], da = "xlink:href";
function ga(t, e) {
    var _$s;
    var i = (null === (_$s = e.getAttribute(da)) || void 0 === _$s ? void 0 : _$s.slice(1)) || "", _$r = t.getElementById(i);
    if (_$r && _$r.getAttribute(da) && ga(t, _$r), _$r && (ua.forEach(function(t) {
        var _$s = _$r.getAttribute(t);
        !e.hasAttribute(t) && _$s && e.setAttribute(t, _$s);
    }), !e.children.length)) {
        var _$t = _$r.cloneNode(!0);
        for(; _$t.firstChild;)e.appendChild(_$t.firstChild);
    }
    e.removeAttribute(da);
}
var fa = [
    "linearGradient",
    "radialGradient",
    "svg:linearGradient",
    "svg:radialGradient"
];
function pa(t) {
    var e = t.getElementsByTagName("style"), i = {};
    for(var _$t = 0; _$t < e.length; _$t++){
        var _$r = (e[_$t].textContent || "").replace(/\/\*[\s\S]*?\*\//g, "");
        "" !== _$r.trim() && _$r.split("}").filter(function(t, e, s) {
            return s.length > 1 && t.trim();
        }).forEach(function(t) {
            if ((t.match(/{/g) || []).length > 1 && t.trim().startsWith("@")) return;
            var e = t.split("{"), _$r = {}, n = e[1].trim().split(";").filter(function(t) {
                return t.trim();
            });
            for(var _$t = 0; _$t < n.length; _$t++){
                var e1 = n[_$t].split(":"), _$s = e1[0].trim(), i1 = e1[1].trim();
                _$r[_$s] = i1;
            }
            (t = e[0].trim()).split(",").forEach(function(t) {
                "" !== (t = t.replace(/^svg/i, "").trim()) && (i[t] = s(s({}, i[t] || {}), _$r));
            });
        });
    }
    return i;
}
var ma = function(t) {
    return tt.getSVGClass(ha(t).toLowerCase());
};
var va = /*#__PURE__*/ function() {
    "use strict";
    function va(t, e, s, i, r) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, va);
        this.elements = t, this.options = e, this.reviver = s, this.regexUrl = /^url\(['"]?#([^'"]+)['"]?\)/g, this.doc = i, this.clipPaths = r, this.gradientDefs = function(t) {
            var _$e = la(t, fa), _$s = {};
            var _$i = _$e.length;
            for(; _$i--;){
                var _$r = _$e[_$i];
                _$r.getAttribute("xlink:href") && ga(t, _$r);
                var n = _$r.getAttribute("id");
                n && (_$s[n] = _$r);
            }
            return _$s;
        }(i), this.cssRules = pa(i);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(va, [
        {
            key: "parse",
            value: function parse() {
                var _this = this;
                return Promise.all(this.elements.map(function(t) {
                    return _this.createObject(t);
                }));
            }
        },
        {
            key: "createObject",
            value: function createObject(t) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var e, _$s;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                e = ma(t);
                                if (!e) return [
                                    3,
                                    3
                                ];
                                return [
                                    4,
                                    e.fromElement(t, this.options, this.cssRules)
                                ];
                            case 1:
                                _$s = _state.sent();
                                this.resolveGradient(_$s, t, K), this.resolveGradient(_$s, t, J), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_instanceof$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_$s, oa) && _$s._originalElement ? Dn(_$s, _$s.parsePreserveAspectRatioAttribute()) : Dn(_$s);
                                return [
                                    4,
                                    this.resolveClipPath(_$s, t)
                                ];
                            case 2:
                                return [
                                    2,
                                    (_state.sent(), this.reviver && this.reviver(t, _$s), _$s)
                                ];
                            case 3:
                                return [
                                    2,
                                    null
                                ];
                        }
                    });
                }).call(this);
            }
        },
        {
            key: "extractPropertyDefinition",
            value: function extractPropertyDefinition(t, e, s) {
                var i = t[e], _$r = this.regexUrl;
                if (!_$r.test(i)) return;
                _$r.lastIndex = 0;
                var n = _$r.exec(i)[1];
                return _$r.lastIndex = 0, s[n];
            }
        },
        {
            key: "resolveGradient",
            value: function resolveGradient(t, e, i) {
                var _$r = this.extractPropertyDefinition(t, i, this.gradientDefs);
                if (_$r) {
                    var n = e.getAttribute(i + "-opacity"), o = $n.fromElement(_$r, t, s(s({}, this.options), {}, {
                        opacity: n
                    }));
                    t.set(i, o);
                }
            }
        },
        {
            key: "resolveClipPath",
            value: function resolveClipPath(t, e, s) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var _this, i, _$r, n, o, a, h, c, l, _tmp, _Dt, u, d, g, f, p, m;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        switch(_state.label){
                            case 0:
                                _this = this;
                                i = this.extractPropertyDefinition(t, "clipPath", this.clipPaths);
                                if (!i) return [
                                    3,
                                    4
                                ];
                                _$r = wt(t.calcTransformMatrix()), n = i[0].parentElement;
                                o = e;
                                for(; !s && o.parentElement && o.getAttribute("clip-path") !== t.clipPath;)o = o.parentElement;
                                o.parentElement.appendChild(n);
                                a = wr("".concat(o.getAttribute("transform") || "", " ").concat(n.getAttribute("originalTransform") || ""));
                                n.setAttribute("transform", "matrix(".concat(a.join(","), ")"));
                                return [
                                    4,
                                    Promise.all(i.map(function(t) {
                                        return ma(t).fromElement(t, _this.options, _this.cssRules).then(function(t) {
                                            return Dn(t), t.fillRule = t.clipRule, delete t.clipRule, t;
                                        });
                                    }))
                                ];
                            case 1:
                                h = _state.sent(), c = 1 === h.length ? h[0] : new Ur(h), l = Tt(_$r, c.calcTransformMatrix());
                                _tmp = c.clipPath;
                                if (!_tmp) return [
                                    3,
                                    3
                                ];
                                return [
                                    4,
                                    this.resolveClipPath(c, o, n.getAttribute("clip-path") ? o : void 0)
                                ];
                            case 2:
                                _tmp = _state.sent();
                                _state.label = 3;
                            case 3:
                                _tmp;
                                _Dt = Dt(l), u = _Dt.scaleX, d = _Dt.scaleY, g = _Dt.angle, f = _Dt.skewX, p = _Dt.translateX, m = _Dt.translateY;
                                c.set({
                                    flipX: !1,
                                    flipY: !1
                                }), c.set({
                                    scaleX: u,
                                    scaleY: d,
                                    angle: g,
                                    skewX: f,
                                    skewY: 0
                                }), c.setPositionByOrigin(new ot(p, m), D, D), t.clipPath = c;
                                return [
                                    3,
                                    5
                                ];
                            case 4:
                                delete t.clipPath;
                                _state.label = 5;
                            case 5:
                                return [
                                    2
                                ];
                        }
                    });
                }).call(this);
            }
        }
    ]);
    return va;
}();
var ya = function(t) {
    return ls.test(ha(t));
}, _a = function() {
    return {
        objects: [],
        elements: [],
        options: {},
        allElements: []
    };
};
function xa(_0, _1) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function(t, e) {
        var _ref, i, _$r, n, o, h, l, u, d, _tmp;
        var _arguments = arguments;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
            switch(_state.label){
                case 0:
                    _ref = _arguments.length > 2 && void 0 !== _arguments[2] ? _arguments[2] : {}, i = _ref.crossOrigin, _$r = _ref.signal;
                    if (_$r && _$r.aborted) return [
                        2,
                        (a("log", new c("parseSVGDocument")), _a())
                    ];
                    n = t.documentElement;
                    !function(t) {
                        var _$e = la(t, [
                            "use",
                            "svg:use"
                        ]), _$s = [
                            "x",
                            "y",
                            "xlink:href",
                            "href",
                            "transform"
                        ];
                        var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;
                        try {
                            var _loop = function() {
                                var i = _step.value;
                                var _$e = i.attributes, _$r = {};
                                var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;
                                try {
                                    for(var _iterator = _$e[Symbol.iterator](), _step1; !(_iteratorNormalCompletion = (_step1 = _iterator.next()).done); _iteratorNormalCompletion = true){
                                        var _$t = _step1.value;
                                        _$t.value && (_$r[_$t.name] = _$t.value);
                                    }
                                } catch (err) {
                                    _didIteratorError = true;
                                    _iteratorError = err;
                                } finally{
                                    try {
                                        if (!_iteratorNormalCompletion && _iterator.return != null) {
                                            _iterator.return();
                                        }
                                    } finally{
                                        if (_didIteratorError) {
                                            throw _iteratorError;
                                        }
                                    }
                                }
                                var n = (_$r["xlink:href"] || _$r.href || "").slice(1);
                                if ("" === n) return {
                                    v: void void 0
                                };
                                var o = t.getElementById(n);
                                if (null === o) return {
                                    v: void void 0
                                };
                                var a = o.cloneNode(!0);
                                var h = a.attributes, c = {};
                                var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;
                                try {
                                    for(var _iterator1 = h[Symbol.iterator](), _step2; !(_iteratorNormalCompletion1 = (_step2 = _iterator1.next()).done); _iteratorNormalCompletion1 = true){
                                        var _$t1 = _step2.value;
                                        _$t1.value && (c[_$t1.name] = _$t1.value);
                                    }
                                } catch (err) {
                                    _didIteratorError1 = true;
                                    _iteratorError1 = err;
                                } finally{
                                    try {
                                        if (!_iteratorNormalCompletion1 && _iterator1.return != null) {
                                            _iterator1.return();
                                        }
                                    } finally{
                                        if (_didIteratorError1) {
                                            throw _iteratorError1;
                                        }
                                    }
                                }
                                var tmp = _$r.x, l = tmp === void 0 ? 0 : tmp, tmp1 = _$r.y, u = tmp1 === void 0 ? 0 : tmp1, tmp2 = _$r.transform, d = tmp2 === void 0 ? "" : tmp2, g = "".concat(d, " ").concat(c.transform || "", " translate(").concat(l, ", ").concat(u, ")");
                                if (aa(a), /^svg$/i.test(a.nodeName)) {
                                    var _t;
                                    var _$t2 = a.ownerDocument.createElementNS(ns, "g");
                                    Object.entries(c).forEach(function(e) {
                                        var _e = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, 2), _$s = _e[0], i = _e[1];
                                        return _$t2.setAttributeNS(ns, _$s, i);
                                    }), (_t = _$t2).append.apply(_t, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(a.childNodes)), a = _$t2;
                                }
                                var _iteratorNormalCompletion2 = true, _didIteratorError2 = false, _iteratorError2 = undefined;
                                try {
                                    var _loop = function() {
                                        var _$t = _step3.value;
                                        if (!_$t) return "continue";
                                        var _$e = _$t.name, i = _$t.value;
                                        if (!_$s.includes(_$e)) if ("style" === _$e) {
                                            var _$t1 = {};
                                            kr(i, _$t1), Object.entries(c).forEach(function(e) {
                                                var _e = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(e, 2), _$s = _e[0], i = _e[1];
                                                _$t1[_$s] = i;
                                            }), kr(c.style || "", _$t1);
                                            var _$s1 = Object.entries(_$t1).map(function(t) {
                                                return t.join(":");
                                            }).join(";");
                                            a.setAttribute(_$e, _$s1);
                                        } else !c[_$e] && a.setAttribute(_$e, i);
                                    };
                                    for(var _iterator2 = _$e[Symbol.iterator](), _step3; !(_iteratorNormalCompletion2 = (_step3 = _iterator2.next()).done); _iteratorNormalCompletion2 = true)_loop();
                                } catch (err) {
                                    _didIteratorError2 = true;
                                    _iteratorError2 = err;
                                } finally{
                                    try {
                                        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                                            _iterator2.return();
                                        }
                                    } finally{
                                        if (_didIteratorError2) {
                                            throw _iteratorError2;
                                        }
                                    }
                                }
                                a.setAttribute("transform", g), a.setAttribute("instantiated_by_use", "1"), a.removeAttribute("id"), i.parentNode.replaceChild(a, i);
                            };
                            for(var _iterator = _$e[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){
                                var _ret = _loop();
                                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_type_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_ret) === "object") return _ret.v;
                            }
                        } catch (err) {
                            _didIteratorError = true;
                            _iteratorError = err;
                        } finally{
                            try {
                                if (!_iteratorNormalCompletion && _iterator.return != null) {
                                    _iterator.return();
                                }
                            } finally{
                                if (_didIteratorError) {
                                    throw _iteratorError;
                                }
                            }
                        }
                    }(t);
                    o = Array.from(n.getElementsByTagName("*")), h = s(s({}, aa(n)), {}, {
                        crossOrigin: i,
                        signal: _$r
                    }), l = o.filter(function(t) {
                        return aa(t), ya(t) && !function(t) {
                            var _$e = t;
                            for(; _$e && (_$e = _$e.parentElement);)if (_$e && _$e.nodeName && ca.test(ha(_$e)) && !_$e.getAttribute("instantiated_by_use")) return !0;
                            return !1;
                        }(t);
                    });
                    if (!l || l && !l.length) return [
                        2,
                        s(s({}, _a()), {}, {
                            options: h,
                            allElements: o
                        })
                    ];
                    u = {};
                    o.filter(function(t) {
                        return "clipPath" === ha(t);
                    }).forEach(function(t) {
                        t.setAttribute("originalTransform", t.getAttribute("transform") || "");
                        var _$e = t.getAttribute("id");
                        u[_$e] = Array.from(t.getElementsByTagName("*")).filter(function(t) {
                            return ya(t);
                        });
                    });
                    d = new va(l, h, e, t, u);
                    _tmp = {};
                    return [
                        4,
                        d.parse()
                    ];
                case 1:
                    return [
                        2,
                        (_tmp.objects = _state.sent(), _tmp.elements = l, _tmp.options = h, _tmp.allElements = o, _tmp)
                    ];
            }
        });
    }).apply(this, arguments);
}
function Ca(t, e, s) {
    return xa((new (v()).DOMParser).parseFromString(t.trim(), "text/xml"), e, s);
}
function ba(t, e) {
    var _$s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
    return new Promise(function(e, i) {
        kn(t.replace(/^\n\s*/, "").trim(), {
            onComplete: function(t) {
                var _$s = t.responseXML;
                _$s && e(_$s), i();
            },
            signal: _$s.signal
        });
    }).then(function(t) {
        return xa(t, e, _$s);
    }).catch(function() {
        return _a();
    });
}
var Sa = W, wa = function(t) {
    return function wa(e, s, i) {
        var _$r = i.points, n = i.pathOffset;
        return new ot(_$r[t]).subtract(n).transform(Tt(i.getViewportTransform(), i.calcTransformMatrix()));
    };
}, Ta = function(t, e, s, i) {
    var _$r = e.target, n = e.pointIndex, o = _$r, a = me(new ot(s, i), void 0, o.calcOwnMatrix());
    return o.points[n] = a.add(o.pathOffset), o.setDimensions(), o.set("dirty", !0), !0;
}, Oa = function(t, e) {
    return function Oa(i, r, n, o) {
        var a = r.target, h = new ot(a.points[(t > 0 ? t : a.points.length) - 1]), c = h.subtract(a.pathOffset).transform(a.calcOwnMatrix()), l = e(i, s(s({}, r), {}, {
            pointIndex: t
        }), n, o), u = h.subtract(a.pathOffset).transform(a.calcOwnMatrix()).subtract(c);
        return a.left -= u.x, a.top -= u.y, l;
    };
}, ka = function(t) {
    return si(Sa, Oa(t, Ta));
};
var Da = function(t, e, s) {
    var i = t.path, _$r = t.pathOffset, n = i[e];
    return new ot(n[s] - _$r.x, n[s + 1] - _$r.y).transform(Tt(t.getViewportTransform(), t.calcTransformMatrix()));
};
function Ma(t, e, s) {
    var _this = this, i = _this.commandIndex, _$r = _this.pointIndex;
    return Da(s, i, _$r);
}
function Pa(t, e, i, r) {
    var n = e.target, _this = this, o = _this.commandIndex, a = _this.pointIndex, h = function(t, e, s, i, r) {
        var n = t.path, o = t.pathOffset, a = n[(i > 0 ? i : n.length) - 1], h = new ot(a[r], a[r + 1]), c = h.subtract(o).transform(t.calcOwnMatrix()), l = me(new ot(e, s), void 0, t.calcOwnMatrix());
        n[i][r] = l.x + o.x, n[i][r + 1] = l.y + o.y, t.setDimensions();
        var u = h.subtract(t.pathOffset).transform(t.calcOwnMatrix()).subtract(c);
        return t.left -= u.x, t.top -= u.y, t.set("dirty", !0), !0;
    }(n, i, r, o, a);
    return _e(this.actionName, s(s({}, Oe(t, e, i, r)), {}, {
        commandIndex: o,
        pointIndex: a
    })), h;
}
var Ea = /*#__PURE__*/ function(ai) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ea, ai);
    function Ea(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ea);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ea, [
            t
        ]);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ea, [
        {
            key: "render",
            value: function render(t, e, i, r, n) {
                var o = s(s({}, r), {}, {
                    cornerColor: this.controlFill,
                    cornerStrokeColor: this.controlStroke,
                    transparentCorners: !this.controlFill
                });
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ea.prototype), "render", this).call(this, t, e, i, o, n);
            }
        }
    ]);
    return Ea;
}(ai);
var Aa = /*#__PURE__*/ function(Ea) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Aa, Ea);
    function Aa(t) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Aa);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Aa, [
            t
        ]);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Aa, [
        {
            key: "render",
            value: function render(t, e, s, i, r) {
                var n = r.path, _this = this, o = _this.commandIndex, a = _this.pointIndex, h = _this.connectToCommandIndex, c = _this.connectToPointIndex;
                t.save(), t.strokeStyle = this.controlStroke, this.connectionDashArray && t.setLineDash(this.connectionDashArray);
                var _n_o = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_sliced_to_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(n[o], 1), l = _n_o[0], u = Da(r, h, c);
                if ("Q" === l) {
                    var _$i = Da(r, o, a + 2);
                    t.moveTo(_$i.x, _$i.y), t.lineTo(e, s);
                } else t.moveTo(e, s);
                t.lineTo(u.x, u.y), t.stroke(), t.restore(), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Aa.prototype), "render", this).call(this, t, e, s, i, r);
            }
        }
    ]);
    return Aa;
}(Ea);
var ja = function(t, e, i, r, n, o) {
    return new (i ? Aa : Ea)(s(s({
        commandIndex: t,
        pointIndex: e,
        actionName: "modifyPath",
        positionHandler: Ma,
        actionHandler: Pa,
        connectToCommandIndex: n,
        connectToPointIndex: o
    }, r), i ? r.controlPointStyle : r.pointStyle));
};
var Fa = Object.freeze({
    __proto__: null,
    changeWidth: ri,
    createObjectDefaultControls: Pi,
    createPathControls: function createPathControls(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        var _$s = {};
        var i = "M";
        return t.path.forEach(function(t, r) {
            var n = t[0];
            switch("Z" !== n && (_$s["c_".concat(r, "_").concat(n)] = ja(r, t.length - 2, !1, e)), n){
                case "C":
                    _$s["c_".concat(r, "_C_CP_1")] = ja(r, 1, !0, e, r - 1, function(t) {
                        return "C" === t ? 5 : "Q" === t ? 3 : 1;
                    }(i)), _$s["c_".concat(r, "_C_CP_2")] = ja(r, 3, !0, e, r, 5);
                    break;
                case "Q":
                    _$s["c_".concat(r, "_Q_CP_1")] = ja(r, 1, !0, e, r, 3);
            }
            i = n;
        }), _$s;
    },
    createPolyActionHandler: ka,
    createPolyControls: function createPolyControls(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        var i = {};
        for(var _$r = 0; _$r < ("number" == typeof t ? t : t.points.length); _$r++)i["p".concat(_$r)] = new ai(s({
            actionName: Sa,
            positionHandler: wa(_$r),
            actionHandler: ka(_$r)
        }, e));
        return i;
    },
    createPolyPositionHandler: wa,
    createResizeControls: Ei,
    createTextboxDefaultControls: Ai,
    dragHandler: Me,
    factoryPolyActionHandler: Oa,
    getLocalPoint: De,
    polyActionHandler: Ta,
    renderCircleControl: ni,
    renderSquareControl: oi,
    rotationStyleHandler: hi,
    rotationWithSnapping: ci,
    scaleCursorStyleHandler: gi,
    scaleOrSkewActionName: Oi,
    scaleSkewCursorStyleHandler: ki,
    scalingEqually: pi,
    scalingX: mi,
    scalingXOrSkewingY: Di,
    scalingY: vi,
    scalingYOrSkewingX: Mi,
    skewCursorStyleHandler: Ci,
    skewHandlerX: Si,
    skewHandlerY: wi,
    wrapWithFireEvent: si,
    wrapWithFixedAnchor: ii
});
var La = function(t) {
    return void 0 !== t.webgl;
}, Ra = function(t, e) {
    var _$s = vt({
        width: t,
        height: e
    }), i = pt().getContext("webgl"), _$r = {
        imageBuffer: new ArrayBuffer(t * e * 4)
    }, n = {
        destinationWidth: t,
        destinationHeight: e,
        targetCanvas: _$s
    };
    var o;
    o = v().performance.now(), $o.prototype.copyGLTo2D.call(_$r, i, n);
    var a = v().performance.now() - o;
    o = v().performance.now(), $o.prototype.copyGLTo2DPutImageData.call(_$r, i, n);
    return a > v().performance.now() - o;
}, Ia = "precision highp float", Ba = "\n    ".concat(Ia, ";\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n    void main() {\n      gl_FragColor = texture2D(uTexture, vTexCoord);\n    }"), Xa = [
    "type"
], Ya = [
    "type"
], Wa = new RegExp(Ia, "g");
var Va = /*#__PURE__*/ function() {
    "use strict";
    function Va() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Va);
        var _$t = i(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, Xa);
        Object.assign(this, this.constructor.defaults, _$t);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Va, [
        {
            key: "type",
            get: function get() {
                return this.constructor.type;
            }
        },
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return Ba;
            }
        },
        {
            key: "getVertexSource",
            value: function getVertexSource() {
                return "\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    void main() {\n      vTexCoord = aPosition;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }";
            }
        },
        {
            key: "createProgram",
            value: function createProgram(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.getFragmentSource(), _$s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.getVertexSource();
                var _p = p(), _p_WebGLProbe = _p.WebGLProbe, tmp = _p_WebGLProbe.GLPrecision, i = tmp === void 0 ? "highp" : tmp;
                "highp" !== i && (e = e.replace(Wa, Ia.replace("highp", i)));
                var _$r = t.createShader(t.VERTEX_SHADER), n = t.createShader(t.FRAGMENT_SHADER), o = t.createProgram();
                if (!_$r || !n || !o) throw new h("Vertex, fragment shader or program creation error");
                if (t.shaderSource(_$r, _$s), t.compileShader(_$r), !t.getShaderParameter(_$r, t.COMPILE_STATUS)) throw new h("Vertex shader compile error for ".concat(this.type, ": ").concat(t.getShaderInfoLog(_$r)));
                if (t.shaderSource(n, e), t.compileShader(n), !t.getShaderParameter(n, t.COMPILE_STATUS)) throw new h("Fragment shader compile error for ".concat(this.type, ": ").concat(t.getShaderInfoLog(n)));
                if (t.attachShader(o, _$r), t.attachShader(o, n), t.linkProgram(o), !t.getProgramParameter(o, t.LINK_STATUS)) throw new h('Shader link error for "'.concat(this.type, '" ').concat(t.getProgramInfoLog(o)));
                var a = this.getUniformLocations(t, o) || {};
                return a.uStepW = t.getUniformLocation(o, "uStepW"), a.uStepH = t.getUniformLocation(o, "uStepH"), {
                    program: o,
                    attributeLocations: this.getAttributeLocations(t, o),
                    uniformLocations: a
                };
            }
        },
        {
            key: "getAttributeLocations",
            value: function getAttributeLocations(t, e) {
                return {
                    aPosition: t.getAttribLocation(e, "aPosition")
                };
            }
        },
        {
            key: "getUniformLocations",
            value: function getUniformLocations(t, e) {
                var _$s = this.constructor.uniformLocations, i = {};
                for(var _$r = 0; _$r < _$s.length; _$r++)i[_$s[_$r]] = t.getUniformLocation(e, _$s[_$r]);
                return i;
            }
        },
        {
            key: "sendAttributeData",
            value: function sendAttributeData(t, e, s) {
                var i = e.aPosition, _$r = t.createBuffer();
                t.bindBuffer(t.ARRAY_BUFFER, _$r), t.enableVertexAttribArray(i), t.vertexAttribPointer(i, 2, t.FLOAT, !1, 0, 0), t.bufferData(t.ARRAY_BUFFER, s, t.STATIC_DRAW);
            }
        },
        {
            key: "_setupFrameBuffer",
            value: function _setupFrameBuffer(t) {
                var e = t.context;
                if (t.passes > 1) {
                    var _$s = t.destinationWidth, i = t.destinationHeight;
                    t.sourceWidth === _$s && t.sourceHeight === i || (e.deleteTexture(t.targetTexture), t.targetTexture = t.filterBackend.createTexture(e, _$s, i)), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, t.targetTexture, 0);
                } else e.bindFramebuffer(e.FRAMEBUFFER, null), e.finish();
            }
        },
        {
            key: "_swapTextures",
            value: function _swapTextures(t) {
                t.passes--, t.pass++;
                var e = t.targetTexture;
                t.targetTexture = t.sourceTexture, t.sourceTexture = e;
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState(t) {
                return !1;
            }
        },
        {
            key: "applyTo",
            value: function applyTo(t) {
                La(t) ? (this._setupFrameBuffer(t), this.applyToWebGL(t), this._swapTextures(t)) : this.applyTo2d(t);
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {}
        },
        {
            key: "getCacheKey",
            value: function getCacheKey() {
                return this.type;
            }
        },
        {
            key: "retrieveShader",
            value: function retrieveShader(t) {
                var e = this.getCacheKey();
                return t.programCache[e] || (t.programCache[e] = this.createProgram(t.context)), t.programCache[e];
            }
        },
        {
            key: "applyToWebGL",
            value: function applyToWebGL(t) {
                var e = t.context, _$s = this.retrieveShader(t);
                0 === t.pass && t.originalTexture ? e.bindTexture(e.TEXTURE_2D, t.originalTexture) : e.bindTexture(e.TEXTURE_2D, t.sourceTexture), e.useProgram(_$s.program), this.sendAttributeData(e, _$s.attributeLocations, t.aPosition), e.uniform1f(_$s.uniformLocations.uStepW, 1 / t.sourceWidth), e.uniform1f(_$s.uniformLocations.uStepH, 1 / t.sourceHeight), this.sendUniformData(e, _$s.uniformLocations), e.viewport(0, 0, t.destinationWidth, t.destinationHeight), e.drawArrays(e.TRIANGLE_STRIP, 0, 4);
            }
        },
        {
            key: "bindAdditionalTexture",
            value: function bindAdditionalTexture(t, e, s) {
                t.activeTexture(s), t.bindTexture(t.TEXTURE_2D, e), t.activeTexture(t.TEXTURE0);
            }
        },
        {
            key: "unbindAdditionalTexture",
            value: function unbindAdditionalTexture(t, e) {
                t.activeTexture(e), t.bindTexture(t.TEXTURE_2D, null), t.activeTexture(t.TEXTURE0);
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {}
        },
        {
            key: "createHelpLayer",
            value: function createHelpLayer(t) {
                if (!t.helpLayer) {
                    var e = t.sourceWidth, _$s = t.sourceHeight, i = vt({
                        width: e,
                        height: _$s
                    });
                    t.helpLayer = i;
                }
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                var _this = this;
                var _$t = Object.keys(this.constructor.defaults || {});
                return s({
                    type: this.type
                }, _$t.reduce(function(t, e) {
                    return t[e] = _this[e], t;
                }, {}));
            }
        },
        {
            key: "toJSON",
            value: function toJSON() {
                return this.toObject();
            }
        }
    ], [
        {
            key: "fromObject",
            value: function fromObject(t, e) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        return [
                            2,
                            new this(i(t, Ya))
                        ];
                    });
                }).call(this);
            }
        }
    ]);
    return Va;
}();
t(Va, "type", "BaseFilter"), t(Va, "uniformLocations", []);
var za = {
    multiply: "gl_FragColor.rgb *= uColor.rgb;\n",
    screen: "gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",
    add: "gl_FragColor.rgb += uColor.rgb;\n",
    difference: "gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",
    subtract: "gl_FragColor.rgb -= uColor.rgb;\n",
    lighten: "gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",
    darken: "gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",
    exclusion: "gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",
    overlay: "\n    if (uColor.r < 0.5) {\n      gl_FragColor.r *= 2.0 * uColor.r;\n    } else {\n      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n    }\n    if (uColor.g < 0.5) {\n      gl_FragColor.g *= 2.0 * uColor.g;\n    } else {\n      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n    }\n    if (uColor.b < 0.5) {\n      gl_FragColor.b *= 2.0 * uColor.b;\n    } else {\n      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n    }\n    ",
    tint: "\n    gl_FragColor.rgb *= (1.0 - uColor.a);\n    gl_FragColor.rgb += uColor.rgb;\n    "
};
var Ga = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ga, Va);
    function Ga() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ga);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ga, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ga, [
        {
            key: "getCacheKey",
            value: function getCacheKey() {
                return "".concat(this.type, "_").concat(this.mode);
            }
        },
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec4 uColor;\n      varying vec2 vTexCoord;\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        gl_FragColor = color;\n        if (color.a > 0.0) {\n          ".concat(za[this.mode], "\n        }\n      }\n      ");
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data;
                var _$s = new Ie(this.color).getSource(), i = this.alpha, _$r = _$s[0] * i, n = _$s[1] * i, o = _$s[2] * i, a = 1 - i;
                for(var _$t = 0; _$t < e.length; _$t += 4){
                    var _$s1 = e[_$t], i1 = e[_$t + 1], h = e[_$t + 2];
                    var c = void 0, l = void 0, u = void 0;
                    switch(this.mode){
                        case "multiply":
                            c = _$s1 * _$r / 255, l = i1 * n / 255, u = h * o / 255;
                            break;
                        case "screen":
                            c = 255 - (255 - _$s1) * (255 - _$r) / 255, l = 255 - (255 - i1) * (255 - n) / 255, u = 255 - (255 - h) * (255 - o) / 255;
                            break;
                        case "add":
                            c = _$s1 + _$r, l = i1 + n, u = h + o;
                            break;
                        case "difference":
                            c = Math.abs(_$s1 - _$r), l = Math.abs(i1 - n), u = Math.abs(h - o);
                            break;
                        case "subtract":
                            c = _$s1 - _$r, l = i1 - n, u = h - o;
                            break;
                        case "darken":
                            c = Math.min(_$s1, _$r), l = Math.min(i1, n), u = Math.min(h, o);
                            break;
                        case "lighten":
                            c = Math.max(_$s1, _$r), l = Math.max(i1, n), u = Math.max(h, o);
                            break;
                        case "overlay":
                            c = _$r < 128 ? 2 * _$s1 * _$r / 255 : 255 - 2 * (255 - _$s1) * (255 - _$r) / 255, l = n < 128 ? 2 * i1 * n / 255 : 255 - 2 * (255 - i1) * (255 - n) / 255, u = o < 128 ? 2 * h * o / 255 : 255 - 2 * (255 - h) * (255 - o) / 255;
                            break;
                        case "exclusion":
                            c = _$r + _$s1 - 2 * _$r * _$s1 / 255, l = n + i1 - 2 * n * i1 / 255, u = o + h - 2 * o * h / 255;
                            break;
                        case "tint":
                            c = _$r + _$s1 * a, l = n + i1 * a, u = o + h * a;
                    }
                    e[_$t] = c, e[_$t + 1] = l, e[_$t + 2] = u;
                }
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                var _$s = new Ie(this.color).getSource();
                _$s[0] = this.alpha * _$s[0] / 255, _$s[1] = this.alpha * _$s[1] / 255, _$s[2] = this.alpha * _$s[2] / 255, _$s[3] = this.alpha, t.uniform4fv(e.uColor, _$s);
            }
        }
    ]);
    return Ga;
}(Va);
t(Ga, "defaults", {
    color: "#F95C63",
    mode: "multiply",
    alpha: 1
}), t(Ga, "type", "BlendColor"), t(Ga, "uniformLocations", [
    "uColor"
]), tt.setClass(Ga);
var Ha = {
    multiply: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.rgba *= color2.rgba;\n      gl_FragColor = color;\n    }\n    ",
    mask: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.a = color2.a;\n      gl_FragColor = color;\n    }\n    "
}, Na = [
    "type",
    "image"
];
var Ua = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ua, Va);
    function Ua() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ua);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ua, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ua, [
        {
            key: "getCacheKey",
            value: function getCacheKey() {
                return "".concat(this.type, "_").concat(this.mode);
            }
        },
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return Ha[this.mode];
            }
        },
        {
            key: "getVertexSource",
            value: function getVertexSource() {
                return "\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    uniform mat3 uTransformMatrix;\n    void main() {\n      vTexCoord = aPosition;\n      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }\n    ";
            }
        },
        {
            key: "applyToWebGL",
            value: function applyToWebGL(t) {
                var e = t.context, _$s = this.createTexture(t.filterBackend, this.image);
                this.bindAdditionalTexture(e, _$s, e.TEXTURE1), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ua.prototype), "applyToWebGL", this).call(this, t), this.unbindAdditionalTexture(e, e.TEXTURE1);
            }
        },
        {
            key: "createTexture",
            value: function createTexture(t, e) {
                return t.getCachedTexture(e.cacheKey, e.getElement());
            }
        },
        {
            key: "calculateMatrix",
            value: function calculateMatrix() {
                var _$t = this.image, _t_getElement = _$t.getElement(), e = _t_getElement.width, _$s = _t_getElement.height;
                return [
                    1 / _$t.scaleX,
                    0,
                    0,
                    0,
                    1 / _$t.scaleY,
                    0,
                    -_$t.left / e,
                    -_$t.top / _$s,
                    1
                ];
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data, _$s = _t_imageData.width, i = _t_imageData.height, _t_filterBackend = t.filterBackend, _$r = _t_filterBackend.resources;
                var n = this.image;
                _$r.blendImage || (_$r.blendImage = pt());
                var o = _$r.blendImage, a = o.getContext("2d");
                o.width !== _$s || o.height !== i ? (o.width = _$s, o.height = i) : a.clearRect(0, 0, _$s, i), a.setTransform(n.scaleX, 0, 0, n.scaleY, n.left, n.top), a.drawImage(n.getElement(), 0, 0, _$s, i);
                var h = a.getImageData(0, 0, _$s, i).data;
                for(var _$t = 0; _$t < e.length; _$t += 4){
                    var _$s1 = e[_$t], i1 = e[_$t + 1], _$r1 = e[_$t + 2], n1 = e[_$t + 3], o1 = h[_$t], a1 = h[_$t + 1], c = h[_$t + 2], l = h[_$t + 3];
                    switch(this.mode){
                        case "multiply":
                            e[_$t] = _$s1 * o1 / 255, e[_$t + 1] = i1 * a1 / 255, e[_$t + 2] = _$r1 * c / 255, e[_$t + 3] = n1 * l / 255;
                            break;
                        case "mask":
                            e[_$t + 3] = l;
                    }
                }
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                var _$s = this.calculateMatrix();
                t.uniform1i(e.uImage, 1), t.uniformMatrix3fv(e.uTransformMatrix, !1, _$s);
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ua.prototype), "toObject", this).call(this)), {}, {
                    image: this.image && this.image.toObject()
                });
            }
        }
    ], [
        {
            key: "fromObject",
            value: function fromObject(t, e) {
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_async_to_generator$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(function() {
                    var _this, _$r, n, o;
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f$tslib$2f$tslib$2e$es6$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__$5f$_generator__as__$5f3e$__["_"])(this, function(_state) {
                        _this = this;
                        _$r = t.type, n = t.image, o = i(t, Na);
                        return [
                            2,
                            oa.fromObject(n, e).then(function(t) {
                                return new _this(s(s({}, o), {}, {
                                    image: t
                                }));
                            })
                        ];
                    });
                }).call(this);
            }
        }
    ]);
    return Ua;
}(Va);
t(Ua, "type", "BlendImage"), t(Ua, "defaults", {
    mode: "multiply",
    alpha: 1
}), t(Ua, "uniformLocations", [
    "uTransformMatrix",
    "uImage"
]), tt.setClass(Ua);
var qa = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(qa, Va);
    function qa() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, qa);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, qa, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(qa, [
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform vec2 uDelta;\n    varying vec2 vTexCoord;\n    const float nSamples = 15.0;\n    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\n    float random(vec3 scale) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n    }\n    void main() {\n      vec4 color = vec4(0.0);\n      float totalC = 0.0;\n      float totalA = 0.0;\n      float offset = random(v3offset);\n      for (float t = -nSamples; t <= nSamples; t++) {\n        float percent = (t + offset - 0.5) / nSamples;\n        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);\n        float weight = 1.0 - abs(percent);\n        float alpha = weight * sample.a;\n        color.rgb += sample.rgb * alpha;\n        color.a += alpha;\n        totalA += weight;\n        totalC += alpha;\n      }\n      gl_FragColor.rgb = color.rgb / totalC;\n      gl_FragColor.a = color.a / totalA;\n    }\n  ";
            }
        },
        {
            key: "applyTo",
            value: function applyTo(t) {
                La(t) ? (this.aspectRatio = t.sourceWidth / t.sourceHeight, t.passes++, this._setupFrameBuffer(t), this.horizontal = !0, this.applyToWebGL(t), this._swapTextures(t), this._setupFrameBuffer(t), this.horizontal = !1, this.applyToWebGL(t), this._swapTextures(t)) : this.applyTo2d(t);
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data, _$s = _t_imageData.width, i = _t_imageData.height;
                this.aspectRatio = _$s / i, this.horizontal = !0;
                var _$r = this.getBlurValue() * _$s;
                var n = new Uint8ClampedArray(e), o = 15, a = 4 * _$s;
                for(var _$t = 0; _$t < e.length; _$t += 4){
                    var _$s1 = 0, i1 = 0, h = 0, c = 0, l = 0;
                    var u = _$t - _$t % a, d = u + a;
                    for(var n1 = -14; n1 < o; n1++){
                        var a1 = n1 / o, g = 4 * Math.floor(_$r * a1), f = 1 - Math.abs(a1);
                        var p = _$t + g;
                        p < u ? p = u : p > d && (p = d);
                        var m = e[p + 3] * f;
                        _$s1 += e[p] * m, i1 += e[p + 1] * m, h += e[p + 2] * m, c += m, l += f;
                    }
                    n[_$t] = _$s1 / c, n[_$t + 1] = i1 / c, n[_$t + 2] = h / c, n[_$t + 3] = c / l;
                }
                this.horizontal = !1, _$r = this.getBlurValue() * i;
                for(var _$t1 = 0; _$t1 < n.length; _$t1 += 4){
                    var _$s2 = 0, i2 = 0, h1 = 0, c1 = 0, l1 = 0;
                    var u1 = _$t1 % a, d1 = n.length - a + u1;
                    for(var e1 = -14; e1 < o; e1++){
                        var g1 = e1 / o, f1 = Math.floor(_$r * g1) * a, p1 = 1 - Math.abs(g1);
                        var m1 = _$t1 + f1;
                        m1 < u1 ? m1 = u1 : m1 > d1 && (m1 = d1);
                        var v = n[m1 + 3] * p1;
                        _$s2 += n[m1] * v, i2 += n[m1 + 1] * v, h1 += n[m1 + 2] * v, c1 += v, l1 += p1;
                    }
                    e[_$t1] = _$s2 / c1, e[_$t1 + 1] = i2 / c1, e[_$t1 + 2] = h1 / c1, e[_$t1 + 3] = c1 / l1;
                }
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                var _$s = this.chooseRightDelta();
                t.uniform2fv(e.uDelta, _$s);
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return 0 === this.blur;
            }
        },
        {
            key: "getBlurValue",
            value: function getBlurValue() {
                var _$t = 1;
                var _this = this, e = _this.horizontal, _$s = _this.aspectRatio;
                return e ? _$s > 1 && (_$t = 1 / _$s) : _$s < 1 && (_$t = _$s), _$t * this.blur * .12;
            }
        },
        {
            key: "chooseRightDelta",
            value: function chooseRightDelta() {
                var _$t = this.getBlurValue();
                return this.horizontal ? [
                    _$t,
                    0
                ] : [
                    0,
                    _$t
                ];
            }
        }
    ]);
    return qa;
}(Va);
t(qa, "type", "Blur"), t(qa, "defaults", {
    blur: 0
}), t(qa, "uniformLocations", [
    "uDelta"
]), tt.setClass(qa);
var Ka = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ka, Va);
    function Ka() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ka);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ka, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ka, [
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBrightness;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += uBrightness;\n    gl_FragColor = color;\n  }\n";
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data;
                var _$s = Math.round(255 * this.brightness);
                for(var _$t = 0; _$t < e.length; _$t += 4)e[_$t] += _$s, e[_$t + 1] += _$s, e[_$t + 2] += _$s;
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return 0 === this.brightness;
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform1f(e.uBrightness, this.brightness);
            }
        }
    ]);
    return Ka;
}(Va);
t(Ka, "type", "Brightness"), t(Ka, "defaults", {
    brightness: 0
}), t(Ka, "uniformLocations", [
    "uBrightness"
]), tt.setClass(Ka);
var Ja = {
    matrix: [
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0
    ],
    colorsOnly: !0
};
var Qa = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Qa, Va);
    function Qa() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Qa);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Qa, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Qa, [
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n  precision highp float;\n  uniform sampler2D uTexture;\n  varying vec2 vTexCoord;\n  uniform mat4 uColorMatrix;\n  uniform vec4 uConstants;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color *= uColorMatrix;\n    color += uConstants;\n    gl_FragColor = color;\n  }";
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var e = t.imageData.data, _$s = this.matrix, i = this.colorsOnly;
                for(var _$t = 0; _$t < e.length; _$t += 4){
                    var _$r = e[_$t], n = e[_$t + 1], o = e[_$t + 2];
                    if (e[_$t] = _$r * _$s[0] + n * _$s[1] + o * _$s[2] + 255 * _$s[4], e[_$t + 1] = _$r * _$s[5] + n * _$s[6] + o * _$s[7] + 255 * _$s[9], e[_$t + 2] = _$r * _$s[10] + n * _$s[11] + o * _$s[12] + 255 * _$s[14], !i) {
                        var i1 = e[_$t + 3];
                        e[_$t] += i1 * _$s[3], e[_$t + 1] += i1 * _$s[8], e[_$t + 2] += i1 * _$s[13], e[_$t + 3] = _$r * _$s[15] + n * _$s[16] + o * _$s[17] + i1 * _$s[18] + 255 * _$s[19];
                    }
                }
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                var _$s = this.matrix, i = [
                    _$s[0],
                    _$s[1],
                    _$s[2],
                    _$s[3],
                    _$s[5],
                    _$s[6],
                    _$s[7],
                    _$s[8],
                    _$s[10],
                    _$s[11],
                    _$s[12],
                    _$s[13],
                    _$s[15],
                    _$s[16],
                    _$s[17],
                    _$s[18]
                ], _$r = [
                    _$s[4],
                    _$s[9],
                    _$s[14],
                    _$s[19]
                ];
                t.uniformMatrix4fv(e.uColorMatrix, !1, i), t.uniform4fv(e.uConstants, _$r);
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Qa.prototype), "toObject", this).call(this)), {}, {
                    matrix: (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.matrix)
                });
            }
        }
    ]);
    return Qa;
}(Va);
function Za(e, s) {
    var i;
    var _$r = (t(i = /*#__PURE__*/ function(Qa) {
        "use strict";
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(i, Qa);
        function i() {
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, i);
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, i, arguments);
        }
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(i, [
            {
                key: "toObject",
                value: function toObject() {
                    return {
                        type: this.type,
                        colorsOnly: this.colorsOnly
                    };
                }
            }
        ]);
        return i;
    }(Qa), "type", e), t(i, "defaults", {
        colorsOnly: !1,
        matrix: s
    }), i);
    return tt.setClass(_$r, e), _$r;
}
t(Qa, "type", "ColorMatrix"), t(Qa, "defaults", Ja), t(Qa, "uniformLocations", [
    "uColorMatrix",
    "uConstants"
]), tt.setClass(Qa);
var $a = Za("Brownie", [
    .5997,
    .34553,
    -.27082,
    0,
    .186,
    -.0377,
    .86095,
    .15059,
    0,
    -.1449,
    .24113,
    -.07441,
    .44972,
    0,
    -.02965,
    0,
    0,
    0,
    1,
    0
]), th = Za("Vintage", [
    .62793,
    .32021,
    -.03965,
    0,
    .03784,
    .02578,
    .64411,
    .03259,
    0,
    .02926,
    .0466,
    -.08512,
    .52416,
    0,
    .02023,
    0,
    0,
    0,
    1,
    0
]), eh = Za("Kodachrome", [
    1.12855,
    -.39673,
    -.03992,
    0,
    .24991,
    -.16404,
    1.08352,
    -.05498,
    0,
    .09698,
    -.16786,
    -.56034,
    1.60148,
    0,
    .13972,
    0,
    0,
    0,
    1,
    0
]), sh = Za("Technicolor", [
    1.91252,
    -.85453,
    -.09155,
    0,
    .04624,
    -.30878,
    1.76589,
    -.10601,
    0,
    -.27589,
    -.2311,
    -.75018,
    1.84759,
    0,
    .12137,
    0,
    0,
    0,
    1,
    0
]), ih = Za("Polaroid", [
    1.438,
    -.062,
    -.062,
    0,
    0,
    -.122,
    1.378,
    -.122,
    0,
    0,
    -.016,
    -.016,
    1.483,
    0,
    0,
    0,
    0,
    0,
    1,
    0
]), rh = Za("Sepia", [
    .393,
    .769,
    .189,
    0,
    0,
    .349,
    .686,
    .168,
    0,
    0,
    .272,
    .534,
    .131,
    0,
    0,
    0,
    0,
    0,
    1,
    0
]), nh = Za("BlackWhite", [
    1.5,
    1.5,
    1.5,
    0,
    -1,
    1.5,
    1.5,
    1.5,
    0,
    -1,
    1.5,
    1.5,
    1.5,
    0,
    -1,
    0,
    0,
    0,
    1,
    0
]);
var oh = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oh, Va);
    function oh() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, oh);
        var _this;
        var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, oh, [
            _$t
        ]), _this.subFilters = _$t.subFilters || [];
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(oh, [
        {
            key: "applyTo",
            value: function applyTo(t) {
                La(t) && (t.passes += this.subFilters.length - 1), this.subFilters.forEach(function(e) {
                    e.applyTo(t);
                });
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                return {
                    type: this.type,
                    subFilters: this.subFilters.map(function(t) {
                        return t.toObject();
                    })
                };
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return !this.subFilters.some(function(t) {
                    return !t.isNeutralState();
                });
            }
        }
    ], [
        {
            key: "fromObject",
            value: function fromObject(t, e) {
                var _this = this;
                return Promise.all((t.subFilters || []).map(function(t) {
                    return tt.getClass(t.type).fromObject(t, e);
                })).then(function(t) {
                    return new _this({
                        subFilters: t
                    });
                });
            }
        }
    ]);
    return oh;
}(Va);
t(oh, "type", "Composed"), tt.setClass(oh);
var ah = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ah, Va);
    function ah() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ah);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ah, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ah, [
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uContrast;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\n    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\n    gl_FragColor = color;\n  }";
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return 0 === this.contrast;
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data;
                var _$s = Math.floor(255 * this.contrast), i = 259 * (_$s + 255) / (255 * (259 - _$s));
                for(var _$t = 0; _$t < e.length; _$t += 4)e[_$t] = i * (e[_$t] - 128) + 128, e[_$t + 1] = i * (e[_$t + 1] - 128) + 128, e[_$t + 2] = i * (e[_$t + 2] - 128) + 128;
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform1f(e.uContrast, this.contrast);
            }
        }
    ]);
    return ah;
}(Va);
t(ah, "type", "Contrast"), t(ah, "defaults", {
    contrast: 0
}), t(ah, "uniformLocations", [
    "uContrast"
]), tt.setClass(ah);
var hh = {
    Convolute_3_1: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",
    Convolute_3_0: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",
    Convolute_5_1: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",
    Convolute_5_0: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",
    Convolute_7_1: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",
    Convolute_7_0: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",
    Convolute_9_1: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",
    Convolute_9_0: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    "
};
var ch = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ch, Va);
    function ch() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ch);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ch, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ch, [
        {
            key: "getCacheKey",
            value: function getCacheKey() {
                return "".concat(this.type, "_").concat(Math.sqrt(this.matrix.length), "_").concat(this.opaque ? 1 : 0);
            }
        },
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return hh[this.getCacheKey()];
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var e = t.imageData, _$s = e.data, i = this.matrix, _$r = Math.round(Math.sqrt(i.length)), n = Math.floor(_$r / 2), o = e.width, a = e.height, h = t.ctx.createImageData(o, a), c = h.data, l = this.opaque ? 1 : 0;
                var u, d, g, f, p, m, v, y, _, x, C, b, S;
                for(C = 0; C < a; C++)for(x = 0; x < o; x++){
                    for(p = 4 * (C * o + x), u = 0, d = 0, g = 0, f = 0, S = 0; S < _$r; S++)for(b = 0; b < _$r; b++)v = C + S - n, m = x + b - n, v < 0 || v >= a || m < 0 || m >= o || (y = 4 * (v * o + m), _ = i[S * _$r + b], u += _$s[y] * _, d += _$s[y + 1] * _, g += _$s[y + 2] * _, l || (f += _$s[y + 3] * _));
                    c[p] = u, c[p + 1] = d, c[p + 2] = g, c[p + 3] = l ? _$s[p + 3] : f;
                }
                t.imageData = h;
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform1fv(e.uMatrix, this.matrix);
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                return s(s({}, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ch.prototype), "toObject", this).call(this)), {}, {
                    opaque: this.opaque,
                    matrix: (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_to_consumable_array$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this.matrix)
                });
            }
        }
    ]);
    return ch;
}(Va);
t(ch, "type", "Convolute"), t(ch, "defaults", {
    opaque: !1,
    matrix: [
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0
    ]
}), t(ch, "uniformLocations", [
    "uMatrix",
    "uOpaque",
    "uHalfSize",
    "uSize"
]), tt.setClass(ch);
var lh = "Gamma";
var uh = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(uh, Va);
    function uh() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, uh);
        var _this;
        var _$t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        _this = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, uh, [
            _$t
        ]), _this.gamma = _$t.gamma || _this.constructor.defaults.gamma.concat();
        return _this;
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(uh, [
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform vec3 uGamma;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    vec3 correction = (1.0 / uGamma);\n    color.r = pow(color.r, correction.r);\n    color.g = pow(color.g, correction.g);\n    color.b = pow(color.b, correction.b);\n    gl_FragColor = color;\n    gl_FragColor.rgb *= color.a;\n  }\n";
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data;
                var _$s = this.gamma, i = 1 / _$s[0], _$r = 1 / _$s[1], n = 1 / _$s[2];
                this.rgbValues || (this.rgbValues = {
                    r: new Uint8Array(256),
                    g: new Uint8Array(256),
                    b: new Uint8Array(256)
                });
                var o = this.rgbValues;
                for(var _$t = 0; _$t < 256; _$t++)o.r[_$t] = 255 * Math.pow(_$t / 255, i), o.g[_$t] = 255 * Math.pow(_$t / 255, _$r), o.b[_$t] = 255 * Math.pow(_$t / 255, n);
                for(var _$t1 = 0; _$t1 < e.length; _$t1 += 4)e[_$t1] = o.r[e[_$t1]], e[_$t1 + 1] = o.g[e[_$t1 + 1]], e[_$t1 + 2] = o.b[e[_$t1 + 2]];
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform3fv(e.uGamma, this.gamma);
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                var _this = this, _$t = _this.gamma;
                return 1 === _$t[0] && 1 === _$t[1] && 1 === _$t[2];
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                return {
                    type: lh,
                    gamma: this.gamma.concat()
                };
            }
        }
    ]);
    return uh;
}(Va);
t(uh, "type", lh), t(uh, "defaults", {
    gamma: [
        1,
        1,
        1
    ]
}), t(uh, "uniformLocations", [
    "uGamma"
]), tt.setClass(uh);
var dh = {
    average: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      float average = (color.r + color.b + color.g) / 3.0;\n      gl_FragColor = vec4(average, average, average, color.a);\n    }\n    ",
    lightness: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    ",
    luminosity: "\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    "
};
var gh = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(gh, Va);
    function gh() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, gh);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, gh, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(gh, [
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data;
                for(var _$t, _$s = 0; _$s < e.length; _$s += 4){
                    var i = e[_$s], _$r = e[_$s + 1], n = e[_$s + 2];
                    switch(this.mode){
                        case "average":
                            _$t = (i + _$r + n) / 3;
                            break;
                        case "lightness":
                            _$t = (Math.min(i, _$r, n) + Math.max(i, _$r, n)) / 2;
                            break;
                        case "luminosity":
                            _$t = .21 * i + .72 * _$r + .07 * n;
                    }
                    e[_$s + 2] = e[_$s + 1] = e[_$s] = _$t;
                }
            }
        },
        {
            key: "getCacheKey",
            value: function getCacheKey() {
                return "".concat(this.type, "_").concat(this.mode);
            }
        },
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return dh[this.mode];
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform1i(e.uMode, 1);
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return !1;
            }
        }
    ]);
    return gh;
}(Va);
t(gh, "type", "Grayscale"), t(gh, "defaults", {
    mode: "average"
}), t(gh, "uniformLocations", [
    "uMode"
]), tt.setClass(gh);
var fh = s(s({}, Ja), {}, {
    rotation: 0
});
var ph = /*#__PURE__*/ function(Qa) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ph, Qa);
    function ph() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ph);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, ph, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ph, [
        {
            key: "calculateMatrix",
            value: function calculateMatrix() {
                var _$t = this.rotation * Math.PI, e = rt(_$t), _$s = nt(_$t), i = 1 / 3, _$r = Math.sqrt(i) * _$s, n = 1 - e;
                this.matrix = [
                    e + n / 3,
                    i * n - _$r,
                    i * n + _$r,
                    0,
                    0,
                    i * n + _$r,
                    e + i * n,
                    i * n - _$r,
                    0,
                    0,
                    i * n - _$r,
                    i * n + _$r,
                    e + i * n,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0
                ];
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return 0 === this.rotation;
            }
        },
        {
            key: "applyTo",
            value: function applyTo(t) {
                this.calculateMatrix(), (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(ph.prototype), "applyTo", this).call(this, t);
            }
        },
        {
            key: "toObject",
            value: function toObject() {
                return {
                    type: this.type,
                    rotation: this.rotation
                };
            }
        }
    ]);
    return ph;
}(Qa);
t(ph, "type", "HueRotation"), t(ph, "defaults", fh), tt.setClass(ph);
var mh = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(mh, Va);
    function mh() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, mh);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, mh, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(mh, [
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data;
                for(var _$t = 0; _$t < e.length; _$t += 4)e[_$t] = 255 - e[_$t], e[_$t + 1] = 255 - e[_$t + 1], e[_$t + 2] = 255 - e[_$t + 2], this.alpha && (e[_$t + 3] = 255 - e[_$t + 3]);
            }
        },
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform int uInvert;\n  uniform int uAlpha;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    if (uInvert == 1) {\n      if (uAlpha == 1) {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);\n      } else {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n      }\n    } else {\n      gl_FragColor = color;\n    }\n  }\n";
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return !this.invert;
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform1i(e.uInvert, Number(this.invert)), t.uniform1i(e.uAlpha, Number(this.alpha));
            }
        }
    ]);
    return mh;
}(Va);
t(mh, "type", "Invert"), t(mh, "defaults", {
    alpha: !1,
    invert: !0
}), t(mh, "uniformLocations", [
    "uInvert",
    "uAlpha"
]), tt.setClass(mh);
var vh = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(vh, Va);
    function vh() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, vh);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, vh, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(vh, [
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uStepH;\n  uniform float uNoise;\n  uniform float uSeed;\n  varying vec2 vTexCoord;\n  float rand(vec2 co, float seed, float vScale) {\n    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n  }\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\n    gl_FragColor = color;\n  }\n";
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data;
                var _$s = this.noise;
                for(var _$t = 0; _$t < e.length; _$t += 4){
                    var i = (.5 - Math.random()) * _$s;
                    e[_$t] += i, e[_$t + 1] += i, e[_$t + 2] += i;
                }
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform1f(e.uNoise, this.noise / 255), t.uniform1f(e.uSeed, Math.random());
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return 0 === this.noise;
            }
        }
    ]);
    return vh;
}(Va);
t(vh, "type", "Noise"), t(vh, "defaults", {
    noise: 0
}), t(vh, "uniformLocations", [
    "uNoise",
    "uSeed"
]), tt.setClass(vh);
var yh = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(yh, Va);
    function yh() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, yh);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, yh, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(yh, [
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data, _$s = _t_imageData.width, i = _t_imageData.height;
                for(var _$t = 0; _$t < i; _$t += this.blocksize)for(var _$r = 0; _$r < _$s; _$r += this.blocksize){
                    var n = 4 * _$t * _$s + 4 * _$r, o = e[n], a = e[n + 1], h = e[n + 2], c = e[n + 3];
                    for(var n1 = _$t; n1 < Math.min(_$t + this.blocksize, i); n1++)for(var _$t1 = _$r; _$t1 < Math.min(_$r + this.blocksize, _$s); _$t1++){
                        var i1 = 4 * n1 * _$s + 4 * _$t1;
                        e[i1] = o, e[i1 + 1] = a, e[i1 + 2] = h, e[i1 + 3] = c;
                    }
                }
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return 1 === this.blocksize;
            }
        },
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBlocksize;\n  uniform float uStepW;\n  uniform float uStepH;\n  varying vec2 vTexCoord;\n  void main() {\n    float blockW = uBlocksize * uStepW;\n    float blockH = uBlocksize * uStepH;\n    int posX = int(vTexCoord.x / blockW);\n    int posY = int(vTexCoord.y / blockH);\n    float fposX = float(posX);\n    float fposY = float(posY);\n    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\n    vec4 color = texture2D(uTexture, squareCoords);\n    gl_FragColor = color;\n  }\n";
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform1f(e.uBlocksize, this.blocksize);
            }
        }
    ]);
    return yh;
}(Va);
t(yh, "type", "Pixelate"), t(yh, "defaults", {
    blocksize: 4
}), t(yh, "uniformLocations", [
    "uBlocksize"
]), tt.setClass(yh);
var _h = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_h, Va);
    function _h() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, _h);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, _h, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(_h, [
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\nprecision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\n  gl_FragColor = texture2D(uTexture, vTexCoord);\n  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\n    gl_FragColor.a = 0.0;\n  }\n}\n";
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data;
                var _$s = 255 * this.distance, i = new Ie(this.color).getSource(), _$r = [
                    i[0] - _$s,
                    i[1] - _$s,
                    i[2] - _$s
                ], n = [
                    i[0] + _$s,
                    i[1] + _$s,
                    i[2] + _$s
                ];
                for(var _$t = 0; _$t < e.length; _$t += 4){
                    var _$s1 = e[_$t], i1 = e[_$t + 1], o = e[_$t + 2];
                    _$s1 > _$r[0] && i1 > _$r[1] && o > _$r[2] && _$s1 < n[0] && i1 < n[1] && o < n[2] && (e[_$t + 3] = 0);
                }
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                var _$s = new Ie(this.color).getSource(), i = this.distance, _$r = [
                    0 + _$s[0] / 255 - i,
                    0 + _$s[1] / 255 - i,
                    0 + _$s[2] / 255 - i,
                    1
                ], n = [
                    _$s[0] / 255 + i,
                    _$s[1] / 255 + i,
                    _$s[2] / 255 + i,
                    1
                ];
                t.uniform4fv(e.uLow, _$r), t.uniform4fv(e.uHigh, n);
            }
        }
    ]);
    return _h;
}(Va);
t(_h, "type", "RemoveColor"), t(_h, "defaults", {
    color: "#FFFFFF",
    distance: .02,
    useAlpha: !1
}), t(_h, "uniformLocations", [
    "uLow",
    "uHigh"
]), tt.setClass(_h);
var xh = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(xh, Va);
    function xh() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, xh);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, xh, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(xh, [
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform2fv(e.uDelta, this.horizontal ? [
                    1 / this.width,
                    0
                ] : [
                    0,
                    1 / this.height
                ]), t.uniform1fv(e.uTaps, this.taps);
            }
        },
        {
            key: "getFilterWindow",
            value: function getFilterWindow() {
                var _$t = this.tempScale;
                return Math.ceil(this.lanczosLobes / _$t);
            }
        },
        {
            key: "getCacheKey",
            value: function getCacheKey() {
                var _$t = this.getFilterWindow();
                return "".concat(this.type, "_").concat(_$t);
            }
        },
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                var _$t = this.getFilterWindow();
                return this.generateShader(_$t);
            }
        },
        {
            key: "getTaps",
            value: function getTaps() {
                var _$t = this.lanczosCreate(this.lanczosLobes), e = this.tempScale, _$s = this.getFilterWindow(), i = new Array(_$s);
                for(var _$r = 1; _$r <= _$s; _$r++)i[_$r - 1] = _$t(_$r * e);
                return i;
            }
        },
        {
            key: "generateShader",
            value: function generateShader(t) {
                var e = new Array(t);
                for(var _$s = 1; _$s <= t; _$s++)e[_$s - 1] = "".concat(_$s, ".0 * uDelta");
                return "\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec2 uDelta;\n      varying vec2 vTexCoord;\n      uniform float uTaps[".concat(t, "];\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        float sum = 1.0;\n        ").concat(e.map(function(t, e) {
                    return "\n              color += texture2D(uTexture, vTexCoord + ".concat(t, ") * uTaps[").concat(e, "] + texture2D(uTexture, vTexCoord - ").concat(t, ") * uTaps[").concat(e, "];\n              sum += 2.0 * uTaps[").concat(e, "];\n            ");
                }).join("\n"), "\n        gl_FragColor = color / sum;\n      }\n    ");
            }
        },
        {
            key: "applyToForWebgl",
            value: function applyToForWebgl(t) {
                t.passes++, this.width = t.sourceWidth, this.horizontal = !0, this.dW = Math.round(this.width * this.scaleX), this.dH = t.sourceHeight, this.tempScale = this.dW / this.width, this.taps = this.getTaps(), t.destinationWidth = this.dW, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(xh.prototype), "applyTo", this).call(this, t), t.sourceWidth = t.destinationWidth, this.height = t.sourceHeight, this.horizontal = !1, this.dH = Math.round(this.height * this.scaleY), this.tempScale = this.dH / this.height, this.taps = this.getTaps(), t.destinationHeight = this.dH, (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_get_prototype_of$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(xh.prototype), "applyTo", this).call(this, t), t.sourceHeight = t.destinationHeight;
            }
        },
        {
            key: "applyTo",
            value: function applyTo(t) {
                La(t) ? this.applyToForWebgl(t) : this.applyTo2d(t);
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return 1 === this.scaleX && 1 === this.scaleY;
            }
        },
        {
            key: "lanczosCreate",
            value: function lanczosCreate(t) {
                return function(e) {
                    if (e >= t || e <= -t) return 0;
                    if (e < 1.1920929e-7 && e > -1.1920929e-7) return 1;
                    var _$s = (e *= Math.PI) / t;
                    return Math.sin(e) / e * Math.sin(_$s) / _$s;
                };
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var e = t.imageData, _$s = this.scaleX, i = this.scaleY;
                this.rcpScaleX = 1 / _$s, this.rcpScaleY = 1 / i;
                var _$r = e.width, n = e.height, o = Math.round(_$r * _$s), a = Math.round(n * i);
                var h;
                h = "sliceHack" === this.resizeType ? this.sliceByTwo(t, _$r, n, o, a) : "hermite" === this.resizeType ? this.hermiteFastResize(t, _$r, n, o, a) : "bilinear" === this.resizeType ? this.bilinearFiltering(t, _$r, n, o, a) : "lanczos" === this.resizeType ? this.lanczosResize(t, _$r, n, o, a) : new ImageData(o, a), t.imageData = h;
            }
        },
        {
            key: "sliceByTwo",
            value: function sliceByTwo(t, e, s, i, r) {
                var n = t.imageData, o = .5;
                var a = !1, h = !1, c = e * o, l = s * o;
                var u = t.filterBackend.resources;
                var d = 0, g = 0;
                var f = e;
                var p = 0;
                u.sliceByTwo || (u.sliceByTwo = pt());
                var m = u.sliceByTwo;
                (m.width < 1.5 * e || m.height < s) && (m.width = 1.5 * e, m.height = s);
                var v = m.getContext("2d");
                for(v.clearRect(0, 0, 1.5 * e, s), v.putImageData(n, 0, 0), i = Math.floor(i), r = Math.floor(r); !a || !h;)e = c, s = l, i < Math.floor(c * o) ? c = Math.floor(c * o) : (c = i, a = !0), r < Math.floor(l * o) ? l = Math.floor(l * o) : (l = r, h = !0), v.drawImage(m, d, g, e, s, f, p, c, l), d = f, g = p, p += l;
                return v.getImageData(d, g, i, r);
            }
        },
        {
            key: "lanczosResize",
            value: function lanczosResize(t, e, s, i, r) {
                var n = t.imageData.data, o = t.ctx.createImageData(i, r), a = o.data, h = this.lanczosCreate(this.lanczosLobes), c = this.rcpScaleX, l = this.rcpScaleY, u = 2 / this.rcpScaleX, d = 2 / this.rcpScaleY, g = Math.ceil(c * this.lanczosLobes / 2), f = Math.ceil(l * this.lanczosLobes / 2), p = {}, m = {
                    x: 0,
                    y: 0
                }, v = {
                    x: 0,
                    y: 0
                };
                return function t(y) {
                    var _, x, C, b, S, w, T, O, k, D, M;
                    for(m.x = (y + .5) * c, v.x = Math.floor(m.x), _ = 0; _ < r; _++){
                        for(m.y = (_ + .5) * l, v.y = Math.floor(m.y), S = 0, w = 0, T = 0, O = 0, k = 0, x = v.x - g; x <= v.x + g; x++)if (!(x < 0 || x >= e)) {
                            D = Math.floor(1e3 * Math.abs(x - m.x)), p[D] || (p[D] = {});
                            for(var _$t = v.y - f; _$t <= v.y + f; _$t++)_$t < 0 || _$t >= s || (M = Math.floor(1e3 * Math.abs(_$t - m.y)), p[D][M] || (p[D][M] = h(Math.sqrt(Math.pow(D * u, 2) + Math.pow(M * d, 2)) / 1e3)), C = p[D][M], C > 0 && (b = 4 * (_$t * e + x), S += C, w += C * n[b], T += C * n[b + 1], O += C * n[b + 2], k += C * n[b + 3]));
                        }
                        b = 4 * (_ * i + y), a[b] = w / S, a[b + 1] = T / S, a[b + 2] = O / S, a[b + 3] = k / S;
                    }
                    return ++y < i ? t(y) : o;
                }(0);
            }
        },
        {
            key: "bilinearFiltering",
            value: function bilinearFiltering(t, e, s, i, r) {
                var n, o, a, h, c, l, u, d, g, f, p, m, v, y = 0;
                var _ = this.rcpScaleX, x = this.rcpScaleY, C = 4 * (e - 1), b = t.imageData.data, S = t.ctx.createImageData(i, r), w = S.data;
                for(u = 0; u < r; u++)for(d = 0; d < i; d++)for(c = Math.floor(_ * d), l = Math.floor(x * u), g = _ * d - c, f = x * u - l, v = 4 * (l * e + c), p = 0; p < 4; p++)n = b[v + p], o = b[v + 4 + p], a = b[v + C + p], h = b[v + C + 4 + p], m = n * (1 - g) * (1 - f) + o * g * (1 - f) + a * f * (1 - g) + h * g * f, w[y++] = m;
                return S;
            }
        },
        {
            key: "hermiteFastResize",
            value: function hermiteFastResize(t, e, s, i, r) {
                var n = this.rcpScaleX, o = this.rcpScaleY, a = Math.ceil(n / 2), h = Math.ceil(o / 2), c = t.imageData.data, l = t.ctx.createImageData(i, r), u = l.data;
                for(var _$t = 0; _$t < r; _$t++)for(var _$s = 0; _$s < i; _$s++){
                    var _$r = 4 * (_$s + _$t * i);
                    var l1 = 0, d = 0, g = 0, f = 0, p = 0, m = 0, v = 0;
                    var y = (_$t + .5) * o;
                    for(var _$i = Math.floor(_$t * o); _$i < (_$t + 1) * o; _$i++){
                        var _$t1 = Math.abs(y - (_$i + .5)) / h, _$r1 = (_$s + .5) * n, o1 = _$t1 * _$t1;
                        for(var _$t2 = Math.floor(_$s * n); _$t2 < (_$s + 1) * n; _$t2++){
                            var _$s1 = Math.abs(_$r1 - (_$t2 + .5)) / a;
                            var n1 = Math.sqrt(o1 + _$s1 * _$s1);
                            n1 > 1 && n1 < -1 || (l1 = 2 * n1 * n1 * n1 - 3 * n1 * n1 + 1, l1 > 0 && (_$s1 = 4 * (_$t2 + _$i * e), v += l1 * c[_$s1 + 3], g += l1, c[_$s1 + 3] < 255 && (l1 = l1 * c[_$s1 + 3] / 250), f += l1 * c[_$s1], p += l1 * c[_$s1 + 1], m += l1 * c[_$s1 + 2], d += l1));
                        }
                    }
                    u[_$r] = f / d, u[_$r + 1] = p / d, u[_$r + 2] = m / d, u[_$r + 3] = v / g;
                }
                return l;
            }
        }
    ]);
    return xh;
}(Va);
t(xh, "type", "Resize"), t(xh, "defaults", {
    resizeType: "hermite",
    scaleX: 1,
    scaleY: 1,
    lanczosLobes: 3
}), t(xh, "uniformLocations", [
    "uDelta",
    "uTaps"
]), tt.setClass(xh);
var Ch = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ch, Va);
    function Ch() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ch);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, Ch, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(Ch, [
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uSaturation;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float rgMax = max(color.r, color.g);\n    float rgbMax = max(rgMax, color.b);\n    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\n    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\n    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\n    gl_FragColor = color;\n  }\n";
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data;
                var _$s = -this.saturation;
                for(var _$t = 0; _$t < e.length; _$t += 4){
                    var i = e[_$t], _$r = e[_$t + 1], n = e[_$t + 2], o = Math.max(i, _$r, n);
                    e[_$t] += o !== i ? (o - i) * _$s : 0, e[_$t + 1] += o !== _$r ? (o - _$r) * _$s : 0, e[_$t + 2] += o !== n ? (o - n) * _$s : 0;
                }
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform1f(e.uSaturation, -this.saturation);
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return 0 === this.saturation;
            }
        }
    ]);
    return Ch;
}(Va);
t(Ch, "type", "Saturation"), t(Ch, "defaults", {
    saturation: 0
}), t(Ch, "uniformLocations", [
    "uSaturation"
]), tt.setClass(Ch);
var bh = /*#__PURE__*/ function(Va) {
    "use strict";
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_inherits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(bh, Va);
    function bh() {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_class_call_check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, bh);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_call_super$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(this, bh, arguments);
    }
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$HappyCase$2f$TheHappy$2f$TheHappyCase$2f$node_modules$2f40$swc$2f$helpers$2f$esm$2f$_create_class$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["_"])(bh, [
        {
            key: "getFragmentSource",
            value: function getFragmentSource() {
                return "\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uVibrance;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float max = max(color.r, max(color.g, color.b));\n    float avg = (color.r + color.g + color.b) / 3.0;\n    float amt = (abs(max - avg) * 2.0) * uVibrance;\n    color.r += max != color.r ? (max - color.r) * amt : 0.00;\n    color.g += max != color.g ? (max - color.g) * amt : 0.00;\n    color.b += max != color.b ? (max - color.b) * amt : 0.00;\n    gl_FragColor = color;\n  }\n";
            }
        },
        {
            key: "applyTo2d",
            value: function applyTo2d(t) {
                var _t_imageData = t.imageData, e = _t_imageData.data;
                var _$s = -this.vibrance;
                for(var _$t = 0; _$t < e.length; _$t += 4){
                    var i = e[_$t], _$r = e[_$t + 1], n = e[_$t + 2], o = Math.max(i, _$r, n), a = (i + _$r + n) / 3, h = 2 * Math.abs(o - a) / 255 * _$s;
                    e[_$t] += o !== i ? (o - i) * h : 0, e[_$t + 1] += o !== _$r ? (o - _$r) * h : 0, e[_$t + 2] += o !== n ? (o - n) * h : 0;
                }
            }
        },
        {
            key: "sendUniformData",
            value: function sendUniformData(t, e) {
                t.uniform1f(e.uVibrance, -this.vibrance);
            }
        },
        {
            key: "isNeutralState",
            value: function isNeutralState() {
                return 0 === this.vibrance;
            }
        }
    ]);
    return bh;
}(Va);
t(bh, "type", "Vibrance"), t(bh, "defaults", {
    vibrance: 0
}), t(bh, "uniformLocations", [
    "uVibrance"
]), tt.setClass(bh);
var Sh = Object.freeze({
    __proto__: null,
    BaseFilter: Va,
    BlackWhite: nh,
    BlendColor: Ga,
    BlendImage: Ua,
    Blur: qa,
    Brightness: Ka,
    Brownie: $a,
    ColorMatrix: Qa,
    Composed: oh,
    Contrast: ah,
    Convolute: ch,
    Gamma: uh,
    Grayscale: gh,
    HueRotation: ph,
    Invert: mh,
    Kodachrome: eh,
    Noise: vh,
    Pixelate: yh,
    Polaroid: ih,
    RemoveColor: _h,
    Resize: xh,
    Saturation: Ch,
    Sepia: rh,
    Technicolor: sh,
    Vibrance: bh,
    Vintage: th
});
;
 //# sourceMappingURL=index.min.mjs.map
}),
]);

//# sourceMappingURL=5be21_c481069d._.js.map