{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/CreateYoursHeader.jsx"],"sourcesContent":["import React from 'react';\n\nconst CreateYoursHeader = () => {\n  return (\n    <div className=\"text-center flex-shrink-0 mt-4 md:mt-6\">\n      <h1 className=\"text-title text-gray-900 tracking-title mb-1 md:mb-2\">\n        CREATE YOURS\n      </h1>\n      <div className=\"w-16 sm:w-20 md:w-24 h-px bg-gray-200 mx-auto mb-2 md:mb-4\"></div>\n      <p className=\"md:block hidden text-sm text-gray-500 max-w-2xl mx-auto font-light\" \n         style={{fontFamily: \"'Poppins', sans-serif\"}}>\n        Design your perfect passport case with our interactive creator\n      </p>\n    </div>\n  );\n};\n\nexport default CreateYoursHeader;\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,oBAAoB;IACxB,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC;gBAAG,WAAU;0BAAuD;;;;;;0BAGrE,kSAAC;gBAAI,WAAU;;;;;;0BACf,kSAAC;gBAAE,WAAU;gBACV,OAAO;oBAAC,YAAY;gBAAuB;0BAAG;;;;;;;;;;;;AAKvD;uCAEe"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/CloseButton.jsx"],"sourcesContent":["import React from 'react';\n\nconst CloseButton = ({ onClose }) => {\n  return (\n    <button\n      onClick={onClose}\n      className=\"absolute right-2 xs:right-3 sm:right-4 z-50 w-7 h-7 xs:w-8 xs:h-8 flex items-center justify-center transition-colors\"\n      aria-label=\"Close and go back to home\"\n    >\n      <svg className=\"w-12 h-12 xs:w-5 xs:h-5 mt-4 text-gray-700\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n      </svg>\n    </button>\n  );\n};\n\nexport default CloseButton;\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,cAAc,CAAC,EAAE,OAAO,EAAE;IAC9B,qBACE,kSAAC;QACC,SAAS;QACT,WAAU;QACV,cAAW;kBAEX,cAAA,kSAAC;YAAI,WAAU;YAA6C,MAAK;YAAO,QAAO;YAAe,SAAQ;sBACpG,cAAA,kSAAC;gBAAK,eAAc;gBAAQ,gBAAe;gBAAQ,aAAa;gBAAG,GAAE;;;;;;;;;;;;;;;;AAI7E;uCAEe"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/Canvas/components/CanvasControls.jsx"],"sourcesContent":["import React from 'react';\n\nconst CanvasControls = ({ \n  showControls, \n  controlsPosition, \n  onRotateLeft, \n  onRotateRight, \n  onDelete \n}) => {\n  if (!showControls) return null;\n\n  return (\n    <div\n      className=\"absolute flex items-center gap-0.5 bg-white bg-opacity-50 text-gray-800 rounded-sm px-1.5 py-0.5 z-[60] \"\n      style={{\n        left: `${controlsPosition.x}px`,\n        top: `${controlsPosition.y}px`,\n        position: \"absolute\",\n        pointerEvents: \"auto\",\n      }}\n    >\n      <button\n        onClick={onRotateLeft}\n        className=\"w-5 h-5 flex items-center justify-center text-gray-800 hover:text-gray-900 rounded \"\n        aria-label=\"Rotate Left\"\n        title=\"Rotate Left\"\n        style={{ color: \"#1f2937\" }}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 512 512\"\n          width=\"16\"\n          height=\"16\"\n          fill=\"currentColor\"\n          style={{ color: \"#1f2937\" }}\n        >\n          <path d=\"M24 192l144 0c9.7 0 18.5-5.8 22.2-14.8s1.7-19.3-5.2-26.2l-46.7-46.7c75.3-58.6 184.3-53.3 253.5 15.9 75 75 75 196.5 0 271.5s-196.5 75-271.5 0c-10.2-10.2-19-21.3-26.4-33-9.5-14.9-29.3-19.3-44.2-9.8s-19.3 29.3-9.8 44.2C49.7 408.7 61.4 423.5 75 437 175 537 337 537 437 437S537 175 437 75C342.8-19.3 193.3-24.7 92.7 58.8L41 7C34.1 .2 23.8-1.9 14.8 1.8S0 14.3 0 24L0 168c0 13.3 10.7 24 24 24z\" />\n        </svg>\n      </button>\n\n      <button\n        onClick={onRotateRight}\n        className=\"w-5 h-5 flex items-center justify-center text-gray-800 hover:text-gray-900 rounded transition-colors bg-transparent\"\n        aria-label=\"Rotate Right\"\n        title=\"Rotate Right\"\n        style={{ color: \"#1f2937\" }}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 512 512\"\n          width=\"16\"\n          height=\"16\"\n          fill=\"currentColor\"\n          style={{ color: \"#1f2937\" }}\n        >\n          <path d=\"M488 192l-144 0c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l46.7-46.7c-75.3-58.6-184.3-53.3-253.5 15.9-75 75-75 196.5 0 271.5s196.5 75 271.5 0c8.2-8.2 15.5-16.9 21.9-26.1 10.1-14.5 30.1-18 44.6-7.9s18 30.1 7.9 44.6c-8.5 12.2-18.2 23.8-29.1 34.7-100 100-262.1 100-362 0S-25 175 75 75c94.3-94.3 243.7-99.6 344.3-16.2L471 7c6.9-6.9 17.2-8.9 26.2-5.2S512 14.3 512 24l0 144c0 13.3-10.7 24-24 24z\" />\n        </svg>\n      </button>\n\n      <button\n        onClick={onDelete}\n        className=\"w-6 h-6 flex items-center justify-center text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors\"\n        aria-label=\"Remove\"\n        title=\"Delete\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 384 512\"\n          width=\"24\"\n          height=\"24\"\n          fill=\"currentColor\"\n          style={{ color: \"#dc2626\" }}\n        >\n          <path d=\"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z\" />\n        </svg>\n      </button>\n    </div>\n  );\n};\n\nexport default CanvasControls;\n\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,iBAAiB,CAAC,EACtB,YAAY,EACZ,gBAAgB,EAChB,YAAY,EACZ,aAAa,EACb,QAAQ,EACT;IACC,IAAI,CAAC,cAAc,OAAO;IAE1B,qBACE,kSAAC;QACC,WAAU;QACV,OAAO;YACL,MAAM,GAAG,iBAAiB,CAAC,CAAC,EAAE,CAAC;YAC/B,KAAK,GAAG,iBAAiB,CAAC,CAAC,EAAE,CAAC;YAC9B,UAAU;YACV,eAAe;QACjB;;0BAEA,kSAAC;gBACC,SAAS;gBACT,WAAU;gBACV,cAAW;gBACX,OAAM;gBACN,OAAO;oBAAE,OAAO;gBAAU;0BAE1B,cAAA,kSAAC;oBACC,OAAM;oBACN,SAAQ;oBACR,OAAM;oBACN,QAAO;oBACP,MAAK;oBACL,OAAO;wBAAE,OAAO;oBAAU;8BAE1B,cAAA,kSAAC;wBAAK,GAAE;;;;;;;;;;;;;;;;0BAIZ,kSAAC;gBACC,SAAS;gBACT,WAAU;gBACV,cAAW;gBACX,OAAM;gBACN,OAAO;oBAAE,OAAO;gBAAU;0BAE1B,cAAA,kSAAC;oBACC,OAAM;oBACN,SAAQ;oBACR,OAAM;oBACN,QAAO;oBACP,MAAK;oBACL,OAAO;wBAAE,OAAO;oBAAU;8BAE1B,cAAA,kSAAC;wBAAK,GAAE;;;;;;;;;;;;;;;;0BAIZ,kSAAC;gBACC,SAAS;gBACT,WAAU;gBACV,cAAW;gBACX,OAAM;0BAEN,cAAA,kSAAC;oBACC,OAAM;oBACN,SAAQ;oBACR,OAAM;oBACN,QAAO;oBACP,MAAK;oBACL,OAAO;wBAAE,OAAO;oBAAU;8BAE1B,cAAA,kSAAC;wBAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;AAKlB;uCAEe"}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/hooks/canvas/useCanvasBorders.js"],"sourcesContent":["import { useCallback } from 'react';\nimport * as fabric from 'fabric';\n\n/**\n * Hook for managing border rectangles around selected objects\n */\nexport const useCanvasBorders = (fabricCanvas, caseInstanceRef, boundaryRectRef, caseBorderRectRef, borderRectsRef) => {\n  \n  const updateBorderRect = useCallback((obj) => {\n    if (!obj || !fabricCanvas.current || obj.isCase) return;\n    \n    // Remove existing border if any\n    const existingBorder = borderRectsRef.current.get(obj);\n    if (existingBorder) {\n      fabricCanvas.current.remove(existingBorder);\n      borderRectsRef.current.delete(obj);\n    }\n    \n    // Get the exact bounding rectangle of the object\n    const boundingRect = obj.getBoundingRect(true);\n    \n    // Create border rectangle matching the exact image size (no inset)\n    const borderRect = new fabric.Rect({\n      left: boundingRect.left,\n      top: boundingRect.top,\n      width: boundingRect.width,\n      height: boundingRect.height,\n      originX: 'left',\n      originY: 'top',\n      fill: 'transparent',\n      stroke: '#111827',\n      strokeWidth: 1,\n      strokeDashArray: [3, 3], // Dashed border (dots)\n      selectable: false,\n      evented: false,\n      excludeFromExport: false,\n    });\n    \n    borderRectsRef.current.set(obj, borderRect);\n    fabricCanvas.current.add(borderRect);\n    \n    // Position border above case but below the selected object\n    const caseInstance = caseInstanceRef.current;\n    if (caseInstance) {\n      fabricCanvas.current.sendObjectToBack(caseInstance);\n    }\n    if (boundaryRectRef.current) {\n      fabricCanvas.current.sendObjectToBack(boundaryRectRef.current);\n    }\n    if (caseBorderRectRef.current) {\n      fabricCanvas.current.sendObjectToBack(caseBorderRectRef.current);\n    }\n    // Bring the selected object to front so border appears below it\n    fabricCanvas.current.bringObjectToFront(obj);\n    \n    fabricCanvas.current.renderAll();\n  }, [fabricCanvas, caseInstanceRef, boundaryRectRef, caseBorderRectRef, borderRectsRef]);\n\n  const removeBorderRect = useCallback((obj) => {\n    if (!obj || !fabricCanvas.current) return;\n    const borderRect = borderRectsRef.current.get(obj);\n    if (borderRect) {\n      fabricCanvas.current.remove(borderRect);\n      borderRectsRef.current.delete(obj);\n      fabricCanvas.current.renderAll();\n    }\n  }, [fabricCanvas, borderRectsRef]);\n\n  return { updateBorderRect, removeBorderRect };\n};\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAKO,MAAM,mBAAmB,CAAC,cAAc,iBAAiB,iBAAiB,mBAAmB;IAElG,MAAM,mBAAmB,IAAA,wQAAW,EAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,aAAa,OAAO,IAAI,IAAI,MAAM,EAAE;QAEjD,gCAAgC;QAChC,MAAM,iBAAiB,eAAe,OAAO,CAAC,GAAG,CAAC;QAClD,IAAI,gBAAgB;YAClB,aAAa,OAAO,CAAC,MAAM,CAAC;YAC5B,eAAe,OAAO,CAAC,MAAM,CAAC;QAChC;QAEA,iDAAiD;QACjD,MAAM,eAAe,IAAI,eAAe,CAAC;QAEzC,mEAAmE;QACnE,MAAM,aAAa,IAAI,2MAAW,CAAC;YACjC,MAAM,aAAa,IAAI;YACvB,KAAK,aAAa,GAAG;YACrB,OAAO,aAAa,KAAK;YACzB,QAAQ,aAAa,MAAM;YAC3B,SAAS;YACT,SAAS;YACT,MAAM;YACN,QAAQ;YACR,aAAa;YACb,iBAAiB;gBAAC;gBAAG;aAAE;YACvB,YAAY;YACZ,SAAS;YACT,mBAAmB;QACrB;QAEA,eAAe,OAAO,CAAC,GAAG,CAAC,KAAK;QAChC,aAAa,OAAO,CAAC,GAAG,CAAC;QAEzB,2DAA2D;QAC3D,MAAM,eAAe,gBAAgB,OAAO;QAC5C,IAAI,cAAc;YAChB,aAAa,OAAO,CAAC,gBAAgB,CAAC;QACxC;QACA,IAAI,gBAAgB,OAAO,EAAE;YAC3B,aAAa,OAAO,CAAC,gBAAgB,CAAC,gBAAgB,OAAO;QAC/D;QACA,IAAI,kBAAkB,OAAO,EAAE;YAC7B,aAAa,OAAO,CAAC,gBAAgB,CAAC,kBAAkB,OAAO;QACjE;QACA,gEAAgE;QAChE,aAAa,OAAO,CAAC,kBAAkB,CAAC;QAExC,aAAa,OAAO,CAAC,SAAS;IAChC,GAAG;QAAC;QAAc;QAAiB;QAAiB;QAAmB;KAAe;IAEtF,MAAM,mBAAmB,IAAA,wQAAW,EAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,aAAa,OAAO,EAAE;QACnC,MAAM,aAAa,eAAe,OAAO,CAAC,GAAG,CAAC;QAC9C,IAAI,YAAY;YACd,aAAa,OAAO,CAAC,MAAM,CAAC;YAC5B,eAAe,OAAO,CAAC,MAAM,CAAC;YAC9B,aAAa,OAAO,CAAC,SAAS;QAChC;IACF,GAAG;QAAC;QAAc;KAAe;IAEjC,OAAO;QAAE;QAAkB;IAAiB;AAC9C"}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/hooks/canvas/useCanvasControls.js"],"sourcesContent":["import { useCallback, useState } from 'react';\n\n/**\n * Hook for managing canvas controls position and visibility\n */\nexport const useCanvasControls = () => {\n  const [controlsPosition, setControlsPosition] = useState({ x: 0, y: 0 });\n  const [showControls, setShowControls] = useState(false);\n\n  const updateControls = useCallback((obj, fabricCanvas) => {\n    if (!obj || !fabricCanvas.current) return;\n    \n    const rect = obj.getBoundingRect(true);\n    const canvas = fabricCanvas.current;\n    const canvasElement = canvas.getElement();\n    const canvasContainer = canvasElement.parentElement;\n    \n    if (!canvasContainer) return;\n    \n    // Get canvas position relative to its container\n    const canvasRect = canvasElement.getBoundingClientRect();\n    const containerRect = canvasContainer.getBoundingClientRect();\n    \n    // Calculate position relative to container\n    const canvasOffsetX = canvasRect.left - containerRect.left;\n    const canvasOffsetY = canvasRect.top - containerRect.top;\n    \n    // Calculate desired position (just below the charm)\n    const desiredX = canvasOffsetX + rect.left + rect.width / 2;\n    const desiredY = canvasOffsetY + rect.top + rect.height + 14; // below the charm\n    \n    // Clamp within container bounds\n    const controlWidth = 70;\n    const controlHeight = 32;\n    const clampedX = Math.max(6, Math.min(desiredX - controlWidth / 2, containerRect.width - controlWidth - 6));\n    const clampedY = Math.max(6, Math.min(desiredY, containerRect.height - controlHeight - 6));\n    \n    setControlsPosition({ x: clampedX, y: clampedY });\n  }, []);\n\n  return {\n    controlsPosition,\n    showControls,\n    setShowControls,\n    updateControls\n  };\n};\n\n"],"names":[],"mappings":";;;;AAAA;;AAKO,MAAM,oBAAoB;IAC/B,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,qQAAQ,EAAC;QAAE,GAAG;QAAG,GAAG;IAAE;IACtE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qQAAQ,EAAC;IAEjD,MAAM,iBAAiB,IAAA,wQAAW,EAAC,CAAC,KAAK;QACvC,IAAI,CAAC,OAAO,CAAC,aAAa,OAAO,EAAE;QAEnC,MAAM,OAAO,IAAI,eAAe,CAAC;QACjC,MAAM,SAAS,aAAa,OAAO;QACnC,MAAM,gBAAgB,OAAO,UAAU;QACvC,MAAM,kBAAkB,cAAc,aAAa;QAEnD,IAAI,CAAC,iBAAiB;QAEtB,gDAAgD;QAChD,MAAM,aAAa,cAAc,qBAAqB;QACtD,MAAM,gBAAgB,gBAAgB,qBAAqB;QAE3D,2CAA2C;QAC3C,MAAM,gBAAgB,WAAW,IAAI,GAAG,cAAc,IAAI;QAC1D,MAAM,gBAAgB,WAAW,GAAG,GAAG,cAAc,GAAG;QAExD,oDAAoD;QACpD,MAAM,WAAW,gBAAgB,KAAK,IAAI,GAAG,KAAK,KAAK,GAAG;QAC1D,MAAM,WAAW,gBAAgB,KAAK,GAAG,GAAG,KAAK,MAAM,GAAG,IAAI,kBAAkB;QAEhF,gCAAgC;QAChC,MAAM,eAAe;QACrB,MAAM,gBAAgB;QACtB,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,WAAW,eAAe,GAAG,cAAc,KAAK,GAAG,eAAe;QACxG,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,UAAU,cAAc,MAAM,GAAG,gBAAgB;QAEvF,oBAAoB;YAAE,GAAG;YAAU,GAAG;QAAS;IACjD,GAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/utils/canvas/imageExport.js"],"sourcesContent":["/**\n * Utility functions for exporting canvas images\n */\n\n/**\n * Export canvas as image data URL\n */\nexport const exportCanvasAsDataURL = (fabricCanvas, boundaryRectRef, caseBorderRectRef) => {\n  if (!fabricCanvas.current) return null;\n  \n  // Temporarily hide boundary and case border for export\n  const boundaryVisible = boundaryRectRef.current ? boundaryRectRef.current.visible : true;\n  const caseBorderVisible = caseBorderRectRef.current ? caseBorderRectRef.current.visible : true;\n  if (boundaryRectRef.current) {\n    boundaryRectRef.current.visible = false;\n  }\n  if (caseBorderRectRef.current) {\n    caseBorderRectRef.current.visible = false;\n  }\n\n  const dataURL = fabricCanvas.current.toDataURL({\n    format: 'png',\n    quality: 1,\n    multiplier: 2,\n    backgroundColor: 'white'\n  });\n\n  // Restore boundary and case border visibility\n  if (boundaryRectRef.current) {\n    boundaryRectRef.current.visible = boundaryVisible;\n  }\n  if (caseBorderRectRef.current) {\n    caseBorderRectRef.current.visible = caseBorderVisible;\n  }\n  if (boundaryRectRef.current || caseBorderRectRef.current) {\n    fabricCanvas.current.renderAll();\n  }\n\n  return dataURL;\n};\n\n/**\n * Create a composite image combining case background with canvas content (charms)\n * @param {string} caseImageUrl - URL of the case background image\n * @param {string} canvasDataURL - Data URL of the canvas content (charms), can be null if no charms\n * @param {number} width - Width of the output image\n * @param {number} height - Height of the output image\n * @returns {Promise<string>} Data URL of the composite image\n */\nexport const createCompositeDesignImage = (caseImageUrl, canvasDataURL, width = 300, height = 350) => {\n  return new Promise((resolve, reject) => {\n    if (!caseImageUrl && !canvasDataURL) {\n      resolve(null);\n      return;\n    }\n\n    // Create a canvas for compositing\n    const compositeCanvas = document.createElement('canvas');\n    compositeCanvas.width = width;\n    compositeCanvas.height = height;\n    const ctx = compositeCanvas.getContext('2d');\n\n    // Fill with white background\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, width, height);\n\n    // Load case image first\n    const loadCaseImage = () => {\n      if (!caseImageUrl) {\n        // If no case image, just draw canvas content\n        console.log('âš ï¸ No case image URL provided, using canvas content only');\n        drawCanvasContent();\n        return;\n      }\n\n      const caseImg = new Image();\n      // Only set crossOrigin for external URLs, not for data URLs or same-origin images\n      if (!caseImageUrl.startsWith('data:') && !caseImageUrl.startsWith('blob:')) {\n        caseImg.crossOrigin = 'anonymous';\n      }\n      \n      // Add timeout to prevent hanging\n      const timeout = setTimeout(() => {\n        console.error('â±ï¸ Timeout loading case image:', caseImageUrl);\n        drawCanvasContent();\n      }, 10000); // 10 second timeout\n      \n      caseImg.onload = () => {\n        clearTimeout(timeout);\n        console.log('âœ… Case image loaded successfully:', {\n          width: caseImg.width,\n          height: caseImg.height,\n          src: caseImageUrl.substring(0, 50) + '...'\n        });\n        \n        // Draw case image as background\n        // Match the CSS background positioning: center 45%\n        const caseImgAspect = caseImg.width / caseImg.height;\n        const canvasAspect = width / height;\n        \n        let drawWidth, drawHeight, drawX, drawY;\n        const targetSize = 270; // Match CSS backgroundSize\n        \n        if (caseImgAspect > canvasAspect) {\n          drawHeight = targetSize;\n          drawWidth = drawHeight * caseImgAspect;\n        } else {\n          drawWidth = targetSize;\n          drawHeight = drawWidth / caseImgAspect;\n        }\n        \n        drawX = (width - drawWidth) / 2;\n        drawY = height * 0.45 - drawHeight / 2; // Match CSS backgroundPosition: center 45%\n        \n        ctx.drawImage(caseImg, drawX, drawY, drawWidth, drawHeight);\n        \n        // Then draw canvas content on top (if available)\n        drawCanvasContent();\n      };\n      caseImg.onerror = (error) => {\n        clearTimeout(timeout);\n        console.error('âŒ Failed to load case image:', {\n          url: caseImageUrl,\n          error: error,\n          message: 'Will continue with canvas content only'\n        });\n        // Continue with just canvas content\n        drawCanvasContent();\n      };\n      \n      console.log('ðŸ”„ Loading case image:', caseImageUrl);\n      caseImg.src = caseImageUrl;\n    };\n\n    // Draw canvas content (charms) on top\n    const drawCanvasContent = () => {\n      if (!canvasDataURL) {\n        // If no canvas content, just resolve with case image (or white canvas if no case)\n        console.log('âš ï¸ No canvas data URL, resolving with case image or white canvas');\n        resolve(compositeCanvas.toDataURL('image/png', 1));\n        return;\n      }\n\n      const canvasImg = new Image();\n      \n      // Add timeout for canvas image loading\n      const timeout = setTimeout(() => {\n        console.error('â±ï¸ Timeout loading canvas content');\n        resolve(compositeCanvas.toDataURL('image/png', 1));\n      }, 10000);\n      \n      canvasImg.onload = () => {\n        clearTimeout(timeout);\n        console.log('âœ… Canvas content loaded successfully:', {\n          width: canvasImg.width,\n          height: canvasImg.height\n        });\n        \n        // Draw canvas content centered, matching the canvas overlay positioning\n        const canvasImgAspect = canvasImg.width / canvasImg.height;\n        const containerAspect = width / height;\n        \n        let drawWidth, drawHeight, drawX, drawY;\n        \n        if (canvasImgAspect > containerAspect) {\n          drawWidth = width;\n          drawHeight = width / canvasImgAspect;\n        } else {\n          drawHeight = height;\n          drawWidth = height * canvasImgAspect;\n        }\n        \n        drawX = (width - drawWidth) / 2;\n        drawY = (height - drawHeight) / 2;\n        \n        ctx.drawImage(canvasImg, drawX, drawY, drawWidth, drawHeight);\n        \n        // Export composite image\n        const finalDataURL = compositeCanvas.toDataURL('image/png', 1);\n        console.log('ðŸŽ¨ Composite image created:', {\n          isDataURL: finalDataURL.startsWith('data:image/'),\n          length: finalDataURL.length\n        });\n        resolve(finalDataURL);\n      };\n      canvasImg.onerror = (error) => {\n        clearTimeout(timeout);\n        console.error('âŒ Failed to load canvas content:', error);\n        // Resolve with just case image if available\n        resolve(compositeCanvas.toDataURL('image/png', 1));\n      };\n      \n      console.log('ðŸ”„ Loading canvas content...');\n      canvasImg.src = canvasDataURL;\n    };\n\n    // Start loading\n    loadCaseImage();\n  });\n};\n\n/**\n * Download canvas as image file\n */\nexport const downloadCanvasImage = (fabricCanvas, boundaryRectRef, caseBorderRectRef) => {\n  const dataURL = exportCanvasAsDataURL(fabricCanvas, boundaryRectRef, caseBorderRectRef);\n  if (!dataURL) return;\n\n  // Create download link\n  const link = document.createElement('a');\n  link.download = `passport-case-design-${Date.now()}.webp`;\n  link.href = dataURL;\n  \n  // Trigger download\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 542, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/Canvas/index.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from 'react';\nimport * as fabric from 'fabric';\nimport CanvasControls from './components/CanvasControls';\nimport { useCanvasBorders } from '../../hooks/canvas/useCanvasBorders';\nimport { useCanvasControls } from '../../hooks/canvas/useCanvasControls';\nimport { exportCanvasAsDataURL, downloadCanvasImage } from '../../utils/canvas/imageExport';\nimport { normalizeImagePath } from '../../utils/imagePath';\n\nconst Canvas = ({ \n  selectedCaseType, \n  selectedColor, \n  selectedPins, \n  onPinSelect, \n  onPinRemove,\n  products,\n  onSaveImage\n}) => {\n  const canvasRef = useRef(null);\n  const fabricCanvas = useRef(null);\n  const caseInstanceRef = useRef(null);\n  const boundaryRectRef = useRef(null);\n  const caseBorderRectRef = useRef(null);\n  const borderRectsRef = useRef(new Map());\n  const boundaryRectTimeoutRef = useRef(null);\n  const [selectedPin, setSelectedPin] = useState(null);\n  \n  // Use hooks for organized functionality\n  const { controlsPosition, showControls, setShowControls, updateControls: updateControlsPosition } = useCanvasControls();\n  const { updateBorderRect, removeBorderRect } = useCanvasBorders(fabricCanvas, caseInstanceRef, boundaryRectRef, caseBorderRectRef, borderRectsRef);\n\n  // Legacy loadImage function - keeping for compatibility, but using hook version\n  const loadImageLegacy = useCallback((src, isCase = false, pinWidth = 85, pinHeight = 85) => {\n    return new Promise((resolve, reject) => {\n      const imgElement = new Image();\n      imgElement.crossOrigin = 'anonymous';\n      imgElement.src = src;\n  \n      imgElement.onload = () => {\n        const canvasWidth = fabricCanvas.current.getWidth();\n        const canvasHeight = fabricCanvas.current.getHeight();\n  \n        let scaleX, scaleY;\n        let left = canvasWidth / 2;\n        let top = canvasHeight / 2;\n  \n        if (isCase) {\n          // Fixed scaling for the case image\n          const scale = Math.min(\n            canvasWidth * 1 / imgElement.width,\n            canvasHeight * 1 / imgElement.height\n          );\n  \n          scaleX = scale;\n          scaleY = scale;\n        } else {\n          // Allow pins to maintain their natural aspect ratio with a max size\n          // Scale proportionally to fit within the max size while maintaining aspect ratio\n          const maxSize = Math.max(pinWidth, pinHeight);\n          const naturalAspectRatio = imgElement.width / imgElement.height;\n          let targetWidth, targetHeight;\n          \n          if (imgElement.width >= imgElement.height) {\n            // Landscape or square - fit to width\n            targetWidth = maxSize;\n            targetHeight = maxSize / naturalAspectRatio;\n          } else {\n            // Portrait - fit to height\n            targetHeight = maxSize;\n            targetWidth = maxSize * naturalAspectRatio;\n          }\n          \n          scaleX = targetWidth / imgElement.width;\n          scaleY = targetHeight / imgElement.height;\n        }\n  \n        const imgInstance = new fabric.Image(imgElement, {\n          left,\n          top,\n          originX: 'center',\n          originY: 'center',\n          scaleX,\n          scaleY,\n          selectable: !isCase,\n          hasControls: isCase,\n          lockScalingX: isCase,\n          lockScalingY: isCase,\n          borderColor: \"transparent\",\n          cornerColor: isCase ? \"transparent\" : \"blue\",\n          cornerSize: isCase ? 0 : 8,\n          transparentCorners: false,\n          hasBorders: false,\n          isCase\n        });\n  \n        if (isCase) {\n          // Clear any pending boundary rect timeout to prevent duplicates\n          if (boundaryRectTimeoutRef.current) {\n            clearTimeout(boundaryRectTimeoutRef.current);\n            boundaryRectTimeoutRef.current = null;\n          }\n          \n          // Remove ALL existing boundary rects before creating new one (by checking properties)\n          const allObjects = fabricCanvas.current.getObjects();\n          allObjects.forEach(obj => {\n            if (obj && obj.type === 'rect') {\n              const isBoundary = obj.isBoundaryRect === true || \n                (Array.isArray(obj.strokeDashArray) && \n                 ((obj.strokeDashArray[0] === 4 && obj.strokeDashArray[1] === 4) || \n                  (obj.strokeDashArray[0] === 3 && obj.strokeDashArray[1] === 3)) &&\n                 (!obj.fill || obj.fill === 'transparent') &&\n                 obj.selectable === false &&\n                 obj.evented === false);\n              \n              if (isBoundary) {\n                fabricCanvas.current.remove(obj);\n              }\n            }\n          });\n          \n          boundaryRectRef.current = null;\n          \n          // Remove existing case border if any\n          if (caseBorderRectRef.current) {\n            fabricCanvas.current.remove(caseBorderRectRef.current);\n            caseBorderRectRef.current = null;\n          }\n          \n          imgInstance.set('evented', false);\n          caseInstanceRef.current = imgInstance;\n          fabricCanvas.current.add(imgInstance);\n          fabricCanvas.current.sendObjectToBack(imgInstance);\n          \n          // Create red boundary rectangle after case is loaded\n          boundaryRectTimeoutRef.current = setTimeout(() => {\n            // Double-check that we still have the same case instance\n            if (caseInstanceRef.current !== imgInstance) {\n              return; // Case has changed, don't create boundary\n            }\n            \n            // Remove any existing boundary rect (safety check)\n            if (boundaryRectRef.current) {\n              fabricCanvas.current.remove(boundaryRectRef.current);\n            }\n            \n            const rect = imgInstance.getBoundingRect();\n            // Add inset to make boundary smaller (inside the case image)\n            // Separate horizontal and vertical insets - larger horizontal for smaller width\n            // Business class case needs wider boundary (more inset from edges)\n            const insetHorizontal = selectedCaseType === 'business' ? 140 : 120; // Horizontal inset (left/right) - wider for business, more space for all cases\n            const insetVertical = selectedCaseType === 'business' ? 50 : 40; // Vertical inset (top/bottom) - wider for business, more space for all cases\n            const boundaryRect = new fabric.Rect({\n              left: rect.left + insetHorizontal,\n              top: rect.top + insetVertical,\n              width: rect.width - (insetHorizontal * 2),\n              height: rect.height - (insetVertical * 2),\n              fill: 'transparent',\n              stroke: 'rgba(239, 68, 68, 0.3)', // Subtle red with transparency\n              strokeWidth: 1,\n              strokeDashArray: [4, 4],\n              selectable: false,\n              evented: false,\n              visible: false, // Hidden by default, shown only when moving objects\n              isBoundaryRect: true, // Custom property to identify boundary rects\n            });\n            \n            boundaryRectRef.current = boundaryRect;\n            fabricCanvas.current.add(boundaryRect);\n            fabricCanvas.current.sendObjectToBack(boundaryRect);\n            \n            // Don't create case border rectangle - user doesn't want to see border when selecting case\n            caseBorderRectRef.current = null;\n            \n            fabricCanvas.current.sendObjectToBack(imgInstance);\n            \n            fabricCanvas.current.renderAll();\n            boundaryRectTimeoutRef.current = null;\n          }, 100);\n        } else {\n          fabricCanvas.current.add(imgInstance);\n        }\n  \n        fabricCanvas.current.renderAll();\n        resolve(imgInstance);\n      };\n  \n      imgElement.onerror = reject;\n    });\n  }, [selectedCaseType]);\n  \n  \n\n  // Wrapper for updateControls to match hook signature\n  const updateControls = useCallback((obj) => {\n    updateControlsPosition(obj, fabricCanvas);\n  }, [updateControlsPosition]);\n\n\n  const resizeCanvasToFitScreen = useCallback(() => {\n    const canvas = fabricCanvas.current;\n    if (!canvas || !canvasRef.current) return;\n  \n    const container = canvasRef.current.parentElement;\n    if (!container) return;\n  \n    // Match canvas size exactly to container dimensions\n    const containerWidth = container.clientWidth;\n    const containerHeight = container.clientHeight;\n  \n    canvas.setWidth(containerWidth);\n    canvas.setHeight(containerHeight);\n    canvas.renderAll();\n  }, []);\n  // Initialize canvas\n  useEffect(() => {\n    if (!canvasRef.current) return;\n  \n    const container = canvasRef.current.parentElement;\n    if (!container) return;\n  \n    // Match canvas size exactly to container dimensions (same as case image div)\n    const containerWidth = container.clientWidth;\n    const containerHeight = container.clientHeight;\n\n    fabricCanvas.current = new fabric.Canvas(canvasRef.current, {\n      width: containerWidth,\n      height: containerHeight,\n      backgroundColor: 'transparent'\n    });\n    \n\n\n    // Object moving constraints - using canvas boundaries instead of case boundaries\n    fabricCanvas.current.on('object:moving', (e) => {\n      const obj = e.target;\n      if (!obj || !obj.getBoundingRect || obj.isCase || obj === boundaryRectRef.current || obj === caseBorderRectRef.current) return;\n      \n      // Use canvas boundaries instead of case boundaries\n      const canvasWidth = fabricCanvas.current.getWidth();\n      const canvasHeight = fabricCanvas.current.getHeight();\n      const objRect = obj.getBoundingRect(true);\n      \n      // Calculate object dimensions from bounding rect\n      const objWidth = objRect.width;\n      const objHeight = objRect.height;\n      const halfWidth = objWidth / 2;\n      const halfHeight = objHeight / 2;\n      \n      // Get current object center position\n      let newLeft = obj.left;\n      let newTop = obj.top;\n      \n      const margin = 5; // Margin from canvas edges\n      \n      // Constrain horizontal position (accounting for center origin)\n      if (objRect.left < margin) {\n        newLeft = margin + halfWidth;\n      }\n      if (objRect.left + objWidth > canvasWidth - margin) {\n        newLeft = canvasWidth - margin - halfWidth;\n      }\n      \n      // Constrain vertical position (accounting for center origin)\n      if (objRect.top < margin) {\n        newTop = margin + halfHeight;\n      }\n      if (objRect.top + objHeight > canvasHeight - margin) {\n        newTop = canvasHeight - margin - halfHeight;\n      }\n      \n      // Apply constraints if needed\n      if (newLeft !== obj.left || newTop !== obj.top) {\n        obj.set({\n          left: newLeft,\n          top: newTop\n        });\n        obj.setCoords();\n      }\n      \n      // Update border rectangle during movement\n      const borderRect = borderRectsRef.current.get(obj);\n      if (borderRect) {\n        // Get the exact bounding rectangle of the object (accounts for scale, rotation, etc.)\n        const boundingRect = obj.getBoundingRect(true);\n        \n        // Calculate inset as a percentage of the smaller dimension to adjust to image shape\n        // Use 2.5% of the smaller dimension for proportional scaling\n        const minDimension = Math.min(boundingRect.width, boundingRect.height);\n        const inset = Math.max(2, minDimension * 0.025); // Minimum 2px, or 2.5% of smaller dimension\n        \n        borderRect.set({\n          left: boundingRect.left + inset,\n          top: boundingRect.top + inset,\n          width: boundingRect.width - (inset * 2),\n          height: boundingRect.height - (inset * 2),\n        });\n        borderRect.setCoords();\n        // Ensure border stays below object by bringing object to front\n        fabricCanvas.current.bringObjectToFront(obj);\n      }\n      \n      // Update controls position during movement for the active object\n      const activeObj = fabricCanvas.current.getActiveObject();\n      if (activeObj === obj) {\n        updateControls(obj);\n      }\n    });\n\n    // Update controls after object is modified (moved, rotated, etc.)\n    fabricCanvas.current.on('object:modified', (e) => {\n      const obj = e.target;\n      \n      // Hide red boundary and case border when object movement is complete\n      if (boundaryRectRef.current && obj && !obj.isCase && obj !== boundaryRectRef.current) {\n        boundaryRectRef.current.set('visible', false);\n      }\n      if (caseBorderRectRef.current && obj && !obj.isCase && obj !== caseBorderRectRef.current) {\n        caseBorderRectRef.current.set('visible', false);\n      }\n      if (obj && !obj.isCase && obj !== boundaryRectRef.current && obj !== caseBorderRectRef.current) {\n        fabricCanvas.current.renderAll();\n      }\n      \n      if (obj && !obj.isCase) {\n        // Ensure text scaling stays locked after modification\n        const isActive = fabricCanvas.current.getActiveObject() === obj;\n        if (obj.type === 'textbox' || obj.type === 'text' || obj.type === 'i-text') {\n          obj.set({\n            lockScalingX: true,\n            lockScalingY: true,\n            lockUniScaling: true,\n            hasControls: false,\n            hasBorders: false,\n            borderColor: 'transparent',\n            cornerColor: 'transparent',\n            cornerSize: 0,\n            transparentCorners: true,\n          });\n        } else if (obj.type === 'image') {\n          obj.set({\n            hasBorders: false,\n            borderColor: 'transparent',\n          });\n        }\n        \n        // Update custom border if object is active\n        if (isActive) {\n          updateBorderRect(obj);\n        } else {\n          removeBorderRect(obj);\n        }\n        \n        const activeObj = fabricCanvas.current.getActiveObject();\n        if (activeObj === obj) {\n          updateControls(obj);\n        }\n      }\n    });\n\n    // Object selection events\n    fabricCanvas.current.on('selection:created', (e) => {\n      const obj = e.selected[0];\n      if (obj && !obj.isCase) {\n        // Remove border from all other objects (only one border at a time)\n        borderRectsRef.current.forEach((borderRect, existingObj) => {\n          if (existingObj !== obj) {\n            fabricCanvas.current.remove(borderRect);\n            borderRectsRef.current.delete(existingObj);\n          }\n        });\n        \n        // Lock text scaling and hide controls if it's a text object\n        if (obj.type === 'textbox' || obj.type === 'text' || obj.type === 'i-text') {\n          obj.set({\n            lockScalingX: true,\n            lockScalingY: true,\n            lockUniScaling: true,\n            hasControls: false,\n            hasBorders: false,\n            borderColor: 'transparent',\n            cornerColor: 'transparent',\n            cornerSize: 0,\n            transparentCorners: true,\n          });\n        } else if (obj.type === 'image') {\n          obj.set({\n            hasBorders: false,\n            borderColor: 'transparent',\n          });\n        }\n        // Create custom border rectangle\n        updateBorderRect(obj);\n        setSelectedPin(obj);\n        setShowControls(true);\n        updateControls(obj);\n        fabricCanvas.current.renderAll();\n        // Do not notify parent here; handled when adding the pin\n      }\n    });\n\n    fabricCanvas.current.on('selection:updated', (e) => {\n      const obj = e.selected[0];\n      if (obj && !obj.isCase) {\n        // Remove border from all other objects (only one border at a time)\n        borderRectsRef.current.forEach((borderRect, existingObj) => {\n          if (existingObj !== obj) {\n            fabricCanvas.current.remove(borderRect);\n            borderRectsRef.current.delete(existingObj);\n          }\n        });\n        \n        // Lock text scaling and hide controls if it's a text object\n        if (obj.type === 'textbox' || obj.type === 'text' || obj.type === 'i-text') {\n          obj.set({\n            lockScalingX: true,\n            lockScalingY: true,\n            lockUniScaling: true,\n            hasControls: false,\n            hasBorders: false,\n            borderColor: 'transparent',\n            cornerColor: 'transparent',\n            cornerSize: 0,\n            transparentCorners: true,\n          });\n        } else if (obj.type === 'image') {\n          obj.set({\n            hasBorders: false,\n            borderColor: 'transparent',\n          });\n        }\n        // Update custom border rectangle\n        updateBorderRect(obj);\n        setSelectedPin(obj);\n        setShowControls(true);\n        updateControls(obj);\n        fabricCanvas.current.renderAll();\n        // Don't call onPinSelect here to avoid duplicate additions\n      }\n    });\n\n    // Prevent text scaling during scaling events\n    fabricCanvas.current.on('object:scaling', (e) => {\n      const obj = e.target;\n      if (obj && (obj.type === 'textbox' || obj.type === 'text' || obj.type === 'i-text')) {\n        // Reset scale to 1 if user tries to scale text and hide controls\n        obj.set({\n          scaleX: 1,\n          scaleY: 1,\n          lockScalingX: true,\n          lockScalingY: true,\n          lockUniScaling: true,\n          hasControls: false,\n          hasBorders: false,\n          borderColor: 'transparent',\n          cornerColor: 'transparent',\n          cornerSize: 0,\n          transparentCorners: true,\n        });\n        fabricCanvas.current.renderAll();\n      }\n    });\n\n    fabricCanvas.current.on('selection:cleared', () => {\n      // Hide red boundary and case border when selection is cleared\n      if (boundaryRectRef.current) {\n        boundaryRectRef.current.set('visible', false);\n      }\n      if (caseBorderRectRef.current) {\n        caseBorderRectRef.current.set('visible', false);\n      }\n      // Remove all custom border rectangles when selection is cleared\n      borderRectsRef.current.forEach((borderRect, obj) => {\n        fabricCanvas.current.remove(borderRect);\n        borderRectsRef.current.delete(obj);\n      });\n      fabricCanvas.current.renderAll();\n      setSelectedPin(null);\n      setShowControls(false);\n      onPinSelect && onPinSelect(null);\n    });\n\n    // Keep text uppercase when edited\n    fabricCanvas.current.on('text:changed', (e) => {\n      const obj = e.target;\n      if (obj && (obj.type === 'textbox' || obj.type === 'text' || obj.type === 'i-text')) {\n        const currentText = obj.text || '';\n        const upperText = currentText.toUpperCase();\n        if (currentText !== upperText) {\n          obj.set('text', upperText);\n          fabricCanvas.current.renderAll();\n        }\n      }\n    });\n\n    // Window resize handler\n     const handleResize = () => {\n    resizeCanvasToFitScreen();\n  };\n    \n  window.addEventListener('resize', handleResize);\n\n    // Store refs in variables for cleanup\n    const borderRects = borderRectsRef.current;\n    const canvas = fabricCanvas.current;\n    const timeoutRef = boundaryRectTimeoutRef;\n    \n    return () => {\n      window.removeEventListener('resize', handleResize);\n      \n      // Clear any pending boundary rect timeout\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n        timeoutRef.current = null;\n      }\n      \n      // Clean up border rectangles\n      if (canvas && borderRects) {\n        borderRects.forEach((borderRect) => {\n          canvas.remove(borderRect);\n        });\n        borderRects.clear();\n      }\n      // Dispose canvas only on component unmount\n      // Since selectedCaseType is removed from dependencies, this won't run on case changes\n      canvas?.dispose();\n    };\n}, [onPinSelect, updateControls, updateBorderRect, removeBorderRect, resizeCanvasToFitScreen, setShowControls]);\n\n  // Update controls position when selectedPin changes\n  useEffect(() => {\n    if (selectedPin && showControls) {\n      // Use requestAnimationFrame to ensure DOM is ready\n      requestAnimationFrame(() => {\n        updateControls(selectedPin);\n      });\n    }\n  }, [selectedPin, showControls, updateControls, updateControlsPosition]);\n\n  const handleAddText = useCallback(\n    (text, options = {}) => {\n      if (!fabricCanvas.current) return;\n\n      const trimmed = (text || '').trim().toUpperCase();\n      if (!trimmed) return;\n\n      const canvasWidth = fabricCanvas.current.getWidth();\n      const canvasHeight = fabricCanvas.current.getHeight();\n\n      const textInstance = new fabric.Textbox(trimmed, {\n        left: canvasWidth / 2,\n        top: canvasHeight / 2,\n        originX: 'center',\n        originY: 'center',\n        fontSize: Number(options.fontSize) || 28,\n        fill: options.fill || '#1f2937',\n        fontFamily: options.fontFamily || \"'Poppins', sans-serif\",\n        textAlign: 'center',\n        lineHeight: 1.2,\n        borderColor: 'transparent',\n        cornerColor: 'transparent',\n        cornerSize: 0,\n        transparentCorners: true,\n        padding: 6,\n        editable: true,\n        lockScalingX: true,\n        lockScalingY: true,\n        lockUniScaling: true,\n        hasControls: false,\n        hasBorders: false,\n      });\n\n      fabricCanvas.current.add(textInstance);\n      fabricCanvas.current.setActiveObject(textInstance);\n      // Create custom border rectangle\n      updateBorderRect(textInstance);\n      fabricCanvas.current.renderAll();\n\n      setSelectedPin(textInstance);\n      setShowControls(true);\n      updateControls(textInstance);\n    },\n    [updateControls, updateBorderRect, setShowControls]\n  );\n\n  // Case image loading disabled - using background div instead\n  // The case image is now displayed as a background div in CreateYours component\n  // Canvas is used only for charms/pins\n  // Note: This effect only cleans up case-related objects, NOT charms/pins\n  // Charms should persist when case/color changes\n  useEffect(() => {\n    if (!fabricCanvas.current) return;\n\n    // Clear any pending boundary rect timeout to prevent duplicates\n    if (boundaryRectTimeoutRef.current) {\n      clearTimeout(boundaryRectTimeoutRef.current);\n      boundaryRectTimeoutRef.current = null;\n    }\n\n    // Remove any existing case objects, boundary, and case border\n    // IMPORTANT: Do NOT remove charms/pins - only remove case-related objects\n    const objects = fabricCanvas.current.getObjects();\n    \n    // Helper function to identify boundary rects by their properties\n    const isBoundaryRect = (obj) => {\n      if (!obj || obj.type !== 'rect') return false;\n      // Check for custom property first (most reliable)\n      if (obj.isBoundaryRect === true) return true;\n      // Fallback: check for boundary rect properties: dashed stroke, transparent fill, not selectable\n      const strokeDashArray = obj.strokeDashArray;\n      const hasDashedStroke = Array.isArray(strokeDashArray) && \n        ((strokeDashArray[0] === 4 && strokeDashArray[1] === 4) || \n         (strokeDashArray[0] === 3 && strokeDashArray[1] === 3));\n      const isTransparentFill = !obj.fill || obj.fill === 'transparent';\n      const isNotSelectable = obj.selectable === false;\n      const isNotEvented = obj.evented === false;\n      \n      return hasDashedStroke && isTransparentFill && isNotSelectable && isNotEvented;\n    };\n    \n    objects.forEach(obj => {\n      // Remove case objects\n      if (obj.isCase) {\n        fabricCanvas.current.remove(obj);\n      }\n      // Remove boundary rects by checking properties (more reliable than ref comparison)\n      else if (isBoundaryRect(obj) || obj === boundaryRectRef.current || obj === caseBorderRectRef.current) {\n        fabricCanvas.current.remove(obj);\n      }\n    });\n    \n    // Clear all border rectangles (these are visual indicators, not charms)\n    borderRectsRef.current.forEach((borderRect) => {\n      fabricCanvas.current.remove(borderRect);\n    });\n    borderRectsRef.current.clear();\n    caseInstanceRef.current = null;\n    boundaryRectRef.current = null;\n    caseBorderRectRef.current = null;\n\n    // Ensure all charms/pins stay on top and visible\n    // Bring all non-case objects (charms/pins/text) to front\n    const remainingObjects = fabricCanvas.current.getObjects();\n    remainingObjects.forEach(obj => {\n      if (!obj.isCase && !isBoundaryRect(obj)) {\n        fabricCanvas.current.bringObjectToFront(obj);\n      }\n    });\n\n    // Re-render canvas to show updated case background while preserving charms\n    fabricCanvas.current.renderAll();\n  }, [selectedCaseType, selectedColor]);\n\n  // Handle pin selection from PinSelector\n  const handlePinSelection = useCallback(async (pin) => {\n    if (!fabricCanvas.current) return;\n\n    try {\n      // Get the pin's size property from products.json\n      // Size values in products.json are scale factors (typically 0.2 to 0.8)\n      // Base size: 100px, then multiply by the size factor\n      const baseSize = 100;\n      const pinSizeFactor = pin.size !== undefined ? pin.size : 0.5;\n      const pinSize = baseSize * pinSizeFactor;\n      \n      console.log('Adding pin to canvas:', pin.name, 'Size factor:', pinSizeFactor, 'Calculated size:', pinSize);\n      \n      const imgInstance = await loadImageLegacy(normalizeImagePath(pin.src), false, pinSize, pinSize);\n      \n      // Place the pin at a random position on the canvas\n      // Account for the pin's size to ensure it stays within canvas bounds\n      const canvasWidth = fabricCanvas.current.getWidth();\n      const canvasHeight = fabricCanvas.current.getHeight();\n      \n      // Use the actual rendered size of the pin (accounting for scale)\n      const pinWidth = (imgInstance.width || pinSize) * (imgInstance.scaleX || 1);\n      const pinHeight = (imgInstance.height || pinSize) * (imgInstance.scaleY || 1);\n      \n      // Calculate safe area (leave margin to prevent pins from going outside)\n      const margin = 20; // Margin from edges\n      const minX = margin + pinWidth / 2;\n      const maxX = canvasWidth - margin - pinWidth / 2;\n      const minY = margin + pinHeight / 2;\n      const maxY = canvasHeight - margin - pinHeight / 2;\n      \n      // Generate random position within safe bounds\n      const randomX = Math.random() * (maxX - minX) + minX;\n      const randomY = Math.random() * (maxY - minY) + minY;\n      \n      imgInstance.set({\n        left: randomX,\n        top: randomY\n      });\n\n      // Store pin data\n      imgInstance.pinData = pin;\n      \n      // Remove default borders\n      imgInstance.set({\n        hasBorders: false,\n        borderColor: 'transparent',\n      });\n      \n      fabricCanvas.current.setActiveObject(imgInstance);\n      // Create custom border rectangle\n      updateBorderRect(imgInstance);\n      fabricCanvas.current.renderAll();\n      \n      // Notify parent about pin addition exactly once per click\n      if (onPinSelect) {\n        onPinSelect(imgInstance);\n      }\n    } catch (error) {\n      console.error('Error loading pin:', error);\n    }\n  }, [onPinSelect, updateBorderRect, loadImageLegacy]);\n\n  // Handle save image\n  const handleSaveImage = useCallback(() => {\n    downloadCanvasImage(fabricCanvas, boundaryRectRef, caseBorderRectRef);\n  }, []);\n\n  // Get current composed design image as data URL\n  const getDesignImageDataURL = useCallback(() => {\n    return exportCanvasAsDataURL(fabricCanvas, boundaryRectRef, caseBorderRectRef);\n  }, []);\n\n  // Control handlers\n  const handleRotateLeft = () => {\n    if (selectedPin) {\n      const currentAngle = selectedPin.angle || 0;\n      selectedPin.set('angle', currentAngle - 15);\n      fabricCanvas.current.renderAll();\n      updateControls(selectedPin);\n    }\n  };\n\n  const handleRotateRight = () => {\n    if (selectedPin) {\n      const currentAngle = selectedPin.angle || 0;\n      selectedPin.set('angle', currentAngle + 15);\n      fabricCanvas.current.renderAll();\n      updateControls(selectedPin);\n    }\n  };\n\n  const handleDelete = () => {\n    if (selectedPin) {\n      // Remove border rectangle if exists\n      removeBorderRect(selectedPin);\n      fabricCanvas.current.remove(selectedPin);\n      fabricCanvas.current.discardActiveObject();\n      fabricCanvas.current.renderAll();\n      setSelectedPin(null);\n      setShowControls(false);\n      onPinRemove && onPinRemove(selectedPin);\n    }\n  };\n\n  // Expose pin selection method globally\n  useEffect(() => {\n    window.addPinToCanvas = handlePinSelection;\n    window.addTextToCanvas = handleAddText;\n    // Expose getter so parent can fetch current composed design image\n    window.getDesignImageDataURL = getDesignImageDataURL;\n    if (onSaveImage) {\n      onSaveImage(handleSaveImage);\n    }\n    return () => {\n      delete window.addPinToCanvas;\n      delete window.addTextToCanvas;\n      delete window.getDesignImageDataURL;\n    };\n  }, [handleAddText, handlePinSelection, onSaveImage, getDesignImageDataURL, handleSaveImage]);\n\n  return (\n    <div className=\"w-full h-full flex flex-col  sm:items-center \">\n      <div className=\"w-full h-full relative flex item-top justify-center  \">\n        <canvas \n          ref={canvasRef} \n          className=\"w-full h-screen \"\n          style={{ \n            background: 'transparent',\n            width: '100%',\n            height: '100%'\n          }}\n        />\n        \n        {/* Controls */}\n        <CanvasControls\n          showControls={showControls}\n          controlsPosition={controlsPosition}\n          onRotateLeft={handleRotateLeft}\n          onRotateRight={handleRotateRight}\n          onDelete={handleDelete}\n        />\n      </div>\n      \n    </div>\n  );\n};\n\nexport default Canvas;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1282, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/ViewMoreImagesButton.jsx"],"sourcesContent":["import React from 'react';\n\nconst ViewMoreImagesButton = ({ caseImages, onOpenModal }) => {\n  if (!caseImages || caseImages.length === 0) return null;\n\n  return (\n    <div className=\"flex-1 min-w-0 mt-12\">\n      <button\n        onClick={onOpenModal}\n        className=\"w-full px-3 md:px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-400 active:bg-gray-100 transition-all duration-200 flex items-center justify-center gap-2 shadow-sm hover:shadow-md\" \n        style={{fontFamily: \"'Poppins', sans-serif\"}}\n      >\n        <svg className=\"w-4 h-4 text-gray-600 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n        </svg>\n        <span className=\"whitespace-nowrap truncate\">IMAGES</span>\n        {caseImages.length > 0 && (\n          <span className=\"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full flex-shrink-0\">\n            {caseImages.length}\n          </span>\n        )}\n      </button>\n    </div>\n  );\n};\n\nexport default ViewMoreImagesButton;\n\n\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,uBAAuB,CAAC,EAAE,UAAU,EAAE,WAAW,EAAE;IACvD,IAAI,CAAC,cAAc,WAAW,MAAM,KAAK,GAAG,OAAO;IAEnD,qBACE,kSAAC;QAAI,WAAU;kBACb,cAAA,kSAAC;YACC,SAAS;YACT,WAAU;YACV,OAAO;gBAAC,YAAY;YAAuB;;8BAE3C,kSAAC;oBAAI,WAAU;oBAAsC,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAC7F,cAAA,kSAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;8BAEvE,kSAAC;oBAAK,WAAU;8BAA6B;;;;;;gBAC5C,WAAW,MAAM,GAAG,mBACnB,kSAAC;oBAAK,WAAU;8BACb,WAAW,MAAM;;;;;;;;;;;;;;;;;AAM9B;uCAEe"}},
    {"offset": {"line": 1354, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/ItemDescriptionDropdown.jsx"],"sourcesContent":["import React from 'react';\n\nconst ItemDescriptionDropdown = ({ selectedCase, onOpenModal }) => {\n  if (!selectedCase) return null;\n\n  return (\n    <div className=\"flex-1 min-w-0 mt-12\">\n      <button\n        onClick={onOpenModal}\n        className=\"w-full px-3 md:px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-200 transition-all duration-200 flex items-center justify-center gap-2 shadow-sm hover:shadow-md hover:bg-gray-50 hover:border-gray-400 active:bg-gray-100\"\n        style={{fontFamily: \"'Poppins', sans-serif\"}}\n      >\n        <svg className=\"w-4 h-4 text-gray-600 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n        <span className=\"whitespace-nowrap truncate\">DETAILS</span>\n      </button>\n    </div>\n  );\n};\n\nexport default ItemDescriptionDropdown;\n\n\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,0BAA0B,CAAC,EAAE,YAAY,EAAE,WAAW,EAAE;IAC5D,IAAI,CAAC,cAAc,OAAO;IAE1B,qBACE,kSAAC;QAAI,WAAU;kBACb,cAAA,kSAAC;YACC,SAAS;YACT,WAAU;YACV,OAAO;gBAAC,YAAY;YAAuB;;8BAE3C,kSAAC;oBAAI,WAAU;oBAAsC,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BAC7F,cAAA,kSAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;8BAEvE,kSAAC;oBAAK,WAAU;8BAA6B;;;;;;;;;;;;;;;;;AAIrD;uCAEe"}},
    {"offset": {"line": 1418, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/CanvasSection.jsx"],"sourcesContent":["import React from 'react';\nimport { normalizeImagePath } from '../../utils/imagePath';\nimport Canvas from '../Canvas';\nimport ViewMoreImagesButton from './ViewMoreImagesButton';\nimport ItemDescriptionDropdown from './ItemDescriptionDropdown';\n\nconst CanvasSection = ({\n  selectedCaseType,\n  selectedColor,\n  selectedCaseImage,\n  selectedCase,\n  caseImages,\n  isCaseDropdownOpen,\n  isCharmsDropdownOpen,\n  isAddTextDropdownOpen,\n  isMobile,\n  onPinSelect,\n  onPinRemove,\n  onOpenImageModal,\n  onOpenDescriptionModal,\n  Products\n}) => {\n  return (\n    <div className={`flex flex-col flex-shrink-0 ${\n      isMobile\n        ? 'justify-start sm:flex-1 sm:justify-center' \n        : 'md:w-1/2 md:flex-1 md:overflow-hidden md:px-0 md:py-0'\n    } px-2 xs:px-3 sm:px-4 py-0 xs:py-1 sm:py-2 ${\n      isCaseDropdownOpen || isCharmsDropdownOpen || isAddTextDropdownOpen\n        ? 'md:sticky md:top-0 md:self-start'\n        : ''\n    }`}>\n      <div className=\"w-full h-full flex flex-col justify-start xs:justify-start sm:justify-center items-center md:justify-between\">\n        <div className=\"w-full max-w-[300px] aspect-[300/350] relative md:mt-2\" style={{isolation: 'isolate'}}>\n          {/* Background Case Image - Always behind canvas */}\n          {selectedCaseImage && (\n            <img\n              src={normalizeImagePath(selectedCaseImage)}\n              alt=\"\"\n              className=\"absolute inset-0 w-full h-full object-contain pointer-events-none\"\n              style={{\n                zIndex: 0,\n                objectFit: 'contain',\n                objectPosition: 'center 45%',\n                width: '270px',\n                height: 'auto',\n                maxWidth: '100%',\n                margin: '0 auto',\n              }}\n              loading=\"eager\"\n              fetchPriority=\"high\"\n              decoding=\"async\"\n              width=\"270\"\n              height=\"350\"\n              aria-hidden=\"true\"\n              key={`case-bg-${selectedCaseType}-${selectedColor}`}\n            />\n          )}\n          {/* Canvas Overlay - Always on top */}\n          <div className=\"w-full h-full absolute inset-0\" style={{zIndex: 10, pointerEvents: 'auto', width: '100%', height: '100%'}}>\n            <Canvas\n              selectedCaseType={selectedCaseType}\n              selectedColor={selectedColor}\n              onPinSelect={onPinSelect}\n              onPinRemove={onPinRemove}\n              products={Products}\n            />\n          </div>\n        </div>\n        \n        {/* Action Buttons - Bottom - Hidden on mobile */}\n        <div className=\"mt-8 md:mt-8 mb-0 hidden md:flex flex-row gap-2 md:gap-2.5 lg:gap-3 flex-shrink-0 w-full max-w-full md:max-w-[480px] lg:max-w-[520px] relative z-0\">\n          <ViewMoreImagesButton\n            caseImages={caseImages}\n            onOpenModal={onOpenImageModal}\n          />\n          \n          <ItemDescriptionDropdown\n            selectedCase={selectedCase}\n            onOpenModal={onOpenDescriptionModal}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CanvasSection;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,gBAAgB,CAAC,EACrB,gBAAgB,EAChB,aAAa,EACb,iBAAiB,EACjB,YAAY,EACZ,UAAU,EACV,kBAAkB,EAClB,oBAAoB,EACpB,qBAAqB,EACrB,QAAQ,EACR,WAAW,EACX,WAAW,EACX,gBAAgB,EAChB,sBAAsB,EACtB,QAAQ,EACT;IACC,qBACE,kSAAC;QAAI,WAAW,CAAC,4BAA4B,EAC3C,WACI,8CACA,wDACL,2CAA2C,EAC1C,sBAAsB,wBAAwB,wBAC1C,qCACA,IACJ;kBACA,cAAA,kSAAC;YAAI,WAAU;;8BACb,kSAAC;oBAAI,WAAU;oBAAyD,OAAO;wBAAC,WAAW;oBAAS;;wBAEjG,mCACC,kSAAC;4BACC,KAAK,IAAA,mMAAkB,EAAC;4BACxB,KAAI;4BACJ,WAAU;4BACV,OAAO;gCACL,QAAQ;gCACR,WAAW;gCACX,gBAAgB;gCAChB,OAAO;gCACP,QAAQ;gCACR,UAAU;gCACV,QAAQ;4BACV;4BACA,SAAQ;4BACR,eAAc;4BACd,UAAS;4BACT,OAAM;4BACN,QAAO;4BACP,eAAY;2BACP,CAAC,QAAQ,EAAE,iBAAiB,CAAC,EAAE,eAAe;;;;;sCAIvD,kSAAC;4BAAI,WAAU;4BAAiC,OAAO;gCAAC,QAAQ;gCAAI,eAAe;gCAAQ,OAAO;gCAAQ,QAAQ;4BAAM;sCACtH,cAAA,kSAAC,mMAAM;gCACL,kBAAkB;gCAClB,eAAe;gCACf,aAAa;gCACb,aAAa;gCACb,UAAU;;;;;;;;;;;;;;;;;8BAMhB,kSAAC;oBAAI,WAAU;;sCACb,kSAAC,uNAAoB;4BACnB,YAAY;4BACZ,aAAa;;;;;;sCAGf,kSAAC,0NAAuB;4BACtB,cAAc;4BACd,aAAa;;;;;;;;;;;;;;;;;;;;;;;AAMzB;uCAEe"}},
    {"offset": {"line": 1542, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/data/constants.js"],"sourcesContent":["// Constants for CreateYours page\nexport const CUSTOM_TEXT_COLOR = '#675a3a'; // Old bronze color\nexport const CUSTOM_TEXT_SIZE = 28; // Smaller font size for bronze text\nexport const MAX_TEXT_LENGTH = 15;\n\n// Case options\nexport const CASE_OPTIONS = [\n  { \n    value: 'economy', \n    label: 'Economy - Â£8.00',\n    image: '/images/SmartCase/economycaselightpink.webp'\n  },\n  { \n    value: 'business', \n    label: 'Business - Â£12.00',\n    image: '/images/BusinessClassCase/businessclasscasegray.webp'\n  },\n  { \n    value: 'firstclass', \n    label: 'First Class - Â£12.00',\n    image: '/images/FirstClassCase/firstclasscasebrown.webp'\n  },\n];\n\n// Category options\nexport const CATEGORY_OPTIONS = [\n  { \n    value: 'bronze', \n    label: 'Bronze - Â£1.00',\n    image: '/images/BronzePins/airplane.webp'\n  },\n  { \n    value: 'colorful', \n    label: 'Colorful - Â£2.00',\n    image: '/images/ColorfulPins/beagoodhuman.webp'\n  },\n  { \n    value: 'flags', \n    label: 'Flags - Â£2.00',\n    image: '/images/Flags/albania.webp'\n  },\n];\n\n// Filter tabs for different categories\nexport const FLAGS_FILTER_TABS = [\n  { key: 'all', label: 'ALL' },\n  { key: 'europe', label: 'EUROPE' },\n  { key: 'americas', label: 'AMERICAS' },\n  { key: 'africa', label: 'AFRICA' },\n  { key: 'asia', label: 'ASIA' },\n  { key: 'special', label: 'SPECIAL' }\n];\n\nexport const COLORFUL_FILTER_TABS = [\n  { key: 'all', label: 'ALL' },\n  { key: 'travel', label: 'TRAVEL' },\n  { key: 'disney', label: 'DISNEY' },\n  { key: 'drinks', label: 'DRINKS' },\n  { key: 'inspiration', label: 'INSPIRATION' },\n  { key: 'hearts', label: 'HEARTS' },\n  { key: 'nature', label: 'NATURE' },\n  { key: 'camera', label: 'CAMERA' }\n];\n\nexport const BRONZE_FILTER_TABS = [\n  { key: 'all', label: 'ALL' },\n  { key: 'travel', label: 'TRAVEL' },\n  { key: 'animals', label: 'ANIMALS' },\n  { key: 'love', label: 'LOVE' },\n  { key: 'nature', label: 'NATURE' },\n  { key: 'symbols', label: 'SYMBOLS' }\n];\n\n\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;;;;;;;;;;;;;;AAC1B,MAAM,oBAAoB,WAAW,mBAAmB;AACxD,MAAM,mBAAmB,IAAI,oCAAoC;AACjE,MAAM,kBAAkB;AAGxB,MAAM,eAAe;IAC1B;QACE,OAAO;QACP,OAAO;QACP,OAAO;IACT;IACA;QACE,OAAO;QACP,OAAO;QACP,OAAO;IACT;IACA;QACE,OAAO;QACP,OAAO;QACP,OAAO;IACT;CACD;AAGM,MAAM,mBAAmB;IAC9B;QACE,OAAO;QACP,OAAO;QACP,OAAO;IACT;IACA;QACE,OAAO;QACP,OAAO;QACP,OAAO;IACT;IACA;QACE,OAAO;QACP,OAAO;QACP,OAAO;IACT;CACD;AAGM,MAAM,oBAAoB;IAC/B;QAAE,KAAK;QAAO,OAAO;IAAM;IAC3B;QAAE,KAAK;QAAU,OAAO;IAAS;IACjC;QAAE,KAAK;QAAY,OAAO;IAAW;IACrC;QAAE,KAAK;QAAU,OAAO;IAAS;IACjC;QAAE,KAAK;QAAQ,OAAO;IAAO;IAC7B;QAAE,KAAK;QAAW,OAAO;IAAU;CACpC;AAEM,MAAM,uBAAuB;IAClC;QAAE,KAAK;QAAO,OAAO;IAAM;IAC3B;QAAE,KAAK;QAAU,OAAO;IAAS;IACjC;QAAE,KAAK;QAAU,OAAO;IAAS;IACjC;QAAE,KAAK;QAAU,OAAO;IAAS;IACjC;QAAE,KAAK;QAAe,OAAO;IAAc;IAC3C;QAAE,KAAK;QAAU,OAAO;IAAS;IACjC;QAAE,KAAK;QAAU,OAAO;IAAS;IACjC;QAAE,KAAK;QAAU,OAAO;IAAS;CAClC;AAEM,MAAM,qBAAqB;IAChC;QAAE,KAAK;QAAO,OAAO;IAAM;IAC3B;QAAE,KAAK;QAAU,OAAO;IAAS;IACjC;QAAE,KAAK;QAAW,OAAO;IAAU;IACnC;QAAE,KAAK;QAAQ,OAAO;IAAO;IAC7B;QAAE,KAAK;QAAU,OAAO;IAAS;IACjC;QAAE,KAAK;QAAW,OAAO;IAAU;CACpC"}},
    {"offset": {"line": 1688, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/CaseSelector.jsx"],"sourcesContent":["import React from 'react';\nimport { CASE_OPTIONS } from '../../data/constants';\nimport { getMaxAvailableQuantity } from '../../utils/inventory';\nimport { normalizeImagePath } from '../../utils/imagePath';\n\nconst CaseSelector = ({ selectedCaseType, onSelect, Products, onDropdownToggle, cart = [] }) => {\n  // Get image for a case type\n  const getCaseImage = (caseType) => {\n    // First try to get from Products.cases\n    if (Products && Products.cases) {\n      const caseData = Products.cases.find(c => c.type === caseType);\n      if (caseData && caseData.colors && caseData.colors.length > 0) {\n        return caseData.colors[0].image;\n      }\n    }\n    \n    // Fallback to predefined images from constants\n    const caseOption = CASE_OPTIONS.find(opt => opt.value === caseType);\n    if (caseOption && caseOption.image) {\n      return caseOption.image;\n    }\n    \n    return null;\n  };\n\n  // Helper function to check if a case type is sold out (considering cart inventory)\n  // Shows \"Sold Out\" if no more items can be added to the basket\n  const isCaseTypeSoldOut = (caseType) => {\n    const caseData = Products && Products.cases ? Products.cases.find(c => c.type === caseType) : null;\n    if (!caseData) return false;\n    \n    // Note: We check inventory through getMaxAvailableQuantity below\n    // which properly handles localStorage quantities, product data, and cart items\n    // to determine if cases can be added to the basket\n    \n    // Check if all colors are sold out (considering cart inventory)\n    // This uses getMaxAvailableQuantity which checks both color-level and case-level quantities\n    if (caseData.colors && caseData.colors.length > 0) {\n      // Check if at least one color has available inventory that can be added to basket\n      // This considers items already in the basket/cart\n      const hasAvailableColor = caseData.colors.some(color => {\n        // Check available inventory considering cart (items in basket)\n        // getMaxAvailableQuantity returns how many MORE can be added to the basket\n        // It checks: color-level quantity -> case-level quantity -> product data\n        // Returns: null (unlimited), > 0 (can add more), or 0 (cannot add any more)\n        const productForInventory = {\n          caseType: caseType,\n          color: color.color,\n        };\n        const maxAvailable = getMaxAvailableQuantity(productForInventory, cart);\n        \n        // If maxAvailable is null, it means unlimited inventory (can add to basket)\n        // If maxAvailable > 0, there's inventory available (can add to basket)\n        // If maxAvailable === 0, no more can be added (all in basket or sold out) - SOLD OUT\n        return maxAvailable === null || maxAvailable > 0;\n      });\n      \n      // If no color has available inventory (maxAvailable === 0 for all colors), \n      // it means no cases can be added to the basket - show as SOLD OUT\n      return !hasAvailableColor;\n    }\n    \n    return false;\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"flex flex-nowrap gap-2 xs:gap-2.5 sm:gap-3 md:gap-4 lg:gap-5 xl:gap-6 justify-center items-start\">\n        {CASE_OPTIONS.map((opt) => {\n          const caseImage = getCaseImage(opt.value);\n          const soldOut = isCaseTypeSoldOut(opt.value);\n          const isSelected = selectedCaseType === opt.value;\n          \n          return (\n            <div\n              key={opt.value}\n              className={`transition-all duration-200 md:duration-300 lg:duration-500 flex flex-col items-center p-1.5 xs:p-2 sm:p-2.5 md:p-3 rounded-lg flex-1 max-w-[120px] xs:max-w-[140px] sm:max-w-[160px] md:max-w-[180px] lg:max-w-[200px] xl:max-w-[220px] ${isSelected ? 'bg-gray-50' : ''} ${soldOut ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\n              onClick={() => {\n                if (!soldOut) {\n                  onSelect(opt.value);\n                  // Close other dropdowns when selecting a case\n                  if (onDropdownToggle) {\n                    onDropdownToggle();\n                  }\n                }\n              }}\n            >\n              <div className=\"relative w-full\">\n                {caseImage && (\n                  <div\n                    className={`w-full aspect-square transition-all duration-200 md:duration-300 lg:duration-500 overflow-hidden flex items-center justify-center ${\n                      isSelected\n                        ? \"  scale-110\"\n                        : \"\"\n                    } ${soldOut ? 'opacity-50' : ''}`}\n                  >\n                    <img\n                      src={normalizeImagePath(caseImage)}\n                      alt={opt.label}\n                      className=\"w-full h-full object-contain p-1 xs:p-1.5 sm:p-2 md:p-2.5 lg:p-3 xl:p-4\"\n                      loading=\"lazy\"\n                      onError={(e) => {\n                        e.target.style.display = 'none';\n                      }}\n                    />\n                  </div>\n                )}\n                {isSelected && !soldOut && (\n                  <div className=\"absolute top-0 right-0 md:top-1 md:right-4 lg:top-2 lg:right-4 xl:top-2.5 xl:right-4.5 w-5 h-5 md:w-6 md:h-6 lg:w-7 lg:h-7 xl:w-8 xl:h-8 bg-gray-900 rounded-full flex items-center justify-center shadow-md z-10\">\n                    <svg className=\"w-3 h-3 md:w-3.5 md:h-3.5 lg:w-4 lg:h-4 xl:w-5 xl:h-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                    </svg>\n                  </div>\n                )}\n              </div>\n              <div className=\"flex flex-col items-center mt-2 md:mt-3 lg:mt-4 text-center\">\n                <span className={`text-xs md:text-sm font-medium tracking-wider ${isSelected ? 'text-gray-700' : 'text-gray-500'}`} style={{fontFamily: \"'Poppins', sans-serif\"}}>\n                  {opt.label.split(' - ')[0]}\n                </span>\n                <span className={`text-xs md:text-sm font-medium mt-0.5 ${isSelected ? 'text-gray-500' : 'text-gray-400'}`} style={{fontFamily: \"'Poppins', sans-serif\"}}>\n                  {opt.label.split(' - ')[1]}\n                </span>\n              </div>\n              {soldOut && (\n                <span className=\"text-[10px] md:text-xs lg:text-sm text-red-600 font-medium mt-1 md:mt-2\">Sold Out</span>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default CaseSelector;\n\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1889, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/ColorSelector/index.jsx"],"sourcesContent":["import React from \"react\";\nimport { getMaxAvailableQuantity } from '../../utils/inventory';\n\n// Helper function to extract color name from image filename\nconst getColorName = (image) => {\n  if (!image) return '';\n  \n  // Extract filename from path\n  const filename = image.split('/').pop().replace('.webp', '').replace('.png', '').replace('.jpg', '').toLowerCase();\n  \n  // Remove case type prefixes (economycase, businessclasscase, firstclasscase, etc.)\n  let colorPart = filename\n    .replace(/^economycase/i, '')\n    .replace(/^businessclasscase/i, '')\n    .replace(/^firstclasscase/i, '')\n    .replace(/^smartcase/i, '')\n    .replace(/^premiumcase/i, '')\n    .replace(/^firstclass/i, '');\n  \n  // Handle common color name patterns\n  const colorMap = {\n    'lightpink': 'Light Pink',\n    'lightblue': 'Light Blue',\n    'lightbrown': 'Light Brown',\n    'darkbrown': 'Dark Brown',\n    'darkblue': 'Dark Blue',\n    'jeansblue': 'Jeans Blue',\n    'brickred': 'Brick Red',\n    'ligthpink': 'Light Pink', // Handle typo\n    'navyblue': 'Navy Blue',\n    'gray': 'Gray',\n    'grey': 'Gray',\n    'black': 'Black',\n    'brown': 'Brown',\n    'red': 'Red',\n    'pink': 'Pink',\n    'blue': 'Blue',\n    'green': 'Green',\n    'purple': 'Purple',\n    'yellow': 'Yellow',\n    'orange': 'Orange'\n  };\n  \n  // Check if exact match exists\n  if (colorMap[colorPart]) {\n    return colorMap[colorPart];\n  }\n  \n  // Try to split camelCase or find common patterns\n  // Split on common word boundaries\n  colorPart = colorPart\n    .replace(/([a-z])([A-Z])/g, '$1 $2') // camelCase\n    .replace(/(dark|light|navy|jeans|brick)([a-z]+)/g, '$1 $2') // prefixes\n    .split(/(?=[A-Z])|(?=dark|light|navy|jeans|brick)/) // split on capitals or prefixes\n    .filter(word => word.length > 0)\n    .join(' ')\n    .toLowerCase()\n    .split(' ')\n    .map(word => {\n      // Check if word is in color map\n      if (colorMap[word]) return colorMap[word];\n      // Capitalize first letter\n      return word.charAt(0).toUpperCase() + word.slice(1);\n    })\n    .join(' ');\n  \n  return colorPart || 'Color';\n};\n\nconst ColorSelector = ({ colors, selectedColor, onSelect, caseType, cart = [] }) => {\n  // Helper function to check if a color is sold out (considering cart inventory)\n  const isColorSoldOut = (color) => {\n    if (!caseType || !color) {\n      // Fallback to checking quantity property if caseType not provided\n      const colorData = colors.find(c => c.color === color);\n      return colorData?.quantity !== undefined && colorData.quantity === 0;\n    }\n    \n    // Check available inventory considering cart (items in basket)\n    const productForInventory = {\n      caseType: caseType,\n      color: color,\n    };\n    const maxAvailable = getMaxAvailableQuantity(productForInventory, cart);\n    \n    // If maxAvailable === 0, no more can be added (all in basket or sold out) - SOLD OUT\n    // If maxAvailable is null (unlimited) or > 0, color is available\n    return maxAvailable !== null && maxAvailable === 0;\n  };\n\n  return (\n    <div className=\"overflow-visible\">\n      <div className=\"flex flex-wrap gap-3 overflow-visible justify-center\">\n        {colors.map(({ color, image, quantity }) => {\n          const colorName = getColorName(image);\n          const isSelected = selectedColor === color;\n          // Check if sold out considering cart inventory\n          const isSoldOut = isColorSoldOut(color);\n          \n          return (\n            <div\n              key={color}\n              className={`transition-all duration-200 flex flex-col items-center overflow-visible ${isSoldOut ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\n              onClick={() => !isSoldOut && onSelect(color, image)}\n            >\n              <div className=\"relative overflow-visible\">\n                <div\n                  className={`w-10 h-10 rounded-full border-2 transition-all duration-200 ${\n                    isSelected\n                      ? \"border-gray-900 ring-2 ring-gray-300 scale-110\"\n                      : \"border-gray-200 hover:border-gray-400\"\n                  } ${isSoldOut ? 'opacity-50' : ''}`}\n                  style={{ backgroundColor: color }}\n                />\n                {isSelected && !isSoldOut && (\n                  <div className=\"absolute top-0 right-0 w-4 h-4 bg-gray-900 rounded-full flex items-center justify-center z-10\">\n                    <svg className=\"w-2 h-2 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                    </svg>\n                  </div>\n                )}\n              </div>\n              {colorName && (\n                <span className={`text-xs font-medium mt-2 text-center font-inter ${\n                  isSelected ? 'text-gray-900' : 'text-gray-700'\n                } ${isSoldOut ? 'text-white ' : ''}`}>\n                  {colorName}\n                </span>\n              )}\n              {isSoldOut && (\n                <span className=\"text-[10px] -mt-4 text-red-600 font-medium \">Sold Out</span>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default ColorSelector;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2060, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/CaseSelectionSection.jsx"],"sourcesContent":["import React from 'react';\nimport CaseSelector from './CaseSelector';\nimport ColorSelector from '../ColorSelector';\n\nconst CaseSelectionSection = ({\n  isOpen,\n  onToggle,\n  selectedCaseType,\n  selectedColor,\n  selectedCase,\n  onCaseSelect,\n  onColorSelect,\n  setIsCaseDropdownOpen,\n  Products,\n  cart\n}) => {\n  return (\n    <div className=\"pb-6 border-b border-gray-100 flex-shrink-0 mt-6 overflow-visible hidden md:block\">\n      <button\n        onClick={onToggle}\n        className=\"w-full flex items-center justify-between mb-4\"\n      >\n        <h3 className=\"text-sm uppercase tracking-wider text-gray-900 font-medium\" style={{fontFamily: \"'Poppins', sans-serif\"}}>\n          1. Choose Case\n        </h3>\n        <svg \n          className={`w-4 h-4 text-gray-500 transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}\n          fill=\"none\" \n          stroke=\"currentColor\" \n          viewBox=\"0 0 24 24\"\n        >\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n\n      {isOpen && (\n        <div className=\"space-y-6 overflow-visible\">\n          <CaseSelector\n            selectedCaseType={selectedCaseType}\n            onSelect={onCaseSelect}\n            Products={Products}\n            isCaseDropdownOpen={isOpen}\n            setIsCaseDropdownOpen={setIsCaseDropdownOpen}\n            cart={cart}\n          />\n          \n          {selectedColor && (\n            <div className=\"mt-10 overflow-visible\">\n              <ColorSelector\n                colors={selectedCase?.colors || []}\n                selectedColor={selectedColor}\n                onSelect={onColorSelect}\n                caseType={selectedCaseType}\n                cart={cart}\n              />\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CaseSelectionSection;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,uBAAuB,CAAC,EAC5B,MAAM,EACN,QAAQ,EACR,gBAAgB,EAChB,aAAa,EACb,YAAY,EACZ,YAAY,EACZ,aAAa,EACb,qBAAqB,EACrB,QAAQ,EACR,IAAI,EACL;IACC,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,kSAAC;wBAAG,WAAU;wBAA6D,OAAO;4BAAC,YAAY;wBAAuB;kCAAG;;;;;;kCAGzH,kSAAC;wBACC,WAAW,CAAC,wDAAwD,EAAE,SAAS,eAAe,IAAI;wBAClG,MAAK;wBACL,QAAO;wBACP,SAAQ;kCAER,cAAA,kSAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;;;;;;;YAIxE,wBACC,kSAAC;gBAAI,WAAU;;kCACb,kSAAC,+MAAY;wBACX,kBAAkB;wBAClB,UAAU;wBACV,UAAU;wBACV,oBAAoB;wBACpB,uBAAuB;wBACvB,MAAM;;;;;;oBAGP,+BACC,kSAAC;wBAAI,WAAU;kCACb,cAAA,kSAAC,0MAAa;4BACZ,QAAQ,cAAc,UAAU,EAAE;4BAClC,eAAe;4BACf,UAAU;4BACV,UAAU;4BACV,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAQtB;uCAEe"}},
    {"offset": {"line": 2168, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/PinSelector/index.jsx"],"sourcesContent":["import React, { useState, useMemo, useEffect } from \"react\";\nimport { CATEGORY_OPTIONS as CATEGORY_OPTIONS_WITH_IMAGES } from \"../../data/constants\";\nimport { getMaxAvailableQuantity } from \"../../utils/inventory\";\nimport { normalizeImagePath } from \"../../utils/imagePath\";\n\n// -----------------------------\n// Helpers\n// -----------------------------\n\nconst filterPinsBySubCategory = (pins, selectedCategory, subCategory) => {\n  if (!subCategory || subCategory === \"all\") return pins;\n\n  return pins.filter((pin) => {\n    if (selectedCategory === \"colorful\" || selectedCategory === \"bronze\") {\n      return pin.subCategory === subCategory;\n    }\n\n    if (selectedCategory === \"flags\") {\n      return pin.continent === subCategory;\n    }\n\n    return true;\n  });\n};\n\nconst CATEGORY_OPTIONS = [\n  { value: \"bronze\", label: \"Bronze Charms\", price: \"Â£1.50 each\" },\n  { value: \"colorful\", label: \"Colorful Charms\", price: \"Â£2.00 each\" },\n  { value: \"flags\", label: \"Flags Collection\", price: \"Â£2.00 each\" },\n];\n\nconst SUBCATEGORY_TABS = {\n  colorful: [\n    { key: \"all\", label: \"ALL\" },\n    { key: \"travel\", label: \"TRAVEL\" },\n    { key: \"disney\", label: \"DISNEY\" },\n    { key: \"drinks\", label: \"DRINKS\" },\n    { key: \"inspiration\", label: \"INSPIRATION\" },\n    { key: \"hearts\", label: \"HEARTS\" },\n    { key: \"nature\", label: \"NATURE\" },\n    { key: \"camera\", label: \"CAMERA\" },\n  ],\n  bronze: [\n    { key: \"all\", label: \"ALL\" },\n    { key: \"travel\", label: \"TRAVEL\" },\n    { key: \"animals\", label: \"ANIMALS\" },\n    { key: \"love\", label: \"LOVE\" },\n    { key: \"nature\", label: \"NATURE\" },\n    { key: \"symbols\", label: \"SYMBOLS\" },\n  ],\n  flags: [\n    { key: \"all\", label: \"ALL\" },\n    { key: \"europe\", label: \"EUROPE\" },\n    { key: \"americas\", label: \"AMERICAS\" },\n    { key: \"africa\", label: \"AFRICA\" },\n    { key: \"asia\", label: \"ASIA\" },\n    { key: \"special\", label: \"SPECIAL\" },\n  ],\n};\n\n// -----------------------------\n// Presentational components\n// -----------------------------\n\nconst CategorySelector = ({\n  selectedCategory,\n  setSelectedCategory,\n  onDropdownToggle,\n  getPreviewImage,\n}) => (\n  <div className=\"grid grid-cols-3 gap-2 mb-4\">\n    {CATEGORY_OPTIONS.map((opt) => {\n      const previewImage = getPreviewImage(opt.value);\n      const isActive = selectedCategory === opt.value;\n\n      return (\n        <button\n          key={opt.value}\n          type=\"button\"\n          role=\"option\"\n          aria-selected={isActive}\n          className={`font-inter flex flex-col items-center p-2.5 rounded-lg transition-colors ${\n            isActive ? \"bg-gray-50\" : \"hover:bg-gray-50\"\n          }`}\n          onClick={() => {\n            setSelectedCategory(opt.value);\n            if (onDropdownToggle) {\n              onDropdownToggle();\n            }\n          }}\n        >\n          {previewImage && (\n            <div\n              className=\"relative mb-2 flex items-center justify-center rounded overflow-visible\"\n              style={{ width: \"4rem\", height: \"4rem\" }}\n            >\n              <div className=\"w-full h-full flex items-center justify-center rounded overflow-hidden\">\n                <img\n                  src={normalizeImagePath(previewImage)}\n                  alt={opt.label}\n                  className=\"max-w-full max-h-full object-contain p-1\"\n                  loading=\"lazy\"\n                  decoding=\"async\"\n                />\n              </div>\n              {isActive && (\n                <div className=\"absolute -top-1 -right-1 w-5 h-5 bg-gray-900 rounded-full flex items-center justify-center z-20 shadow-sm \">\n                  <svg\n                    className=\"w-3 h-3 text-white\"\n                    fill=\"currentColor\"\n                    viewBox=\"0 0 20 20\"\n                  >\n                    <path\n                      fillRule=\"evenodd\"\n                      d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                      clipRule=\"evenodd\"\n                    />\n                  </svg>\n                </div>\n              )}\n            </div>\n          )}\n          <span\n            className={`text-xs text-center font-light ${\n              isActive ? \"text-gray-900\" : \"text-gray-600\"\n            }`}\n          >\n            {opt.label}\n          </span>\n          <span className=\"text-[10px] text-gray-500 mt-0.5\">\n            {opt.price}\n          </span>\n        </button>\n      );\n    })}\n  </div>\n);\n\nconst SubCategoryTabs = ({\n  selectedCategory,\n  subCategory,\n  setSubCategory,\n  getSubCategoryCount,\n}) => {\n  if (!selectedCategory) return null;\n\n  const tabs = SUBCATEGORY_TABS[selectedCategory];\n  if (!tabs) return null;\n\n  const baseClasses =\n    \"px-3 py-2 text-caption uppercase tracking-wider transition-all duration-200 font-inter\";\n\n  return (\n    <div className=\"mb-4 flex flex-wrap gap-1 border-b border-gray-200 justify-center\">\n      {tabs.map(({ key, label }) => {\n        const count = getSubCategoryCount(key);\n        const isActive = subCategory === key;\n\n        const activeClasses =\n          selectedCategory === \"flags\"\n            ? \"text-gray-900 font-medium\"\n            : \"border-b-2 border-gray-900 text-gray-900 font-medium\";\n\n        const inactiveClasses =\n          selectedCategory === \"flags\"\n            ? \"border-transparent text-gray-500 hover:text-gray-900 hover:border-gray-300\"\n            : \"border-b-2 border-transparent text-gray-500 hover:text-gray-900 hover:border-gray-300\";\n\n        return (\n          <button\n            key={key}\n            onClick={() => setSubCategory(key)}\n            className={`${baseClasses} ${\n              isActive ? activeClasses : inactiveClasses\n            }`}\n          >\n            {label}{\" \"}\n            <span className=\"text-gray-400 font-normal\">({count})</span>\n          </button>\n        );\n      })}\n    </div>\n  );\n};\n\nconst PinCard = ({ pin, isSelected, isSoldOut, onClick }) => {\n  // Get size label based on pin.size from products.json\n  const getSizeLabel = (size) => {\n    if (!size) return '';\n    if (size <= 0.3) return 'XS';\n    if (size <= 0.45) return 'S';\n    if (size <= 0.6) return 'M';\n    if (size <= 0.75) return 'L';\n    return 'XL';\n  };\n\n  const sizeLabel = getSizeLabel(pin.size);\n\n  return (\n    <div\n      className={`flex flex-col items-center justify-center text-center space-y-1 sm:space-y-2 p-2 sm:p-3 h-full transition-colors group touch-manipulation ${\n        isSoldOut ? \"opacity-50 cursor-not-allowed\" : \"cursor-pointer\"\n      }`}\n      onClick={onClick}\n    >\n      <div className=\"relative\" style={{ overflow: \"visible\" }}>\n        <div className=\"w-16 h-16 sm:w-20 sm:h-20 aspect-square flex items-center justify-center bg-transparent\">\n          <img\n            src={normalizeImagePath(pin.src)}\n            alt={pin.name}\n            className={`w-full h-full object-contain transition-all duration-200 rounded ${\n              isSoldOut ? \"opacity-50\" : \"\"\n            }`}\n            loading=\"lazy\"\n          />\n        </div>\n        {isSelected && !isSoldOut && (\n          <div className=\"absolute -top-1 -right-1 bg-black text-white w-6 h-6 flex items-center justify-center text-xs rounded-full z-10 shadow-md\">\n            âœ“\n          </div>\n        )}\n        {sizeLabel && (\n          <div className=\"absolute -top-1 -left-1 bg-gray-100 text-gray-700 text-[8px] font-medium px-1.5 py-0.5 rounded-full z-10 border border-gray-300\">\n            {sizeLabel}\n          </div>\n        )}\n      </div>\n      <span className=\"text-xs text-center text-gray-700 transition-colors line-clamp-2 font-inter\">\n        {pin.name}\n      </span>\n      {isSoldOut && (\n        <span className=\"text-[9px] text-red-600 font-medium\">Sold Out</span>\n      )}\n    </div>\n  );\n};\n\nconst PinGrid = ({ filteredPins, selectedPins, onSelect, onRemove, cart, selectedCategory }) => {\n  // Helper function to check if a charm is sold out\n  const checkCharmSoldOut = (pin) => {\n    // Get charm category\n    const charmCategory = pin.category || selectedCategory || 'colorful';\n    const charmName = pin.name || pin.src || '';\n    \n    const product = {\n      type: 'charm',\n      category: charmCategory,\n      pin: pin,\n      name: charmName\n    };\n    \n    const maxAvailable = getMaxAvailableQuantity(product, cart || []);\n    \n    // If no inventory limit, not sold out\n    if (maxAvailable === null) {\n      return false;\n    }\n    \n    // Count standalone charms already in cart\n    let standaloneCharmsInCart = 0;\n    (cart || []).forEach(cartItem => {\n      if (cartItem.type === 'charm') {\n        const cartPin = cartItem.pin || cartItem;\n        const cartPinName = cartPin.name || cartPin.src;\n        const cartPinCategory = cartPin.category || cartItem.category || charmCategory;\n        if ((cartPinName === charmName || cartPinName === pin.src) && \n            cartPinCategory === charmCategory) {\n          standaloneCharmsInCart += (cartItem.quantity || 1);\n        }\n      }\n    });\n    \n    // Count how many of this charm are in custom designs already in cart\n    let charmCountInCustomDesigns = 0;\n    (cart || []).forEach(cartItem => {\n      if (cartItem.pins && Array.isArray(cartItem.pins)) {\n        cartItem.pins.forEach(cartPin => {\n          const cartPinName = cartPin.name || cartPin.src;\n          const cartPinCategory = cartPin.category || charmCategory;\n          if ((cartPinName === charmName || cartPinName === pin.src) && \n              cartPinCategory === charmCategory) {\n            charmCountInCustomDesigns += (cartItem.quantity || 1);\n          }\n        });\n      }\n    });\n    \n    // Count how many of this charm are already selected in the current design\n    const charmCountInDesign = selectedPins.filter(p => {\n      const pPin = p.pin || p;\n      const pPinName = pPin.name || pPin.src;\n      const pPinCategory = pPin.category || charmCategory;\n      return (pPinName === charmName || pPinName === pin.src) && \n             pPinCategory === charmCategory;\n    }).length;\n    \n    // Calculate total inventory: maxAvailable + standalone charms in cart\n    const totalInventory = maxAvailable + standaloneCharmsInCart;\n    \n    // Calculate total usage: standalone + in custom designs + in current design\n    const totalUsage = standaloneCharmsInCart + charmCountInCustomDesigns + charmCountInDesign;\n    \n    // Sold out if maxAvailable is 0 or total usage equals or exceeds total inventory\n    return maxAvailable === 0 || totalUsage >= totalInventory;\n  };\n\n  return (\n    <div className=\"max-h-80 sm:max-h-96 overflow-y-auto p-2\">\n      <div className=\"grid grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-2 justify-items-center md:max-w-3xl mx-auto\">\n        {filteredPins.map((pin, index) => {\n          const selectedPinEntry = selectedPins.find((p) => p.pin === pin);\n          const isSelected = !!selectedPinEntry;\n          const isSoldOut = checkCharmSoldOut(pin);\n          const uniqueKey = pin.src\n            ? `${pin.src}-${index}`\n            : `${pin.name}-${index}`;\n\n          const handleClick = () => {\n            if (isSoldOut) return;\n            if (isSelected && onRemove && selectedPinEntry) {\n              onRemove(selectedPinEntry.imgInstance);\n            } else {\n              onSelect(pin);\n            }\n          };\n\n          return (\n            <PinCard\n              key={uniqueKey}\n              pin={pin}\n              isSelected={isSelected}\n              isSoldOut={isSoldOut}\n              onClick={handleClick}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nconst PinSelector = ({\n  pins,\n  selectedCategory,\n  setSelectedCategory,\n  selectedPins,\n  onSelect,\n  onRemove,\n  onDropdownToggle,\n  Products,\n  cart,\n}) => {\n  const [subCategory, setSubCategory] = useState(\"all\");\n\n  // Reset subCategory when selectedCategory changes\n  useEffect(() => {\n    setSubCategory(\"all\");\n  }, [selectedCategory]);\n\n  const filteredPins = useMemo(\n    () => filterPinsBySubCategory(pins, selectedCategory, subCategory),\n    [pins, selectedCategory, subCategory]\n  );\n\n  // Get preview image for each category\n  const getPreviewImage = (categoryValue) => {\n    // First try to get from Products.pins\n    if (Products && Products.pins) {\n      if (\n        categoryValue === \"bronze\" &&\n        Products.pins.bronze &&\n        Products.pins.bronze.length > 0\n      ) {\n        return Products.pins.bronze[0].src;\n      }\n      if (\n        categoryValue === \"colorful\" &&\n        Products.pins.colorful &&\n        Products.pins.colorful.length > 0\n      ) {\n        return Products.pins.colorful[0].src;\n      }\n      if (\n        categoryValue === \"flags\" &&\n        Products.pins.flags &&\n        Products.pins.flags.length > 0\n      ) {\n        return Products.pins.flags[0].src;\n      }\n    }\n    \n    // Fallback to predefined images from constants\n    const categoryOption = CATEGORY_OPTIONS_WITH_IMAGES.find(opt => opt.value === categoryValue);\n    if (categoryOption && categoryOption.image) {\n      return categoryOption.image;\n    }\n    \n    return null;\n  };\n\n  // Count charms for a specific subcategory\n  const getSubCategoryCount = (subCat) =>\n    filterPinsBySubCategory(pins, selectedCategory, subCat).length;\n\n  return (\n    <div>\n      <CategorySelector\n        selectedCategory={selectedCategory}\n        setSelectedCategory={setSelectedCategory}\n        onDropdownToggle={onDropdownToggle}\n        getPreviewImage={getPreviewImage}\n      />\n\n      {selectedCategory && (\n        <div className=\"mt-4 pb-4\">\n          <SubCategoryTabs\n            selectedCategory={selectedCategory}\n            subCategory={subCategory}\n            setSubCategory={setSubCategory}\n            getSubCategoryCount={getSubCategoryCount}\n          />\n\n          <PinGrid\n            filteredPins={filteredPins}\n            selectedPins={selectedPins}\n            onSelect={onSelect}\n            onRemove={onRemove}\n            cart={cart}\n            selectedCategory={selectedCategory}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PinSelector;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2718, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/CharmsSelectionSection.jsx"],"sourcesContent":["import React from 'react';\nimport PinSelector from '../PinSelector';\n\nconst CharmsSelectionSection = ({\n  isOpen,\n  onToggle,\n  pins,\n  selectedCategory,\n  setSelectedCategory,\n  selectedPins,\n  onPinSelect,\n  Products,\n  cart\n}) => {\n  return (\n    <div className=\"pb-6 border-b border-gray-100 mt-6 hidden md:block\">\n      <button\n        onClick={onToggle}\n        className=\"w-full flex items-center justify-between mb-4\"\n      >\n        <h3 className=\"text-sm uppercase tracking-wider text-gray-900 font-medium\" style={{fontFamily: \"'Poppins', sans-serif\"}}>\n          3. Choose Charms\n        </h3>\n        <svg \n          className={`w-4 h-4 text-gray-500 transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}\n          fill=\"none\" \n          stroke=\"currentColor\" \n          viewBox=\"0 0 24 24\"\n        >\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n\n      {isOpen && (\n        <div className=\"relative z-10\">\n          <PinSelector\n            pins={pins}\n            selectedCategory={selectedCategory}\n            setSelectedCategory={setSelectedCategory}\n            selectedPins={selectedPins}\n            onSelect={onPinSelect}\n            Products={Products}\n            cart={cart}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CharmsSelectionSection;\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,yBAAyB,CAAC,EAC9B,MAAM,EACN,QAAQ,EACR,IAAI,EACJ,gBAAgB,EAChB,mBAAmB,EACnB,YAAY,EACZ,WAAW,EACX,QAAQ,EACR,IAAI,EACL;IACC,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,kSAAC;wBAAG,WAAU;wBAA6D,OAAO;4BAAC,YAAY;wBAAuB;kCAAG;;;;;;kCAGzH,kSAAC;wBACC,WAAW,CAAC,wDAAwD,EAAE,SAAS,eAAe,IAAI;wBAClG,MAAK;wBACL,QAAO;wBACP,SAAQ;kCAER,cAAA,kSAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;;;;;;;YAIxE,wBACC,kSAAC;gBAAI,WAAU;0BACb,cAAA,kSAAC,wMAAW;oBACV,MAAM;oBACN,kBAAkB;oBAClB,qBAAqB;oBACrB,cAAc;oBACd,UAAU;oBACV,UAAU;oBACV,MAAM;;;;;;;;;;;;;;;;;AAMlB;uCAEe"}},
    {"offset": {"line": 2805, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/CustomTextSection.jsx"],"sourcesContent":["import React from 'react';\nimport { CUSTOM_TEXT_COLOR, CUSTOM_TEXT_SIZE, MAX_TEXT_LENGTH } from '../../data/constants';\n\nconst CustomTextSection = ({ \n  customText, \n  setCustomText, \n  customTextError, \n  setCustomTextError, \n  customTextAdded, \n  setCustomTextAdded,\n  onTextAdded,\n  onClose \n}) => {\n  const handleAddText = () => {\n    if (!customText.trim()) {\n      setCustomTextError('Please enter the text you want to add.');\n      return;\n    }\n\n    if (typeof window !== 'undefined' && window.addTextToCanvas) {\n      window.addTextToCanvas(customText, {\n        fill: CUSTOM_TEXT_COLOR,\n        fontSize: CUSTOM_TEXT_SIZE,\n      });\n      setCustomTextAdded(true);\n      setCustomTextError('');\n      // Notify parent that text was added - make number 3 black\n      if (onTextAdded) {\n        onTextAdded();\n      }\n      // Close dropdown after adding text (with a small delay to show success message)\n      if (onClose) {\n        setTimeout(() => {\n          onClose();\n        }, 1000);\n      }\n    } else {\n      setCustomTextError('Canvas is still loading. Please try again in a moment.');\n    }\n  };\n\n  const handleClear = () => {\n    setCustomText('');\n    setCustomTextAdded(false);\n    setCustomTextError('');\n  };\n\n  const handleInputFocus = (e) => {\n    // Prevent page scroll/movement when input is focused (like payment forms)\n    // Store current scroll position\n    const scrollY = window.scrollY || window.pageYOffset;\n    const scrollX = window.scrollX || window.pageXOffset;\n    \n    // Use setTimeout to restore scroll position after browser's default behavior\n    setTimeout(() => {\n      window.scrollTo({\n        left: scrollX,\n        top: scrollY,\n        behavior: 'instant'\n      });\n    }, 0);\n    \n    // Also use requestAnimationFrame as a backup\n    requestAnimationFrame(() => {\n      window.scrollTo({\n        left: scrollX,\n        top: scrollY,\n        behavior: 'instant'\n      });\n    });\n  };\n\n  return (\n    <div className=\"space-y-4 \">\n        <div>\n          <input\n            type=\"text\"\n            value={customText || ''}\n            onChange={(e) => {\n              setCustomText(e.target.value);\n              setCustomTextError('');\n              setCustomTextAdded(false);\n            }}\n            onFocus={handleInputFocus}\n            placeholder=\"e.g. Your name\"\n            className=\"w-full px-3 py-2 border border-gray-200  focus:outline-none focus:border-gray-400 bg-white text-gray-900 placeholder-gray-400 font-thin text-sm font-inter\"\n            maxLength={40}\n          />\n          <p className=\"mt-1 text-sm text-gray-500 font-inter\">\n            Up to {MAX_TEXT_LENGTH} characters. Double-click the text on the case to edit or move it.\n          </p>\n        </div>\n       \n        {customTextError && (\n          <div className=\"text-sm text-gray-600 border border-gray-200 bg-gray-50 px-3 py-2\">\n            {customTextError}\n          </div>\n        )}\n        {customTextAdded && (\n          <div className=\"text-sm text-green-600 py-2\">\n            Text added to your design! You can drag it to reposition it.\n          </div>\n        )}\n        <div className=\"flex flex-row gap-2\">\n          <button\n            onClick={handleAddText}\n            disabled={!customText.trim()}\n            className=\"flex-1 px-3 py-1.5 text-xs font-medium uppercase tracking-wider active:bg-blue-200 disabled:bg-gray-50 disabled:text-gray-400 disabled:cursor-not-allowed active:scale-95 disabled:scale-100 font-inter bg-btn-light-blue hover:bg-btn-light-blue-hover text-btn-light-blue-text border hover:border-btn-light-blue-hover transition-all duration-200\"\n          >\n           Add Text\n          </button>\n          <button\n            onClick={handleClear}\n            disabled={!customText.trim()}\n            className=\"px-3 py-1.5 text-xs font-medium uppercase tracking-wider active:bg-gray-200 disabled:bg-gray-50 disabled:text-gray-400 disabled:border-gray-100 disabled:cursor-not-allowed active:scale-95 disabled:scale-100 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-1 font-inter bg-btn-light-gray hover:bg-btn-light-gray-hover text-btn-light-gray-text border border-btn-light-gray-border hover:border-btn-light-gray-hover transition-all duration-200\"\n          >\n           Clear\n          </button>\n        </div>\n    </div>\n  );\n};\n\nexport default CustomTextSection;\n\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,oBAAoB,CAAC,EACzB,UAAU,EACV,aAAa,EACb,eAAe,EACf,kBAAkB,EAClB,eAAe,EACf,kBAAkB,EAClB,WAAW,EACX,OAAO,EACR;IACC,MAAM,gBAAgB;QACpB,IAAI,CAAC,WAAW,IAAI,IAAI;YACtB,mBAAmB;YACnB;QACF;QAEA;;aAiBO;YACL,mBAAmB;QACrB;IACF;IAEA,MAAM,cAAc;QAClB,cAAc;QACd,mBAAmB;QACnB,mBAAmB;IACrB;IAEA,MAAM,mBAAmB,CAAC;QACxB,0EAA0E;QAC1E,gCAAgC;QAChC,MAAM,UAAU,OAAO,OAAO,IAAI,OAAO,WAAW;QACpD,MAAM,UAAU,OAAO,OAAO,IAAI,OAAO,WAAW;QAEpD,6EAA6E;QAC7E,WAAW;YACT,OAAO,QAAQ,CAAC;gBACd,MAAM;gBACN,KAAK;gBACL,UAAU;YACZ;QACF,GAAG;QAEH,6CAA6C;QAC7C,sBAAsB;YACpB,OAAO,QAAQ,CAAC;gBACd,MAAM;gBACN,KAAK;gBACL,UAAU;YACZ;QACF;IACF;IAEA,qBACE,kSAAC;QAAI,WAAU;;0BACX,kSAAC;;kCACC,kSAAC;wBACC,MAAK;wBACL,OAAO,cAAc;wBACrB,UAAU,CAAC;4BACT,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC5B,mBAAmB;4BACnB,mBAAmB;wBACrB;wBACA,SAAS;wBACT,aAAY;wBACZ,WAAU;wBACV,WAAW;;;;;;kCAEb,kSAAC;wBAAE,WAAU;;4BAAwC;4BAC5C,+LAAe;4BAAC;;;;;;;;;;;;;YAI1B,iCACC,kSAAC;gBAAI,WAAU;0BACZ;;;;;;YAGJ,iCACC,kSAAC;gBAAI,WAAU;0BAA8B;;;;;;0BAI/C,kSAAC;gBAAI,WAAU;;kCACb,kSAAC;wBACC,SAAS;wBACT,UAAU,CAAC,WAAW,IAAI;wBAC1B,WAAU;kCACX;;;;;;kCAGD,kSAAC;wBACC,SAAS;wBACT,UAAU,CAAC,WAAW,IAAI;wBAC1B,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMX;uCAEe"}},
    {"offset": {"line": 2951, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/AddTextSection.jsx"],"sourcesContent":["import React from 'react';\nimport CustomTextSection from './CustomTextSection';\n\nconst AddTextSection = ({\n  isOpen,\n  onToggle,\n  customText,\n  setCustomText,\n  customTextError,\n  setCustomTextError,\n  customTextAdded,\n  setCustomTextAdded\n}) => {\n  return (\n    <div className=\"pb-6 border-b border-gray-100 mt-6 hidden md:block\">\n      <button\n        onClick={onToggle}\n        className=\"w-full flex items-center justify-between mb-4\"\n      >\n        <h3 className=\"text-sm uppercase tracking-wider text-gray-900 font-medium\" style={{fontFamily: \"'Poppins', sans-serif\"}}>\n          4. Add Text\n        </h3>\n        <svg \n          className={`w-4 h-4 text-gray-500 transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}\n          fill=\"none\" \n          stroke=\"currentColor\" \n          viewBox=\"0 0 24 24\"\n        >\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n\n      {isOpen && (\n        <CustomTextSection\n          customText={customText}\n          setCustomText={setCustomText}\n          customTextError={customTextError}\n          setCustomTextError={setCustomTextError}\n          customTextAdded={customTextAdded}\n          setCustomTextAdded={setCustomTextAdded}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default AddTextSection;\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,iBAAiB,CAAC,EACtB,MAAM,EACN,QAAQ,EACR,UAAU,EACV,aAAa,EACb,eAAe,EACf,kBAAkB,EAClB,eAAe,EACf,kBAAkB,EACnB;IACC,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,kSAAC;wBAAG,WAAU;wBAA6D,OAAO;4BAAC,YAAY;wBAAuB;kCAAG;;;;;;kCAGzH,kSAAC;wBACC,WAAW,CAAC,wDAAwD,EAAE,SAAS,eAAe,IAAI;wBAClG,MAAK;wBACL,QAAO;wBACP,SAAQ;kCAER,cAAA,kSAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;;;;;;;YAIxE,wBACC,kSAAC,oNAAiB;gBAChB,YAAY;gBACZ,eAAe;gBACf,iBAAiB;gBACjB,oBAAoB;gBACpB,iBAAiB;gBACjB,oBAAoB;;;;;;;;;;;;AAK9B;uCAEe"}},
    {"offset": {"line": 3030, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/data/filterHelpers.js"],"sourcesContent":["// Helper functions for filtering pins\n\nexport const filterPinsByCategory = (pins, selectedCategory, subCategory) => {\n  if (subCategory === 'all') return pins;\n  \n  if (selectedCategory === 'flags') {\n    return pins.filter((pin) => pin.continent === subCategory);\n  }\n  \n  return pins.filter((pin) => {\n    const n = pin.name.toLowerCase();\n    \n    if (selectedCategory === 'colorful') {\n      if (subCategory === 'travel') {\n        return (\n          n.includes('airplane') ||\n          n.includes('passport') ||\n          n.includes('suitcase') ||\n          n.includes('map') ||\n          n.includes('boarding') ||\n          n.includes('adventure') ||\n          n.includes('vacation') ||\n          n.includes('combi')\n        );\n      }\n      if (subCategory === 'disney') {\n        return (\n          n.includes('disney') ||\n          n.includes('pluto') ||\n          n.includes('minnie') ||\n          n.includes('round') ||\n          n.includes('mickey') ||\n          n.includes('daisy') ||\n          n.includes('duck') ||\n          n.includes('guufy')\n        );\n      }\n      if (subCategory === 'drinks') {\n        return (\n          n.includes('beer') ||\n          n.includes('wine') ||\n          n.includes('coffee')\n        );\n      }\n      if (subCategory === 'inspiration') {\n        return (\n          n.includes('be a good human') ||\n          n.includes('dream big') ||\n          n.includes('be kind') ||\n          n.includes('ticket to happiness') ||\n          n.includes('be happy')\n        );\n      }\n      if (subCategory === 'hearts') {\n        return n.includes('heart');\n      }\n      if (subCategory === 'nature') {\n        return (\n          n.includes('leaf') ||\n          n.includes('coconut') ||\n          n.includes('wave')\n        );\n      }\n      if (subCategory === 'camera') {\n        return n.includes('camera');\n      }\n    }\n    \n    if (selectedCategory === 'bronze') {\n      if (subCategory === 'travel') {\n        return (\n          n.includes('airplane') ||\n          n.includes('globe') ||\n          n.includes('passport') ||\n          n.includes('luggage') ||\n          n.includes('taxi') ||\n          n.includes('liberty') ||\n          n.includes('london') ||\n          n.includes('eiffel') ||\n          n.includes('bigben') ||\n          n.includes('pisa') ||\n          n.includes('pyramid') ||\n          n.includes('arc') ||\n          n.includes('triomphe') ||\n          n.includes('binoculars')\n        );\n      }\n      if (subCategory === 'animals') {\n        return (\n          n.includes('kangaroo') ||\n          n.includes('koala') ||\n          n.includes('llama') ||\n          n.includes('squirrel') ||\n          n.includes('paw') ||\n          n.includes('dog')\n        );\n      }\n      if (subCategory === 'love') {\n        return (\n          n.includes('heart') ||\n          n.includes('love')\n        );\n      }\n      if (subCategory === 'nature') {\n        return (\n          n.includes('leaf') ||\n          n.includes('butterfly') ||\n          n.includes('maple') ||\n          n.includes('flipflop')\n        );\n      }\n      if (subCategory === 'symbols') {\n        return (\n          n.includes('cardinal') ||\n          n.includes('hamsa') ||\n          n.includes('mummy') ||\n          n.includes('journey') ||\n          n.includes('jesus') ||\n          n.includes('camera') ||\n          n.includes('thailand') ||\n          n.includes('india') ||\n          n.includes('canada')\n        );\n      }\n    }\n    \n    // If no match found, return false (don't show the pin)\n    return false;\n  });\n};\n\n\n\n\n\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3090, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/MobileOverlay.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport ColorSelector from '../ColorSelector/index.jsx';\nimport { CASE_OPTIONS, CATEGORY_OPTIONS, FLAGS_FILTER_TABS, COLORFUL_FILTER_TABS, BRONZE_FILTER_TABS } from '../../data/constants.js';\nimport { filterPinsByCategory } from '../../data/filterHelpers.js';\nimport { getMaxAvailableQuantity } from '../../utils/inventory.js';\nimport { normalizeImagePath } from '../../utils/imagePath.js';\n\nconst MobileOverlay = ({\n  mobileCurrentStep,\n  setMobileCurrentStep,\n  selectedCaseType,\n  selectedColor,\n  selectedCategory,\n  setSelectedCategory,\n  mobileSubCategory,\n  setMobileSubCategory,\n  pins,\n  selectedPins,\n  handleCaseTypeSelection,\n  handleColorSelection,\n  handlePinSelection,\n  Products,\n  cart\n}) => {\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n\n  if (!mobileCurrentStep) return null;\n\n  const filteredPinsForMobile = filterPinsByCategory(pins, selectedCategory, mobileSubCategory);\n\n  const getFilterTabs = () => {\n    if (selectedCategory === 'flags') return FLAGS_FILTER_TABS;\n    if (selectedCategory === 'colorful') return COLORFUL_FILTER_TABS;\n    if (selectedCategory === 'bronze') return BRONZE_FILTER_TABS;\n    return [];\n  };\n\n  const filterTabs = getFilterTabs();\n  const selectedFilterLabel = filterTabs.find(tab => tab.key === mobileSubCategory)?.label || 'ALL';\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-2 xs:p-3 sm:p-4 md:p-6\">\n      <div className={`bg-white rounded-sm p-3 xs:p-4 sm:p-5 md:p-6 lg:p-8 xl:p-10 w-full overflow-y-auto border border-gray-200 ${\n        mobileCurrentStep === 'charms' \n          ? 'max-w-[calc(100vw-1rem)] xs:max-w-sm md:max-w-md lg:max-w-lg h-fit' \n          : mobileCurrentStep === 'case'\n          ? 'max-w-[calc(100vw-1rem)] xs:max-w-sm sm:max-w-md md:max-w-2xl lg:max-w-3xl xl:max-w-4xl max-h-[85vh] xs:max-h-[80vh] md:max-h-[75vh]'\n          : 'max-w-[calc(100vw-1rem)] xs:max-w-sm md:max-w-md lg:max-w-lg max-h-[85vh] xs:max-h-[80vh] md:max-h-[75vh]'\n      }`}>\n        <div className=\"flex justify-between items-center mb-4 xs:mb-5 sm:mb-6 md:mb-8 border-b border-gray-100 pb-3 xs:pb-4 md:pb-5\">\n          <h2 className=\"text-xs xs:text-sm md:text-base lg:text-lg uppercase tracking-wider text-gray-900 font-medium\" style={{fontFamily: \"'Poppins', sans-serif\"}}>\n            {mobileCurrentStep === 'case' && 'Choose Case'}\n            {mobileCurrentStep === 'color' && 'Choose Color'}\n            {mobileCurrentStep === 'charms' && 'Choose Charms'}\n          </h2>\n          <button\n            onClick={() => setMobileCurrentStep(null)}\n            className=\"p-0.5 xs:p-1 hover:bg-gray-50 transition-colors\"\n          >\n            <svg className=\"w-4 h-4 xs:w-5 xs:h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n        \n        {/* Step Content */}\n        <div className=\"space-y-3 xs:space-y-4 md:space-y-5\">\n          {mobileCurrentStep === 'case' && (\n            <div className=\"w-full\">\n              <div className=\"grid grid-cols-3 gap-1.5 xs:gap-2 sm:gap-3 md:gap-5 lg:gap-6 xl:gap-8\">\n                {CASE_OPTIONS.map((opt) => {\n                  // Get case image from Products or use fallback\n                  const getCaseImage = () => {\n                    if (Products && Products.cases) {\n                      const caseData = Products.cases.find(c => c.type === opt.value);\n                      if (caseData && caseData.colors && caseData.colors.length > 0) {\n                        return caseData.colors[0].image;\n                      }\n                    }\n                    return opt.image || null;\n                  };\n                  \n                  // Check if case is sold out\n                  // Shows \"Sold Out\" if no more items can be added to the basket\n                  const isCaseTypeSoldOut = () => {\n                    const caseData = Products && Products.cases ? Products.cases.find(c => c.type === opt.value) : null;\n                    if (!caseData) return false;\n                    \n                    // Note: We check inventory through getMaxAvailableQuantity below\n                    // which properly handles localStorage quantities, product data, and cart items\n                    // to determine if cases can be added to the basket\n                    \n                    // Check if all colors are sold out (considering cart inventory)\n                    // This uses getMaxAvailableQuantity which checks both color-level and case-level quantities\n                    if (caseData.colors && caseData.colors.length > 0) {\n                      // Check if at least one color has available inventory that can be added to basket\n                      // This considers items already in the basket/cart\n                      const hasAvailableColor = caseData.colors.some(color => {\n                        // Check available inventory considering cart (items in basket)\n                        // getMaxAvailableQuantity returns how many MORE can be added to the basket\n                        // It checks: color-level quantity -> case-level quantity -> product data\n                        // Returns: null (unlimited), > 0 (can add more), or 0 (cannot add any more)\n                        const productForInventory = {\n                          caseType: opt.value,\n                          color: color.color,\n                        };\n                        const maxAvailable = getMaxAvailableQuantity(productForInventory, cart || []);\n                        \n                        // If maxAvailable is null, it means unlimited inventory (can add to basket)\n                        // If maxAvailable > 0, there's inventory available (can add to basket)\n                        // If maxAvailable === 0, no more can be added (all in basket or sold out) - SOLD OUT\n                        return maxAvailable === null || maxAvailable > 0;\n                      });\n                      \n                      // If no color has available inventory (maxAvailable === 0 for all colors), \n                      // it means no cases can be added to the basket - show as SOLD OUT\n                      return !hasAvailableColor;\n                    }\n                    \n                    return false;\n                  };\n                  \n                  const caseImage = getCaseImage();\n                  const soldOut = isCaseTypeSoldOut();\n                  const isSelected = selectedCaseType === opt.value;\n                  \n                  return (\n                    <button\n                      key={opt.value}\n                      onClick={() => {\n                        if (!soldOut) {\n                          handleCaseTypeSelection(opt.value);\n                        }\n                      }}\n                      disabled={soldOut}\n                      className={`p-0.5 xs:p-1 sm:p-2.5 md:p-4 lg:p-5 xl:p-6 text-center transition-all duration-200 flex flex-col items-center gap-0.5 xs:gap-1 sm:gap-2 md:gap-3 lg:gap-4 ${\n                        selectedCaseType === opt.value\n                          ? ' text-gray-900'\n                          : ' hover:border-gray-300'\n                      } ${soldOut ? 'opacity-50 cursor-not-allowed' : ''}`}\n                      style={{fontFamily: \"'Poppins', sans-serif\"}}\n                    >\n                      {caseImage && (\n                        <div className=\"relative w-full aspect-square overflow-hidden \">\n                          <img\n                            src={normalizeImagePath(caseImage)}\n                            alt={opt.label}\n                            className={`w-full h-full object-contain p-0 xs:p-0.5 sm:p-1.5 md:p-3 lg:p-4 xl:p-5 ${soldOut ? 'opacity-50' : ''}`}\n                            loading=\"lazy\"\n                            onError={(e) => {\n                              e.target.style.display = 'none';\n                            }}\n                          />\n                          {isSelected && !soldOut && (\n                            <div className=\"absolute top-0.5 right-0.5 xs:top-1 xs:right-1 sm:top-1.5 sm:right-1.5 md:top-2 md:right-2 lg:top-3 lg:right-3 xl:top-4 xl:right-4 w-3 h-3 xs:w-4 xs:h-4 sm:w-5 sm:h-5 md:w-7 md:h-7 lg:w-8 lg:h-8 xl:w-10 xl:h-10 bg-gray-900 rounded-full flex items-center justify-center shadow-md\">\n                              <svg className=\"w-2 h-2 xs:w-2.5 xs:h-2.5 sm:w-3 sm:h-3 md:w-4 md:h-4 lg:w-5 lg:h-5 xl:w-6 xl:h-6 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                              </svg>\n                            </div>\n                          )}\n                        </div>\n                      )}\n                      <span className={`text-xs xs:text-sm sm:text-base md:text-base lg:text-lg xl:text-xl font-medium mt-0.5 xs:mt-1 md:mt-2 ${soldOut ? 'text-gray-500' : ''}`}>\n                        {opt.label}\n                      </span>\n                      {soldOut && (\n                        <span className=\"text-[8px] xs:text-[9px] sm:text-[10px] md:text-xs text-red-600 font-medium mt-0.5 xs:mt-1\">Sold Out</span>\n                      )}\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n          \n          {mobileCurrentStep === 'color' && selectedCaseType && (\n            <div>\n              <ColorSelector\n                colors={Products.cases.find(c => c.type === selectedCaseType)?.colors || []}\n                selectedColor={selectedColor}\n                onSelect={handleColorSelection}\n                caseType={selectedCaseType}\n                cart={cart}\n              />\n            </div>\n          )}\n          \n          {mobileCurrentStep === 'charms' && selectedCaseType && selectedColor && (\n            <div>\n              {/* Category Selection */}\n              <div className=\"mb-3 xs:mb-4\">\n                <div className=\"grid grid-cols-3 gap-1.5 xs:gap-2\">\n                  {CATEGORY_OPTIONS.map((cat) => (\n                    <button\n                      key={cat.value || 'all'}\n                      onClick={() => setSelectedCategory(cat.value)}\n                      className={`p-1.5 xs:p-2 text-[10px] xs:text-xs text-center transition-all duration-200 flex flex-col items-center gap-1.5 xs:gap-2 relative`}\n                      style={{fontFamily: \"'Poppins', sans-serif\"}}\n                    >\n                      {cat.image && (\n                        <div className={`w-16 h-16 xs:w-20 xs:h-20 flex-shrink-0 rounded flex items-center justify-center overflow-hidden relative ${\n                          selectedCategory === cat.value ? 'bg-gray-100' : 'bg-white'\n                        }`}>\n                          <img\n                            src={normalizeImagePath(cat.image)}\n                            alt={cat.label}\n                            className=\"w-full h-full object-contain\"\n                          />\n                          {selectedCategory === cat.value && (\n                            <div className=\"absolute top-0 right-0 bg-gray-900 text-white w-4 h-4 xs:w-5 xs:h-5 flex items-center justify-center rounded-full shadow-md\">\n                              <svg className=\"w-2.5 h-2.5 xs:w-3 xs:h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                              </svg>\n                            </div>\n                          )}\n                        </div>\n                      )}\n                      <span className=\"font-medium text-xs xs:text-sm\">{cat.label}</span>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Filter Dropdown */}\n              {selectedCategory && filterTabs.length > 0 && (\n                <div className=\"mb-3 xs:mb-4 relative\">\n                  <button\n                    onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n                    className=\"w-full flex items-center justify-between px-3 xs:px-4 py-2 xs:py-2.5 bg-gray-100 border border-gray-300 text-left transition-all duration-200 hover:bg-gray-200 hover:border-gray-400\"\n                    style={{fontFamily: \"'Poppins', sans-serif\"}}\n                  >\n                    <span className=\"text-xs xs:text-sm font-medium text-gray-900 uppercase tracking-wider\">\n                      {selectedFilterLabel}\n                    </span>\n                    <svg \n                      className={`w-4 h-4 xs:w-5 xs:h-5 text-gray-500 transition-transform duration-200 ${isDropdownOpen ? 'rotate-180' : ''}`}\n                      fill=\"none\" \n                      stroke=\"currentColor\" \n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  \n                  {isDropdownOpen && (\n                    <>\n                      {/* Backdrop to close dropdown */}\n                      <div \n                        className=\"fixed inset-0 z-40\" \n                        onClick={() => setIsDropdownOpen(false)}\n                      />\n                      {/* Dropdown Menu */}\n                      <div className=\"absolute z-50 w-full mt-1 bg-white border border-gray-300 shadow-lg max-h-60 overflow-y-auto\">\n                        {filterTabs.map(({ key, label }) => (\n                          <button\n                            key={key}\n                            onClick={() => {\n                              setMobileSubCategory(key);\n                              setIsDropdownOpen(false);\n                            }}\n                            className={`w-full text-left px-3 xs:px-4 py-2 xs:py-2.5 text-xs xs:text-sm uppercase tracking-wider transition-all duration-200 ${\n                              mobileSubCategory === key\n                                ? 'bg-gray-100 text-gray-900 font-medium'\n                                : 'text-gray-700 hover:bg-gray-50'\n                            }`}\n                            style={{fontFamily: \"'Poppins', sans-serif\"}}\n                          >\n                            {label}\n                          </button>\n                        ))}\n                      </div>\n                    </>\n                  )}\n                </div>\n              )}\n\n              {/* Charms Grid */}\n              {selectedCategory && (\n                <div>\n                \n                  <div className=\"max-h-[60vh] xs:max-h-96 overflow-y-auto\">\n                    <div className=\"grid grid-cols-3 gap-2 xs:gap-2.5 sm:gap-3\">\n                      {filteredPinsForMobile.map((pin) => {\n                        const isSelected = selectedPins.some((p) => p.pin === pin);\n                        // Get size label based on pin.size from products.json\n                        const getSizeLabel = (size) => {\n                          if (!size) return '';\n                          if (size <= 0.3) return 'XS';\n                          if (size <= 0.45) return 'S';\n                          if (size <= 0.6) return 'M';\n                          if (size <= 0.75) return 'L';\n                          return 'XL';\n                        };\n                        const sizeLabel = getSizeLabel(pin.size);\n                        \n                        // Check if charm is sold out\n                        const checkCharmSoldOut = () => {\n                          const charmCategory = pin.category || selectedCategory || 'colorful';\n                          const charmName = pin.name || pin.src || '';\n                          \n                          const product = {\n                            type: 'charm',\n                            category: charmCategory,\n                            pin: pin,\n                            name: charmName\n                          };\n                          \n                          const maxAvailable = getMaxAvailableQuantity(product, cart || []);\n                          \n                          // If no inventory limit, not sold out\n                          if (maxAvailable === null) {\n                            return false;\n                          }\n                          \n                          // Count standalone charms already in cart\n                          let standaloneCharmsInCart = 0;\n                          (cart || []).forEach(cartItem => {\n                            if (cartItem.type === 'charm') {\n                              const cartPin = cartItem.pin || cartItem;\n                              const cartPinName = cartPin.name || cartPin.src;\n                              const cartPinCategory = cartPin.category || cartItem.category || charmCategory;\n                              if ((cartPinName === charmName || cartPinName === pin.src) && \n                                  cartPinCategory === charmCategory) {\n                                standaloneCharmsInCart += (cartItem.quantity || 1);\n                              }\n                            }\n                          });\n                          \n                          // Count how many of this charm are in custom designs already in cart\n                          let charmCountInCustomDesigns = 0;\n                          (cart || []).forEach(cartItem => {\n                            if (cartItem.pins && Array.isArray(cartItem.pins)) {\n                              cartItem.pins.forEach(cartPin => {\n                                const cartPinName = cartPin.name || cartPin.src;\n                                const cartPinCategory = cartPin.category || charmCategory;\n                                if ((cartPinName === charmName || cartPinName === pin.src) && \n                                    cartPinCategory === charmCategory) {\n                                  charmCountInCustomDesigns += (cartItem.quantity || 1);\n                                }\n                              });\n                            }\n                          });\n                          \n                          // Count how many of this charm are already selected in the current design\n                          const charmCountInDesign = selectedPins.filter(p => {\n                            const pPin = p.pin || p;\n                            const pPinName = pPin.name || pPin.src;\n                            const pPinCategory = pPin.category || charmCategory;\n                            return (pPinName === charmName || pPinName === pin.src) && \n                                   pPinCategory === charmCategory;\n                          }).length;\n                          \n                          // Calculate total inventory: maxAvailable + standalone charms in cart\n                          const totalInventory = maxAvailable + standaloneCharmsInCart;\n                          \n                          // Calculate total usage: standalone + in custom designs + in current design\n                          const totalUsage = standaloneCharmsInCart + charmCountInCustomDesigns + charmCountInDesign;\n                          \n                          // Sold out if maxAvailable is 0 or total usage equals or exceeds total inventory\n                          return maxAvailable === 0 || totalUsage >= totalInventory;\n                        };\n                        \n                        const isSoldOut = checkCharmSoldOut();\n                        \n                        return (\n                          <button\n                            key={pin.name}\n                            onClick={() => !isSoldOut && handlePinSelection(pin)}\n                            disabled={isSoldOut}\n                            className={`p-1.5 xs:p-2 transition-all duration-200 flex flex-col items-center ${\n                              isSoldOut ? 'opacity-50 cursor-not-allowed' : ''\n                            }`}\n                          >\n                            <div className={`relative w-16 h-16 xs:w-20 xs:h-20 flex items-center justify-center transition-all duration-200 overflow-visible ${isSelected ? 'rounded' : ''}`}>\n                              <img\n                                src={normalizeImagePath(pin.src)}\n                                alt={pin.name}\n                                className={`max-w-full max-h-full object-contain ${isSoldOut ? 'opacity-50' : ''}`}\n                              />\n                              {isSelected && !isSoldOut && (\n                                <div className=\"absolute top-0 right-0 bg-gray-900 text-white w-5 h-5 xs:w-6 xs:h-6 flex items-center justify-center text-[10px] xs:text-xs rounded-full shadow-md z-10\">\n                                  <svg className=\"w-3 h-3 xs:w-4 xs:h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                                  </svg>\n                                </div>\n                              )}\n                              {sizeLabel && (\n                                <div className=\"absolute top-0 left-0 bg-gray-100 text-gray-700 text-[8px] xs:text-[9px] font-medium px-1 xs:px-1.5 py-0.5 rounded-full z-10 border border-gray-300\">\n                                  {sizeLabel}\n                                </div>\n                              )}\n                            </div>\n                            <span className={`text-xs xs:text-sm sm:text-base text-center line-clamp-2 mt-0.5 xs:mt-1 ${\n                              isSoldOut ? 'text-gray-500' : 'text-gray-700'\n                            }`} style={{fontFamily: \"'Poppins', sans-serif\"}}>\n                              {pin.name}\n                            </span>\n                            {isSoldOut && (\n                              <span className=\"text-[8px] xs:text-[9px] text-red-600 font-medium mt-0.5\">Sold Out</span>\n                            )}\n                          </button>\n                        );\n                      })}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MobileOverlay;\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3703, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/MobileStepButtons.jsx"],"sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBriefcase, faPalette, faPlane, faFont } from '@fortawesome/free-solid-svg-icons';\n\nconst MobileStepButtons = ({\n  selectedCaseType,\n  selectedColor,\n  onCaseClick,\n  onColorClick,\n  onCharmsClick,\n  onTextClick,\n  isAddTextDropdownOpen\n}) => {\n  return (\n    <div className=\"mb-4 flex justify-center\">\n      <div className=\"grid grid-cols-4 gap-1.5 xs:gap-2 sm:gap-2.5 max-w-fit\">\n        {/* Choose Case Button */}\n        <button\n          onClick={onCaseClick}\n          className=\"py-2.5 flex flex-col items-center justify-center gap-1 transition-all duration-200 touch-manipulation bg-btn-primary-blue text-btn-primary-blue-text border border-btn-primary-blue-border hover:bg-btn-primary-blue-hover px-3 xs:px-4\"\n        >\n          <FontAwesomeIcon \n            icon={faBriefcase} \n            className=\"w-4 h-4 text-btn-primary-blue-text\"\n          />\n          <span className=\"text-sm font-medium uppercase tracking-wide leading-tight text-btn-primary-blue-text\" style={{fontFamily: \"'Poppins', sans-serif\"}}>\n            Case\n          </span>\n        </button>\n\n        {/* Choose Color Button */}\n        <button\n          onClick={onColorClick}\n          disabled={!selectedCaseType}\n          className={`py-2.5 flex flex-col items-center justify-center gap-1 transition-all duration-200 touch-manipulation px-3 xs:px-4 ${\n            !selectedCaseType\n              ? 'bg-gray-50 text-gray-400 border border-gray-200 cursor-not-allowed opacity-50'\n              : 'bg-btn-primary-blue text-btn-primary-blue-text border border-btn-primary-blue-border hover:bg-btn-primary-blue-hover'\n          }`}\n        >\n          <FontAwesomeIcon \n            icon={faPalette} \n            className={`w-4 h-4 ${\n              !selectedCaseType \n                ? 'text-gray-400' \n                : 'text-btn-primary-blue-text'\n            }`}\n          />\n          <span className={`text-sm font-medium uppercase tracking-wide leading-tight ${\n            !selectedCaseType \n              ? 'text-gray-400' \n              : 'text-btn-primary-blue-text'\n          }`} style={{fontFamily: \"'Poppins', sans-serif\"}}>\n            Color\n          </span>\n        </button>\n\n        {/* Choose Charms Button */}\n        <button\n          onClick={onCharmsClick}\n          disabled={!selectedCaseType || !selectedColor}\n          className={`py-2.5 flex flex-col items-center justify-center gap-1 transition-all duration-200 touch-manipulation px-3 xs:px-4 ${\n            !selectedCaseType || !selectedColor\n              ? 'bg-gray-50 text-gray-400 border border-gray-200 cursor-not-allowed opacity-50'\n              : 'bg-btn-primary-blue text-btn-primary-blue-text border border-btn-primary-blue-border hover:bg-btn-primary-blue-hover'\n          }`}\n        >\n          <FontAwesomeIcon \n            icon={faPlane} \n            className={`w-4 h-4 ${\n              !selectedCaseType || !selectedColor \n                ? 'text-gray-400' \n                : 'text-btn-primary-blue-text'\n            }`}\n          />\n          <span className={`text-sm font-medium uppercase tracking-wide leading-tight ${\n            !selectedCaseType || !selectedColor \n              ? 'text-gray-400' \n              : 'text-btn-primary-blue-text'\n          }`} style={{fontFamily: \"'Poppins', sans-serif\"}}>\n            Charms\n          </span>\n        </button>\n        \n        {/* Add Text Button - Mobile only */}\n        <button\n          onClick={onTextClick}\n          className=\"py-2.5 flex flex-col items-center justify-center gap-1 transition-all duration-200 touch-manipulation bg-btn-primary-blue text-btn-primary-blue-text border border-btn-primary-blue-border hover:bg-btn-primary-blue-hover px-3 xs:px-4\"\n        >\n          <FontAwesomeIcon \n            icon={faFont} \n            className=\"w-4 h-4 text-btn-primary-blue-text\"\n          />\n          <span className=\"text-sm font-medium uppercase tracking-wide leading-tight text-btn-primary-blue-text\" style={{fontFamily: \"'Poppins', sans-serif\"}}>\n            Text\n          </span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default MobileStepButtons;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,oBAAoB,CAAC,EACzB,gBAAgB,EAChB,aAAa,EACb,WAAW,EACX,YAAY,EACZ,aAAa,EACb,WAAW,EACX,qBAAqB,EACtB;IACC,qBACE,kSAAC;QAAI,WAAU;kBACb,cAAA,kSAAC;YAAI,WAAU;;8BAEb,kSAAC;oBACC,SAAS;oBACT,WAAU;;sCAEV,kSAAC,2OAAe;4BACd,MAAM,2OAAW;4BACjB,WAAU;;;;;;sCAEZ,kSAAC;4BAAK,WAAU;4BAAuF,OAAO;gCAAC,YAAY;4BAAuB;sCAAG;;;;;;;;;;;;8BAMvJ,kSAAC;oBACC,SAAS;oBACT,UAAU,CAAC;oBACX,WAAW,CAAC,mHAAmH,EAC7H,CAAC,mBACG,kFACA,wHACJ;;sCAEF,kSAAC,2OAAe;4BACd,MAAM,yOAAS;4BACf,WAAW,CAAC,QAAQ,EAClB,CAAC,mBACG,kBACA,8BACJ;;;;;;sCAEJ,kSAAC;4BAAK,WAAW,CAAC,0DAA0D,EAC1E,CAAC,mBACG,kBACA,8BACJ;4BAAE,OAAO;gCAAC,YAAY;4BAAuB;sCAAG;;;;;;;;;;;;8BAMpD,kSAAC;oBACC,SAAS;oBACT,UAAU,CAAC,oBAAoB,CAAC;oBAChC,WAAW,CAAC,mHAAmH,EAC7H,CAAC,oBAAoB,CAAC,gBAClB,kFACA,wHACJ;;sCAEF,kSAAC,2OAAe;4BACd,MAAM,uOAAO;4BACb,WAAW,CAAC,QAAQ,EAClB,CAAC,oBAAoB,CAAC,gBAClB,kBACA,8BACJ;;;;;;sCAEJ,kSAAC;4BAAK,WAAW,CAAC,0DAA0D,EAC1E,CAAC,oBAAoB,CAAC,gBAClB,kBACA,8BACJ;4BAAE,OAAO;gCAAC,YAAY;4BAAuB;sCAAG;;;;;;;;;;;;8BAMpD,kSAAC;oBACC,SAAS;oBACT,WAAU;;sCAEV,kSAAC,2OAAe;4BACd,MAAM,sOAAM;4BACZ,WAAU;;;;;;sCAEZ,kSAAC;4BAAK,WAAU;4BAAuF,OAAO;gCAAC,YAAY;4BAAuB;sCAAG;;;;;;;;;;;;;;;;;;;;;;;AAO/J;uCAEe"}},
    {"offset": {"line": 3856, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/MobileAddTextSection.jsx"],"sourcesContent":["import React from 'react';\nimport { MAX_TEXT_LENGTH } from '../../data/constants';\n\nconst MobileAddTextSection = ({\n  customText,\n  setCustomText,\n  customTextError,\n  setCustomTextError,\n  customTextAdded,\n  setCustomTextAdded,\n  onAddText\n}) => {\n  return (\n    <div className=\"px-2 xs:px-3 sm:px-4 space-y-2 pt-2\">\n      <div className=\"flex gap-2\">\n        <input\n          type=\"text\"\n          value={customText || ''}\n          onChange={(e) => {\n            setCustomText(e.target.value);\n            setCustomTextError('');\n            setCustomTextAdded(false);\n          }}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter' && customText.trim()) {\n              onAddText();\n            }\n          }}\n          placeholder=\"e.g. Your name\"\n          className=\"flex-1 px-3 py-2 border border-gray-200 rounded-sm focus:outline-none focus:border-gray-400 bg-white text-gray-900 placeholder-gray-400 font-thin text-sm font-inter\"\n          style={{ fontSize: '16px' }}\n          maxLength={MAX_TEXT_LENGTH}\n        />\n        <button\n          onClick={onAddText}\n          disabled={!customText.trim()}\n          className=\"px-4 py-2 text-xs font-medium uppercase tracking-wider disabled:bg-gray-50 disabled:text-gray-400 disabled:cursor-not-allowed disabled:border-gray-100 rounded-sm active:scale-95 disabled:scale-100 focus:outline-none font-inter bg-btn-light-blue hover:bg-btn-light-blue-hover text-btn-light-blue-text border border-btn-light-blue-border hover:border-btn-light-blue-hover transition-all duration-200\"\n        >\n          Add\n        </button>\n      </div>\n      <p className=\"text-xs text-gray-500 font-inter\">\n        Up to {MAX_TEXT_LENGTH} characters. Double-click the text on the case to edit or move it.\n      </p>\n      {customTextError && (\n        <div className=\"text-xs text-gray-600 border border-gray-200 bg-gray-50 px-3 py-2 rounded\">\n          {customTextError}\n        </div>\n      )}\n      {customTextAdded && (\n        <div className=\"text-xs text-green-700 bg-green-50 px-1 py-2\">\n          Text added to your design! You can drag it to reposition it.\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MobileAddTextSection;\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,uBAAuB,CAAC,EAC5B,UAAU,EACV,aAAa,EACb,eAAe,EACf,kBAAkB,EAClB,eAAe,EACf,kBAAkB,EAClB,SAAS,EACV;IACC,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC;gBAAI,WAAU;;kCACb,kSAAC;wBACC,MAAK;wBACL,OAAO,cAAc;wBACrB,UAAU,CAAC;4BACT,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC5B,mBAAmB;4BACnB,mBAAmB;wBACrB;wBACA,WAAW,CAAC;4BACV,IAAI,EAAE,GAAG,KAAK,WAAW,WAAW,IAAI,IAAI;gCAC1C;4BACF;wBACF;wBACA,aAAY;wBACZ,WAAU;wBACV,OAAO;4BAAE,UAAU;wBAAO;wBAC1B,WAAW,+LAAe;;;;;;kCAE5B,kSAAC;wBACC,SAAS;wBACT,UAAU,CAAC,WAAW,IAAI;wBAC1B,WAAU;kCACX;;;;;;;;;;;;0BAIH,kSAAC;gBAAE,WAAU;;oBAAmC;oBACvC,+LAAe;oBAAC;;;;;;;YAExB,iCACC,kSAAC;gBAAI,WAAU;0BACZ;;;;;;YAGJ,iCACC,kSAAC;gBAAI,WAAU;0BAA+C;;;;;;;;;;;;AAMtE;uCAEe"}},
    {"offset": {"line": 3953, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/AddToCartBtn/index.jsx"],"sourcesContent":["import React from 'react';\n\nconst AddToCartButton = ({ product, onAdd, className, disabled = false }) => {\n  const baseClasses =\n    'w-full py-3 text-sm uppercase tracking-wider font-inter bg-btn-success hover:bg-btn-success-hover text-btn-success-text border border-btn-success-border hover:border-btn-success-hover transition-all duration-200';\n\n  return (\n    <button\n      className={`${baseClasses} ${className || ''}`.trim()}\n      onClick={() => !disabled && onAdd(product)}\n      disabled={disabled}\n    >\n      Add to Cart\n    </button>\n  );\n};\n\nexport default AddToCartButton;\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,kBAAkB,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,WAAW,KAAK,EAAE;IACtE,MAAM,cACJ;IAEF,qBACE,kSAAC;QACC,WAAW,GAAG,YAAY,CAAC,EAAE,aAAa,IAAI,CAAC,IAAI;QACnD,SAAS,IAAM,CAAC,YAAY,MAAM;QAClC,UAAU;kBACX;;;;;;AAIL;uCAEe"}},
    {"offset": {"line": 3979, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/PriceSummary.jsx"],"sourcesContent":["import React from 'react';\nimport { useCurrency } from '../../context/CurrencyContext';\nimport AddToCartBtn from '../AddToCartBtn';\n\nconst PriceSummary = ({ \n  totalPrice, \n  caseBasePrice, \n  groupedPinsList, \n  showPriceBreakdown, \n  quantity,\n  setQuantity,\n  onIncrementQuantity,\n  onDecrementQuantity,\n  selectedCase,\n  selectedCaseType,\n  selectedColor,\n  selectedPins,\n  selectedCaseImage,\n  pinsPrice,\n  onAddToCart,\n  onShowTerms,\n  agreedToTerms,\n  setAgreedToTerms,\n  showTermsError,\n  inventoryMessage,\n  inventoryType,\n  isMobile = false\n}) => {\n  const { formatPrice } = useCurrency();\n\n  return (\n      <div className={`${isMobile ? 'pt-0 mt-0 bg-gray-100' : 'pt-14'} flex-shrink-0 relative z-0  ${isMobile ? '' : 'mt-auto flex flex-col justify-between'}`}>\n        {/* Mobile: Price + Quantity + Add to Cart in same row, then Terms below */}\n        {isMobile ? (\n          <>\n            {/* Subtotal Price, Quantity Selector, and Add to Cart Button - All in same row */}\n            <div className=\"flex flex-row items-start justify-between mt-2 \">\n              {/* Subtotal Price and Terms - Left */}\n              <div className=\"flex flex-col gap-1.5\">\n                {/* Total Price */}\n                <div className=\"flex flex-row items-center gap-1.5 mb-1\">\n                  <h3 className=\"text-[14px] xs:text-sm text-gray-400 font-light font-inter\">\n                    Total:\n                  </h3>\n                  <h3 className={`text-md font-bold xs:text-base sm:text-lg text-gray-900  font-inter leading-none mb-1`}>\n                    {formatPrice(totalPrice)}\n                  </h3>\n                </div>\n                \n                {/* Terms Agreement Checkbox - Below Total Price */}\n                <div>\n                  <label className=\"flex items-center gap-1.5 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={agreedToTerms || false}\n                      onChange={(e) => setAgreedToTerms(e.target.checked)}\n                      className=\"w-3.5 h-3.5 xs:w-4 xs:h-4 text-gray-900 border-gray-300 rounded\"\n                    />\n                    <span className=\"text-xs xs:text-sm text-gray-700 leading-tight font-light font-inter\">\n                      <button\n                        type=\"button\"\n                        onClick={onShowTerms}\n                        className=\"text-gray-900 underline hover:text-gray-700 transition-colors font-light\"\n                      >\n                        Terms of Use\n                      </button>\n                    </span>\n                  </label>\n                  {/* Error message when trying to add to cart without accepting terms */}\n                  {showTermsError && (\n                    <div className=\"mt-1 text-xs xs:text-sm text-red-600 font-light font-inter\">\n                      You must accept the terms to add items to cart.\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Quantity Selector and Add to Cart Button - Right */}\n              <div className=\"flex flex-row items-center gap-2\">\n                {/* Quantity Selector */}\n                <div className=\"flex items-center border border-gray-200 rounded-sm py-2.5 xs:py-2 px-0.5 flex-shrink-0 gap-0\"> \n                  <button\n                    onClick={onDecrementQuantity || (() => setQuantity(Math.max(0, quantity - 1)))}\n                    className=\"w-6 h-6 xs:w-7 xs:h-7 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors\"\n                    aria-label=\"Decrease quantity\"\n                  > \n                    âˆ’\n                  </button>\n                  <div className=\"px-1 xs:px-1.5 py-0.5 text-sm xs:text-base text-gray-900 font-light font-inter min-w-[1.5rem] xs:min-w-[2rem] text-center\">\n                    {Math.max(quantity, 1)}\n                  </div>\n                  <button\n                    onClick={onIncrementQuantity || (() => setQuantity(quantity + 1))}\n                    className=\"w-6 h-6 xs:w-7 xs:h-7 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors\"\n                    aria-label=\"Increase quantity\"\n                  >\n                    +\n                  </button>\n                </div>\n\n                {/* Add to Cart Button */}\n                <div className=\"flex-1 min-w-0 \">\n                  <AddToCartBtn \n                    product={{\n                      id: `custom-${Date.now()}`,\n                      name: `${selectedCase?.name || 'Custom Case'} with ${selectedPins.length} charms`,\n                      caseType: selectedCaseType,\n                      caseName: selectedCase?.name || 'Custom Case',\n                      color: selectedColor,\n                      pins: selectedPins.map(({ pin }) => pin),\n                      pinsDetails: selectedPins.map(({ pin }) => pin),\n                      basePrice: caseBasePrice,\n                      casePrice: caseBasePrice,\n                      pinsPrice: pinsPrice,\n                      totalPrice: parseFloat(totalPrice),\n                      price: parseFloat(totalPrice),\n                      image: selectedCaseImage,\n                      caseImage: selectedCaseImage,\n                      customDesign: true,\n                      quantity: quantity\n                    }}\n                    onAdd={onAddToCart}\n                    className=\"!w-full cursor-pointer bg-btn-success hover:bg-btn-success-hover text-btn-success-text border border-btn-success-border hover:border-btn-success-hover transition-all duration-200 py-2.5 px-8 text-sm font-light whitespace-nowrap\"\n                    disabled={false}\n                  />\n                </div>\n              </div>\n            </div>\n            \n            {/* Inventory Alert Message - Mobile only, shown inline */}\n            {inventoryMessage && (\n              <div className={`mt-1.5 text-xs xs:text-sm font-light font-inter ${\n                inventoryType === 'error' ? 'text-red-600' : 'text-orange-600'\n              }`}>\n                {inventoryMessage}\n              </div>\n            )}\n          </>\n        ) : (\n          <>\n            {/* Desktop: Price on top */}\n            <div className={`flex items-end flex-row mb-4 gap-2`}>\n              <h3 className={`text-sm text-gray-400 font-light  `}>\n                Total: \n              </h3>\n              <h3 className={`text-md font-bold text-gray-900 font-inter `}>\n                {formatPrice(totalPrice)}\n              </h3>\n            </div>\n\n            {/* Desktop: Terms Agreement Checkbox - Before Add to Cart */}\n            <div className=\"mb-4 \">\n              <label className=\"flex items-start gap-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={agreedToTerms || false}\n                  onChange={(e) => setAgreedToTerms(e.target.checked)}\n                  className=\"mt-0.5 w-4 h-4 text-gray-900 border-gray-300 rounded \"\n                />\n                <span className=\"text-sm text-gray-700 leading-relaxed font-light font-inter\">\n                  I agree to the{' '}\n                  <button\n                    type=\"button\"\n                    onClick={onShowTerms}\n                    className=\"text-gray-900 underline hover:text-gray-700 transition-colors text-sm font-light\"\n                  >\n                    Terms of Use\n                  </button>\n                  {' '}and understand that it is my responsibility to create the passport case design, and that as items are handmade, they may vary.\n                </span>\n              </label>\n              {/* Error message when trying to add to cart without accepting terms */}\n              {showTermsError && (\n                <div className=\"mt-2 text-sm text-red-600 font-light font-inter\">\n                  You must accept the terms to add items to cart.\n                </div>\n              )}\n            </div>\n\n            {/* Desktop: Quantity selector and Add to Cart side by side - Pushed to bottom */}\n            <div className={`mt-auto flex flex-row gap-1.5 xs:gap-2 items-center`}>\n              <div className={`flex items-center border border-gray-200 rounded-sm py-2.5 px-1`}>\n                <button\n                  onClick={onDecrementQuantity || (() => setQuantity(Math.max(0, quantity - 1)))}\n                  className={`w-6 h-6 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors`}\n                  aria-label=\"Decrease quantity\"\n                > \n                  âˆ’\n                </button>\n                <div className={`px-3 py-0 text-sm text-gray-900 font-light font-inter min-w-[2rem] text-center`}>\n                  {Math.max(quantity, 1)}\n                </div>\n                <button\n                  onClick={onIncrementQuantity || (() => setQuantity(quantity + 1))}\n                  className={`w-6 h-6 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors`}\n                  aria-label=\"Increase quantity\"\n                >\n                  +\n                </button>\n              </div>\n             \n              <div className=\"flex-1\">\n                <AddToCartBtn \n                  product={{\n                    id: `custom-${Date.now()}`,\n                    name: `${selectedCase?.name || 'Custom Case'} with ${selectedPins.length} charms`,\n                    caseType: selectedCaseType,\n                    caseName: selectedCase?.name || 'Custom Case',\n                    color: selectedColor,\n                    pins: selectedPins.map(({ pin }) => pin),\n                    pinsDetails: selectedPins.map(({ pin }) => pin),\n                    basePrice: caseBasePrice,\n                    casePrice: caseBasePrice,\n                    pinsPrice: pinsPrice,\n                    totalPrice: parseFloat(totalPrice),\n                    price: parseFloat(totalPrice),\n                    image: selectedCaseImage,\n                    caseImage: selectedCaseImage,\n                    customDesign: true,\n                    quantity: quantity\n                  }}\n                  onAdd={onAddToCart}\n                  className=\"cursor-pointer bg-btn-success hover:bg-btn-success-hover text-btn-success-text border border-btn-success-border hover:border-btn-success-hover transition-all duration-200 py-2.5 text-sm font-light\"\n                  disabled={false}\n                />\n              </div>\n            </div>\n\n            {/* Inventory Alert Message - Desktop */}\n            {inventoryMessage && (\n              <div className={`mt-4 text-sm font-light font-inter ${\n                inventoryType === 'error' ? 'text-red-600' : 'text-orange-600'\n              }`}>\n                {inventoryMessage}\n              </div>\n            )}\n          </>\n        )}\n      \n      {/* Price Breakdown Dropdown */}\n      {showPriceBreakdown && (\n        <div className={`space-y-1 ${isMobile ? 'text-xs xs:text-sm mb-1 pt-1' : 'text-xs mb-4 pt-4'} text-gray-600 border-t border-gray-100`}>\n          <div className=\"flex justify-between font-light font-inter\">\n            <span>Case:</span>\n            <span className=\"font-light font-inter\">{formatPrice(caseBasePrice)}</span>\n          </div>\n          {groupedPinsList.map((pin, index) => (\n            <div key={index} className=\"flex justify-between font-light font-inter\">\n              <span>{pin.name}{pin.count > 1 ? ` (x${pin.count})` : ''}:</span>\n              <span className=\"font-light font-inter\">{formatPrice(pin.price * pin.count)}</span>\n            </div>\n          ))}\n        </div>\n      )}\n    \n    </div>\n  );\n};\n\nexport default PriceSummary;\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4431, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/ImageModal/index.jsx"],"sourcesContent":["import React from 'react';\nimport { normalizeImagePath } from '../../utils/imagePath';\n\nconst ImageModal = ({ show, selectedCase, selectedColorData, caseImages, selectedModalImage, setSelectedModalImage, onClose }) => {\n  if (!show || !selectedCase || !caseImages || caseImages.length === 0) return null;\n\n  return (\n    <div \n      className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\"\n      onClick={onClose}\n    >\n      <div \n        className=\"bg-white rounded-sm max-w-4xl w-full h-[90vh] overflow-hidden flex flex-col\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Modal Header */}\n        <div className=\"flex items-center justify-between p-3 sm:p-4 border-b border-gray-200 flex-shrink-0\">\n          <h3 className=\"text-xs sm:text-sm uppercase tracking-wider text-gray-900 font-medium font-inter\">\n            {selectedCase.name}\n          </h3>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-50 transition-colors\"\n            aria-label=\"Close modal\"\n          >\n            <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n        \n        {/* Modal Content - Flex layout to fit everything */}\n        <div className=\"flex-1 flex flex-col overflow-hidden p-4 sm:p-6 min-h-0\">\n          {/* Main Image - Takes most of the space */}\n          <div className=\"flex-1 flex items-center justify-center min-h-0 mb-4\">\n            <div className=\"relative  p-4 sm:p-6 md:p-8 flex items-center justify-center w-full h-full\">\n              <img\n                src={normalizeImagePath(caseImages[selectedModalImage])}\n                alt={`${selectedCase.name} - View ${selectedModalImage + 1}`}\n                className=\"max-w-full max-h-full object-contain\"\n                loading=\"lazy\"\n                fetchPriority=\"low\"\n                decoding=\"async\"\n                onError={(e) => {\n                  e.target.style.display = 'none';\n                  if (e.target.nextSibling) {\n                    e.target.nextSibling.style.display = 'flex';\n                  }\n                }}\n              />\n              <div className=\"hidden w-full h-full items-center justify-center text-gray-400\">\n                <p className=\"text-gray-500 font-inter\">Image not available</p>\n              </div>\n            </div>\n          </div>\n          \n          {/* Thumbnail Gallery - Fixed height at bottom */}\n          {caseImages.length > 1 && (\n            <div className=\"flex-shrink-0\">\n            \n              <div className=\"grid grid-cols-6 sm:grid-cols-8 gap-1.5 sm:gap-2 mx-auto\">\n                {caseImages.map((image, index) => (\n                  <button\n                    key={index}\n                    onClick={() => setSelectedModalImage(index)}\n                    className={`aspect-square overflow-hidden border transition-all duration-200 ${\n                      selectedModalImage === index\n                        ? 'border-gray-900 ring-2 ring-gray-300'\n                        : 'border-gray-200 hover:border-gray-400'\n                    }`}\n                  >\n                    <img\n                      src={normalizeImagePath(image)}\n                      alt={`${selectedCase.name} - Detail ${index + 1}`}\n                      className=\"w-full h-full object-contain p-1\"\n                      loading=\"lazy\"\n                      fetchPriority=\"low\"\n                      decoding=\"async\"\n                      width=\"80\"\n                      height=\"80\"\n                      onError={(e) => {\n                        e.target.style.display = 'none';\n                        if (e.target.nextSibling) {\n                          e.target.nextSibling.style.display = 'flex';\n                        }\n                      }}\n                    />\n                    <div className=\"hidden w-full h-full items-center justify-center text-gray-300\">\n                      <span className=\"text-sm\">ðŸ“·</span>\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageModal;\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,aAAa,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,iBAAiB,EAAE,UAAU,EAAE,kBAAkB,EAAE,qBAAqB,EAAE,OAAO,EAAE;IAC3H,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,cAAc,WAAW,MAAM,KAAK,GAAG,OAAO;IAE7E,qBACE,kSAAC;QACC,WAAU;QACV,SAAS;kBAET,cAAA,kSAAC;YACC,WAAU;YACV,SAAS,CAAC,IAAM,EAAE,eAAe;;8BAGjC,kSAAC;oBAAI,WAAU;;sCACb,kSAAC;4BAAG,WAAU;sCACX,aAAa,IAAI;;;;;;sCAEpB,kSAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,kSAAC;gCAAI,WAAU;gCAAwB,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAC/E,cAAA,kSAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;8BAM7E,kSAAC;oBAAI,WAAU;;sCAEb,kSAAC;4BAAI,WAAU;sCACb,cAAA,kSAAC;gCAAI,WAAU;;kDACb,kSAAC;wCACC,KAAK,IAAA,mMAAkB,EAAC,UAAU,CAAC,mBAAmB;wCACtD,KAAK,GAAG,aAAa,IAAI,CAAC,QAAQ,EAAE,qBAAqB,GAAG;wCAC5D,WAAU;wCACV,SAAQ;wCACR,eAAc;wCACd,UAAS;wCACT,SAAS,CAAC;4CACR,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG;4CACzB,IAAI,EAAE,MAAM,CAAC,WAAW,EAAE;gDACxB,EAAE,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG;4CACvC;wCACF;;;;;;kDAEF,kSAAC;wCAAI,WAAU;kDACb,cAAA,kSAAC;4CAAE,WAAU;sDAA2B;;;;;;;;;;;;;;;;;;;;;;wBAM7C,WAAW,MAAM,GAAG,mBACnB,kSAAC;4BAAI,WAAU;sCAEb,cAAA,kSAAC;gCAAI,WAAU;0CACZ,WAAW,GAAG,CAAC,CAAC,OAAO,sBACtB,kSAAC;wCAEC,SAAS,IAAM,sBAAsB;wCACrC,WAAW,CAAC,iEAAiE,EAC3E,uBAAuB,QACnB,yCACA,yCACJ;;0DAEF,kSAAC;gDACC,KAAK,IAAA,mMAAkB,EAAC;gDACxB,KAAK,GAAG,aAAa,IAAI,CAAC,UAAU,EAAE,QAAQ,GAAG;gDACjD,WAAU;gDACV,SAAQ;gDACR,eAAc;gDACd,UAAS;gDACT,OAAM;gDACN,QAAO;gDACP,SAAS,CAAC;oDACR,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG;oDACzB,IAAI,EAAE,MAAM,CAAC,WAAW,EAAE;wDACxB,EAAE,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG;oDACvC;gDACF;;;;;;0DAEF,kSAAC;gDAAI,WAAU;0DACb,cAAA,kSAAC;oDAAK,WAAU;8DAAU;;;;;;;;;;;;uCAzBvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCzB;uCAEe"}},
    {"offset": {"line": 4630, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/ItemDescriptionModal.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nconst ItemDescriptionModal = ({ show, onClose, selectedCase }) => {\n  const [isSpecificationsOpen, setIsSpecificationsOpen] = useState(true);\n\n  if (!show || !selectedCase) return null;\n\n  const specifications = selectedCase.specifications || {};\n\n  return (\n    <div \n      className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center  p-4\"\n      onClick={onClose}\n    >\n      <div \n        className=\"bg-white rounded-sm max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Modal Header */}\n        <div className=\"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 flex-shrink-0\">\n          <h3 className=\"text-lg sm:text-xl font-medium text-gray-900 font-inter\">\n            {selectedCase.name}\n          </h3>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-50 rounded-full transition-colors\"\n            aria-label=\"Close modal\"\n          >\n            <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n        \n        {/* Modal Content */}\n        <div className=\"flex-1 overflow-y-auto p-4 sm:p-6\">\n   \n\n          {/* Specifications Section */}\n          {Object.keys(specifications).length > 0 && (\n            <div className=\"\">\n              <button\n                onClick={() => setIsSpecificationsOpen(!isSpecificationsOpen)}\n                className=\"w-full flex items-center justify-between py-2 text-sm uppercase tracking-wider text-gray-900 font-medium hover:text-gray-700 transition-colors font-inter\"\n              >\n                <span>Specifications</span>\n              \n              </button>\n              \n              {isSpecificationsOpen && (\n                <div className=\"flex flex-col gap-3 mt-4\">\n                  {specifications.dimensions && (\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Dimensions</span>\n                      <span className=\"text-sm text-gray-900 font-inter\">{specifications.dimensions}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.size && (\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Size</span>\n                      <span className=\"text-sm text-gray-900 font-inter\">{specifications.size}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.weight && (\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Weight</span>\n                      <span className=\"text-sm text-gray-900 font-inter\">{specifications.weight}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.material && (\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Material</span>\n                      <span className=\"text-sm text-gray-900 font-inter\">{specifications.material}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.closure && (\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Closure</span>\n                      <span className=\"text-sm text-gray-900 font-inter\">{specifications.closure}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.cardSlots && (\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Card Slots</span>\n                      <span className=\"text-sm text-gray-900 font-inter\">{specifications.cardSlots}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.interior && (\n                    <div className=\"flex justify-between items-start py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Interior</span>\n                      <span className=\"text-sm text-gray-900 text-right font-inter\">{specifications.interior}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.rfid && (\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">RFID Protection</span>\n                      <span className=\"text-sm text-gray-900 font-inter\">{specifications.rfid}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.features && (\n                    <div className=\"flex justify-between items-start py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Features</span>\n                      <span className=\"text-sm text-gray-900 text-right font-inter\">{specifications.features}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.passportCapacity && (\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Capacity</span>\n                      <span className=\"text-sm text-gray-900 font-inter\">{specifications.passportCapacity}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.care && (\n                    <div className=\"flex justify-between items-start py-2 border-b border-gray-50\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Care Instructions</span>\n                      <span className=\"text-sm text-gray-900 text-right font-inter\">{specifications.care}</span>\n                    </div>\n                  )}\n                  \n                  {specifications.warranty && (\n                    <div className=\"flex justify-between items-center py-2\">\n                      <span className=\"text-sm text-gray-500 font-inter\">Warranty</span>\n                      <span className=\"text-sm text-gray-900 font-inter\">{specifications.warranty}</span>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ItemDescriptionModal;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5052, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/TermsOfUseModal.jsx"],"sourcesContent":["import React from 'react';\n\nconst TermsOfUseModal = ({ show, onClose, onAgree }) => {\n  if (!show) return null;\n\n  return (\n    <div \n      className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\"\n      onClick={onClose}\n    >\n      <div \n        className=\"bg-white rounded-sm max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-200 shadow-lg\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Modal Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white\">\n          <h3 className=\"text-lg font-medium text-gray-900 font-inter\">\n            Terms of Use - Create Yours\n          </h3>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-50 transition-colors rounded\"\n            aria-label=\"Close modal\"\n          >\n            <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n        \n        {/* Modal Content */}\n        <div className=\"p-6 space-y-6\">\n          <div>\n            <h4 className=\"text-base font-semibold text-gray-900 mb-3 font-inter\">\n              User Responsibility\n            </h4>\n            <p className=\"text-sm text-gray-700 leading-relaxed font-inter\">\n              It is the user's responsibility to create and design the passport case using our interactive creator. \n              Please ensure that your design meets your requirements and preferences before placing your order. \n              We are not responsible for any design choices made by the user through the creator tool.\n            </p>\n          </div>\n\n          <div>\n            <h4 className=\"text-base font-semibold text-gray-900 mb-3 font-inter\">\n              Handmade Items - Natural Variations\n            </h4>\n            <p className=\"text-sm text-gray-700 leading-relaxed font-inter\">\n              All our passport cases are handmade with care and attention to detail. As each item is individually crafted, \n              there may be natural variations in color, texture, and appearance. These variations are not defects but rather \n              characteristics of handmade products that make each piece unique. Please note that the final product may vary \n              slightly from the digital preview shown in the creator.\n            </p>\n          </div>\n\n          <div className=\"bg-gray-50 border-l-4 border-gray-400 p-4 rounded\">\n            <p className=\"text-sm text-gray-700 leading-relaxed font-inter\">\n              By using our \"Create Yours\" tool and placing an order, you acknowledge that you have read, understood, \n              and agree to these terms of use.\n            </p>\n          </div>\n        </div>\n        \n        {/* Modal Footer */}\n        <div className=\"flex justify-end gap-3 p-6 border-t border-gray-200\">\n          <button\n            onClick={onClose}\n            className=\"px-6 py-2 text-sm uppercase tracking-wider font-inter bg-btn-secondary hover:bg-btn-secondary-hover text-btn-secondary-text border border-btn-secondary-border hover:border-btn-secondary-hover transition-all duration-200\"\n          >\n            Close\n          </button>\n          <button\n            onClick={() => {\n              if (onAgree) {\n                onAgree();\n              } else {\n                onClose();\n              }\n            }}\n            className=\"px-6 py-2 text-sm uppercase tracking-wider font-inter bg-btn-primary hover:bg-btn-primary-hover text-btn-primary-text border border-btn-primary-border hover:border-btn-primary-hover transition-all duration-200\"\n          >\n            I Agree\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TermsOfUseModal;\n\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,kBAAkB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE;IACjD,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,kSAAC;QACC,WAAU;QACV,SAAS;kBAET,cAAA,kSAAC;YACC,WAAU;YACV,SAAS,CAAC,IAAM,EAAE,eAAe;;8BAGjC,kSAAC;oBAAI,WAAU;;sCACb,kSAAC;4BAAG,WAAU;sCAA+C;;;;;;sCAG7D,kSAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,kSAAC;gCAAI,WAAU;gCAAwB,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAC/E,cAAA,kSAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;8BAM7E,kSAAC;oBAAI,WAAU;;sCACb,kSAAC;;8CACC,kSAAC;oCAAG,WAAU;8CAAwD;;;;;;8CAGtE,kSAAC;oCAAE,WAAU;8CAAmD;;;;;;;;;;;;sCAOlE,kSAAC;;8CACC,kSAAC;oCAAG,WAAU;8CAAwD;;;;;;8CAGtE,kSAAC;oCAAE,WAAU;8CAAmD;;;;;;;;;;;;sCAQlE,kSAAC;4BAAI,WAAU;sCACb,cAAA,kSAAC;gCAAE,WAAU;0CAAmD;;;;;;;;;;;;;;;;;8BAQpE,kSAAC;oBAAI,WAAU;;sCACb,kSAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,kSAAC;4BACC,SAAS;gCACP,IAAI,SAAS;oCACX;gCACF,OAAO;oCACL;gCACF;4BACF;4BACA,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;uCAEe"}},
    {"offset": {"line": 5237, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/component/CreateYours/AddTextModal.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { CUSTOM_TEXT_COLOR, CUSTOM_TEXT_SIZE, MAX_TEXT_LENGTH } from '../../data/constants';\n\nconst AddTextModal = ({ \n  show,\n  onClose,\n  customText, \n  setCustomText, \n  customTextError, \n  setCustomTextError, \n  customTextAdded, \n  setCustomTextAdded \n}) => {\n  // Prevent page scroll when modal is open\n  useEffect(() => {\n    if (show) {\n      // Save current scroll position\n      const scrollY = window.scrollY || window.pageYOffset;\n      const scrollX = window.scrollX || window.pageXOffset;\n      \n      // Get original styles\n      const originalBodyOverflow = document.body.style.overflow;\n      const originalBodyPosition = document.body.style.position;\n      const originalBodyTop = document.body.style.top;\n      const originalBodyWidth = document.body.style.width;\n      const originalBodyLeft = document.body.style.left;\n      const originalHtmlOverflow = document.documentElement.style.overflow;\n      \n      // Apply styles to prevent scrolling\n      document.body.style.overflow = 'hidden';\n      document.body.style.position = 'fixed';\n      document.body.style.top = `-${scrollY}px`;\n      document.body.style.width = '100%';\n      document.body.style.left = `-${scrollX}px`;\n      document.documentElement.style.overflow = 'hidden';\n      \n      return () => {\n        // Restore original styles\n        document.body.style.overflow = originalBodyOverflow;\n        document.body.style.position = originalBodyPosition;\n        document.body.style.top = originalBodyTop;\n        document.body.style.width = originalBodyWidth;\n        document.body.style.left = originalBodyLeft;\n        document.documentElement.style.overflow = originalHtmlOverflow;\n        \n        // Restore scroll position after a brief delay to ensure styles are applied\n        requestAnimationFrame(() => {\n          window.scrollTo(scrollX, scrollY);\n        });\n      };\n    }\n  }, [show]);\n\n  if (!show) return null;\n\n  const handleAddText = () => {\n    if (!customText.trim()) {\n      setCustomTextError('Please enter the text you want to add.');\n      return;\n    }\n\n    if (typeof window !== 'undefined' && window.addTextToCanvas) {\n      window.addTextToCanvas(customText, {\n        fill: CUSTOM_TEXT_COLOR,\n        fontSize: CUSTOM_TEXT_SIZE,\n      });\n      setCustomTextAdded(true);\n      setCustomTextError('');\n      // Close modal after adding text\n      setTimeout(() => {\n        onClose();\n      }, 500);\n    } else {\n      setCustomTextError('Canvas is still loading. Please try again in a moment.');\n    }\n  };\n\n  const handleClear = () => {\n    setCustomText('');\n    setCustomTextAdded(false);\n    setCustomTextError('');\n  };\n\n  return (\n    <div \n      className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-2 xs:p-3 sm:p-4 md:p-6\"\n      onClick={onClose}\n    >\n      <div \n        className=\"bg-white  max-w-md w-full border border-gray-200 shadow-lg\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Modal Header */}\n        <div className=\"flex items-center justify-between p-3 xs:p-4 border-b border-gray-200\">\n          <h3 className=\"text-xs xs:text-sm font-medium text-gray-900 uppercase tracking-wider\" style={{fontFamily: \"'Poppins', sans-serif\"}}>\n             Add Text\n          </h3>\n          <button\n            onClick={onClose}\n            className=\"p-1 xs:p-2 hover:bg-gray-50 transition-colors \"\n            aria-label=\"Close modal\"\n          >\n            <svg className=\"w-4 h-4 xs:w-5 xs:h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n        \n        {/* Modal Content - Matching desktop CustomTextSection */}\n        <div className=\"p-3 xs:p-4 space-y-4\">\n          <div>\n            <input\n              type=\"text\"\n              value={customText || ''}\n              onChange={(e) => {\n                setCustomText(e.target.value);\n                setCustomTextError('');\n                setCustomTextAdded(false);\n              }}\n              onFocus={(e) => {\n                // Prevent page scroll on input focus (mobile)\n                e.preventDefault();\n                setTimeout(() => {\n                  e.target.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                }, 100);\n              }}\n              placeholder=\"e.g. Your name\"\n              className=\"w-full px-3 py-2 border border-gray-200 focus:outline-none focus:border-gray-400 bg-white text-gray-900 placeholder-gray-400 font-thin text-sm font-inter\"\n              style={{ fontSize: '16px' }}\n              maxLength={40}\n            />\n            <p className=\"mt-1 text-sm text-gray-500 font-inter\">\n              Up to {MAX_TEXT_LENGTH} characters. Double-click the text on the case to edit or move it.\n            </p>\n          </div>\n         \n          {customTextError && (\n            <div className=\"text-sm text-gray-600 border border-gray-200 bg-gray-50 px-3 py-2 font-inter\">\n              {customTextError}\n            </div>\n          )}\n          {customTextAdded && (\n            <div className=\"text-sm text-gray-600  px-3 py-2 font-inter\">\n              Text added to your design! You can drag it to reposition it.\n            </div>\n          )}\n          \n          <div className=\"flex flex-row gap-2\">\n            <button\n              onClick={handleAddText}\n              disabled={!customText.trim()}\n              className=\"flex-1 px-3 py-1.5 text-xs font-medium uppercase tracking-wider active:bg-blue-200 disabled:bg-gray-50 disabled:text-gray-400 disabled:cursor-not-allowed  active:scale-95 disabled:scale-100 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-1 font-inter bg-btn-light-blue hover:bg-btn-light-blue-hover text-btn-light-blue-text border border-btn-light-blue-border hover:border-btn-light-blue-hover transition-all duration-200\"\n            >\n              Add Text\n            </button>\n            <button\n              onClick={handleClear}\n              disabled={!customText.trim()}\n              className=\"px-3 py-1.5 text-xs font-medium uppercase tracking-wider active:bg-gray-200 disabled:bg-gray-50 disabled:text-gray-400 disabled:border-gray-100 disabled:cursor-not-allowed active:scale-95 disabled:scale-100 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-1 font-inter bg-btn-light-gray hover:bg-btn-light-gray-hover text-btn-light-gray-text border border-btn-light-gray-border hover:border-btn-light-gray-hover transition-all duration-200\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddTextModal;\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5478, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/utils/createyours/priceCalculations.js"],"sourcesContent":["/**\n * Calculate pins price from selected pins\n */\nexport const calculatePinsPrice = (selectedPins) => {\n  return selectedPins.reduce((total, { pin }) => total + (pin?.price || 0), 0);\n};\n\n/**\n * Calculate total price\n */\nexport const calculateTotalPrice = (caseBasePrice, pinsPrice, quantity) => {\n  const displayQuantity = Math.max(quantity, 1);\n  return ((caseBasePrice + pinsPrice) * displayQuantity).toFixed(2);\n};\n\n/**\n * Group pins for price breakdown display\n */\nexport const groupPinsForBreakdown = (selectedPins) => {\n  const groupedPins = selectedPins.reduce((acc, { pin }) => {\n    if (!pin) return acc;\n    const key = `${pin.src}|${pin.name}|${pin.price}`;\n    if (!acc[key]) {\n      acc[key] = { ...pin, count: 0 };\n    }\n    acc[key].count += 1;\n    return acc;\n  }, {});\n  return Object.values(groupedPins);\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;AACM,MAAM,qBAAqB,CAAC;IACjC,OAAO,aAAa,MAAM,CAAC,CAAC,OAAO,EAAE,GAAG,EAAE,GAAK,QAAQ,CAAC,KAAK,SAAS,CAAC,GAAG;AAC5E;AAKO,MAAM,sBAAsB,CAAC,eAAe,WAAW;IAC5D,MAAM,kBAAkB,KAAK,GAAG,CAAC,UAAU;IAC3C,OAAO,CAAC,CAAC,gBAAgB,SAAS,IAAI,eAAe,EAAE,OAAO,CAAC;AACjE;AAKO,MAAM,wBAAwB,CAAC;IACpC,MAAM,cAAc,aAAa,MAAM,CAAC,CAAC,KAAK,EAAE,GAAG,EAAE;QACnD,IAAI,CAAC,KAAK,OAAO;QACjB,MAAM,MAAM,GAAG,IAAI,GAAG,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,CAAC,EAAE,IAAI,KAAK,EAAE;QACjD,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE;YACb,GAAG,CAAC,IAAI,GAAG;gBAAE,GAAG,GAAG;gBAAE,OAAO;YAAE;QAChC;QACA,GAAG,CAAC,IAAI,CAAC,KAAK,IAAI;QAClB,OAAO;IACT,GAAG,CAAC;IACJ,OAAO,OAAO,MAAM,CAAC;AACvB"}},
    {"offset": {"line": 5514, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/utils/createyours/caseImages.js"],"sourcesContent":["import { normalizeImagePath } from '../imagePath';\n\n/**\n * Get case images array for a selected color and case\n * Returns an array of image URLs including the main color image and detail images\n * @param {Object} selectedColorData - The selected color data object with image property\n * @param {Object} selectedCase - The selected case object with type property\n * @returns {Array<string>} - Array of image URLs\n */\nexport const getCaseImages = (selectedColorData, selectedCase) => {\n  // Get the main color image\n  const colorImage = selectedColorData?.image || selectedCase?.images?.[0] || '';\n  \n  // Build images array\n  const caseImages = [];\n  \n  // Add the main color image first (normalized)\n  if (colorImage) {\n    caseImages.push(normalizeImagePath(colorImage));\n  }\n  \n  // Add detail images based on case type\n  let detailImages = [];\n  \n  if (selectedCase?.type === 'economy') {\n    detailImages = [\n      '/images/SmartCase/economycaseinside.webp',\n      '/images/SmartCase/economycaseclosure.webp',\n      '/images/SmartCase/economycaseclosureinside.webp'\n    ];\n  } else if (selectedCase?.type === 'business') {\n    detailImages = [\n      '/images/BusinessClassCase/businessclass.webp',\n      '/images/BusinessClassCase/businessclass1.webp'\n    ];\n  } else if (selectedCase?.type === 'firstclass') {\n    detailImages = [\n      '/images/FirstClassCase/firstclass.webp',\n      '/images/FirstClassCase/firstclass1.webp',\n      '/images/FirstClassCase/firstclass2.webp'\n    ];\n  }\n  \n  // Add detail images if they exist (normalized)\n  detailImages.forEach(img => {\n    if (img) {\n      caseImages.push(normalizeImagePath(img));\n    }\n  });\n  \n  // Return images array, or at least the color image if available\n  return caseImages.length > 0 ? caseImages : (colorImage ? [normalizeImagePath(colorImage)] : []);\n};\n"],"names":[],"mappings":";;;;AAAA;;AASO,MAAM,gBAAgB,CAAC,mBAAmB;IAC/C,2BAA2B;IAC3B,MAAM,aAAa,mBAAmB,SAAS,cAAc,QAAQ,CAAC,EAAE,IAAI;IAE5E,qBAAqB;IACrB,MAAM,aAAa,EAAE;IAErB,8CAA8C;IAC9C,IAAI,YAAY;QACd,WAAW,IAAI,CAAC,IAAA,mMAAkB,EAAC;IACrC;IAEA,uCAAuC;IACvC,IAAI,eAAe,EAAE;IAErB,IAAI,cAAc,SAAS,WAAW;QACpC,eAAe;YACb;YACA;YACA;SACD;IACH,OAAO,IAAI,cAAc,SAAS,YAAY;QAC5C,eAAe;YACb;YACA;SACD;IACH,OAAO,IAAI,cAAc,SAAS,cAAc;QAC9C,eAAe;YACb;YACA;YACA;SACD;IACH;IAEA,+CAA+C;IAC/C,aAAa,OAAO,CAAC,CAAA;QACnB,IAAI,KAAK;YACP,WAAW,IAAI,CAAC,IAAA,mMAAkB,EAAC;QACrC;IACF;IAEA,gEAAgE;IAChE,OAAO,WAAW,MAAM,GAAG,IAAI,aAAc,aAAa;QAAC,IAAA,mMAAkB,EAAC;KAAY,GAAG,EAAE;AACjG"}},
    {"offset": {"line": 5564, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/hooks/createyours/useInventoryCheck.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getMaxAvailableQuantity } from '../../utils/inventory';\nimport { getColorName } from '../../utils/createyours/helpers';\n\n/**\n * Custom hook for managing inventory checks and messages\n */\nexport const useInventoryCheck = ({\n  selectedCaseType,\n  selectedColor,\n  selectedPins,\n  quantity,\n  cart,\n  selectedCategory,\n  selectedCase\n}) => {\n  const [inventoryMessage, setInventoryMessage] = useState('');\n  const [inventoryType, setInventoryType] = useState('warning');\n  const [quantityError, setQuantityError] = useState('');\n  const [charmInventoryError, setCharmInventoryError] = useState('');\n\n  // Auto-dismiss inventory message after 3 seconds\n  useEffect(() => {\n    if (inventoryMessage) {\n      const timer = setTimeout(() => {\n        setInventoryMessage('');\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [inventoryMessage]);\n\n  // Check inventory when case/color or charms change\n  useEffect(() => {\n    // Check case inventory\n    if (selectedCaseType && selectedColor) {\n      const productForInventory = {\n        caseType: selectedCaseType,\n        color: selectedColor,\n      };\n      const maxAvailable = getMaxAvailableQuantity(productForInventory, cart);\n      \n      if (maxAvailable !== null && maxAvailable > 0) {\n        setInventoryMessage('');\n      }\n    }\n\n    // Check charm inventory for selected charms\n    if (selectedPins.length > 0) {\n      let outOfStockCharm = null;\n      \n      for (const { pin } of selectedPins) {\n        if (!pin) continue;\n        \n        const charmCategory = pin?.category || selectedCategory || 'colorful';\n        const charmName = pin?.name || 'charm';\n        const charmSrc = pin?.src || '';\n        \n        const charmProduct = {\n          type: 'charm',\n          category: charmCategory,\n          pin: pin,\n          name: charmName\n        };\n        \n        const maxAvailableCharm = getMaxAvailableQuantity(charmProduct, cart);\n        \n        if (maxAvailableCharm === null) continue;\n        \n        // Count standalone charms already in cart\n        let standaloneCharmsInCart = 0;\n        cart.forEach(cartItem => {\n          if (cartItem.type === 'charm') {\n            const cartPin = cartItem.pin || cartItem;\n            const cartPinName = cartPin.name || cartPin.src;\n            const cartPinCategory = cartPin.category || cartItem.category || charmCategory;\n            if ((cartPinName === charmName || cartPinName === charmSrc) && \n                cartPinCategory === charmCategory) {\n              standaloneCharmsInCart += (cartItem.quantity || 1);\n            }\n          }\n        });\n        \n        // Count how many of this charm are in custom designs already in cart\n        let charmCountInCustomDesigns = 0;\n        cart.forEach(cartItem => {\n          if (cartItem.pins && Array.isArray(cartItem.pins)) {\n            cartItem.pins.forEach(cartPin => {\n              const cartPinName = cartPin.name || cartPin.src;\n              const cartPinCategory = cartPin.category || charmCategory;\n              if ((cartPinName === charmName || cartPinName === charmSrc) && \n                  cartPinCategory === charmCategory) {\n                charmCountInCustomDesigns += (cartItem.quantity || 1);\n              }\n            });\n          }\n        });\n        \n        // Count how many of this charm are already selected in the current design\n        const charmCountInDesign = selectedPins.filter(p => {\n          const pPin = p.pin || p;\n          const pPinName = pPin.name || pPin.src;\n          const pPinCategory = pPin.category || charmCategory;\n          return (pPinName === charmName || pPinName === charmSrc) && \n                 pPinCategory === charmCategory;\n        }).length;\n        \n        // Calculate total inventory and usage\n        const totalInventory = maxAvailableCharm + standaloneCharmsInCart;\n        const totalUsage = standaloneCharmsInCart + charmCountInCustomDesigns + (charmCountInDesign * quantity);\n        \n        // Check if charm is out of stock or would exceed inventory\n        if (maxAvailableCharm === 0 || totalUsage > totalInventory) {\n          outOfStockCharm = charmName;\n          break;\n        }\n      }\n      \n      // Set or clear inventory message based on findings\n      if (outOfStockCharm) {\n        setInventoryMessage(`Oops! We don't have any more ${outOfStockCharm} in stock right now.`);\n        setInventoryType('warning');\n      } else {\n        setInventoryMessage(prev => {\n          if (prev && prev.includes(\"can't add more to your basket\")) {\n            return prev;\n          }\n          if (prev && !prev.includes(\"Passport Case\") && !prev.includes(\"Case\")) {\n            return '';\n          }\n          return prev;\n        });\n      }\n    } else {\n      setInventoryMessage(prev => {\n        if (prev && prev.includes(\"can't add more to your basket\")) {\n          return prev;\n        }\n        if (prev && !prev.includes(\"Passport Case\") && !prev.includes(\"Case\")) {\n          return '';\n        }\n        return prev;\n      });\n    }\n  }, [selectedCaseType, selectedColor, selectedPins, quantity, cart, selectedCategory]);\n\n  // Note: Quantity clamping is handled in the component\n\n  // Helper function to check if quantity can be incremented\n  const checkQuantityIncrement = (currentQuantity) => {\n    const productForInventory = {\n      caseType: selectedCaseType,\n      color: selectedColor,\n    };\n    const maxAvailable = getMaxAvailableQuantity(productForInventory, cart);\n    \n    if (maxAvailable !== null && (maxAvailable <= 0 || currentQuantity + 1 > maxAvailable)) {\n      const itemName = selectedCase?.name || 'Passport Case';\n      const selectedColorData = selectedCase?.colors?.find(c => c.color === selectedColor);\n      const colorName = selectedColorData?.image ? getColorName(selectedColorData.image) : '';\n      \n      const colorText = colorName ? ` in ${colorName}` : '';\n      const errorMessage = `Oops! We don't have any more ${itemName}${colorText} in stock right now, so you can't add more to your basket.`;\n      setQuantityError(`We don't have any more ${itemName}${colorText} in stock to be added anymore.`);\n      setInventoryMessage(errorMessage);\n      setInventoryType('error');\n      return false;\n    }\n    \n    // Check charm inventory for all charms in the design\n    if (selectedPins.length > 0) {\n      for (const { pin } of selectedPins) {\n        if (!pin) continue;\n        \n        const getCharmCategory = () => {\n          if (pin.category) return pin.category;\n          if (selectedCategory) return selectedCategory;\n          return 'colorful';\n        };\n        \n        const charmCategory = getCharmCategory();\n        const charmName = pin.name || pin.src || '';\n        const charmSrc = pin.src || '';\n        \n        const charmProduct = {\n          name: charmName,\n          price: pin.price || 2.0,\n          totalPrice: pin.price || 2.0,\n          image: charmSrc,\n          pin: pin,\n          category: charmCategory,\n          type: 'charm'\n        };\n        \n        const charmMaxAvailable = getMaxAvailableQuantity(charmProduct, cart);\n        \n        if (charmMaxAvailable === null) continue;\n        \n        // Count standalone charms already in cart\n        let standaloneCharmsInCart = 0;\n        cart.forEach(cartItem => {\n          if (cartItem.type === 'charm') {\n            const cartPin = cartItem.pin || cartItem;\n            const cartPinName = cartPin.name || cartPin.src;\n            const cartPinCategory = cartPin.category || cartItem.category || charmCategory;\n            if ((cartPinName === charmName || cartPinName === charmSrc) && \n                cartPinCategory === charmCategory) {\n              standaloneCharmsInCart += (cartItem.quantity || 1);\n            }\n          }\n        });\n        \n        // Count how many of this charm are in custom designs already in cart\n        let charmCountInCustomDesigns = 0;\n        cart.forEach(cartItem => {\n          if (cartItem.pins && Array.isArray(cartItem.pins)) {\n            cartItem.pins.forEach(cartPin => {\n              const cartPinName = cartPin.name || cartPin.src;\n              const cartPinCategory = cartPin.category || charmCategory;\n              if ((cartPinName === charmName || cartPinName === charmSrc) && \n                  cartPinCategory === charmCategory) {\n                charmCountInCustomDesigns += (cartItem.quantity || 1);\n              }\n            });\n          }\n        });\n        \n        // Count how many of this charm are in the current design (per design)\n        const charmCountInDesign = selectedPins.filter(p => {\n          const pPin = p.pin || p;\n          const pPinName = pPin.name || pPin.src;\n          const pPinCategory = pPin.category || charmCategory;\n          return (pPinName === charmName || pPinName === charmSrc) && \n                 pPinCategory === charmCategory;\n        }).length;\n        \n        // Calculate total inventory and usage\n        const totalInventory = charmMaxAvailable + standaloneCharmsInCart;\n        const currentUsage = standaloneCharmsInCart + charmCountInCustomDesigns + (charmCountInDesign * currentQuantity);\n        const newUsage = currentUsage + charmCountInDesign;\n        \n        // Check if adding one more design would exceed inventory\n        if (charmMaxAvailable === 0 || newUsage > totalInventory) {\n          const errorMessage = `Oops! We don't have any more ${pin.name || 'this charm'} in stock right now, so you can't add more to your basket.`;\n          setCharmInventoryError(errorMessage);\n          setInventoryMessage(errorMessage);\n          setInventoryType('error');\n          return false;\n        }\n      }\n    }\n    \n    return true;\n  };\n\n  return {\n    inventoryMessage,\n    inventoryType,\n    quantityError,\n    charmInventoryError,\n    setInventoryMessage,\n    setInventoryType,\n    setQuantityError,\n    setCharmInventoryError,\n    checkQuantityIncrement\n  };\n};\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5800, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/utils/createyours/pinSelection.js"],"sourcesContent":["import { getMaxAvailableQuantity } from '../inventory';\n\n/**\n * Check if a pin can be added based on inventory\n * @param {Object} pin - The pin object to check\n * @param {Array} cart - Current cart items\n * @param {Array} selectedPins - Currently selected pins in the design\n * @param {string} selectedCategory - Selected category\n * @returns {Object} - { canAdd: boolean, errorMessage: string }\n */\nexport const checkPinInventory = (pin, cart, selectedPins, selectedCategory) => {\n  const getCharmCategory = () => {\n    if (pin.category) return pin.category;\n    if (selectedCategory) return selectedCategory;\n    return 'colorful'; // Default fallback\n  };\n\n  const charmCategory = getCharmCategory();\n  const charmName = pin.name || pin.src || '';\n  const charmSrc = pin.src || '';\n\n  // Ensure pin object has category property for cart tracking\n  const pinWithCategory = {\n    ...pin,\n    category: charmCategory\n  };\n\n  const product = {\n    name: charmName,\n    price: pin.price || 2.0,\n    totalPrice: pin.price || 2.0,\n    image: charmSrc,\n    pin: pinWithCategory,\n    category: charmCategory,\n    type: 'charm'\n  };\n\n  // Check inventory for standalone charms in cart\n  const maxAvailable = getMaxAvailableQuantity(product, cart);\n  \n  // If no inventory limit, allow adding\n  if (maxAvailable === null) {\n    return { canAdd: true, errorMessage: '', pinWithCategory };\n  }\n  \n  // Count standalone charms already in cart\n  let standaloneCharmsInCart = 0;\n  cart.forEach(cartItem => {\n    if (cartItem.type === 'charm') {\n      const cartPin = cartItem.pin || cartItem;\n      const cartPinName = cartPin.name || cartPin.src;\n      const cartPinCategory = cartPin.category || cartItem.category || charmCategory;\n      if ((cartPinName === charmName || cartPinName === charmSrc) && \n          cartPinCategory === charmCategory) {\n        standaloneCharmsInCart += (cartItem.quantity || 1);\n      }\n    }\n  });\n  \n  // Count how many of this charm are in custom designs already in cart\n  let charmCountInCustomDesigns = 0;\n  cart.forEach(cartItem => {\n    if (cartItem.pins && Array.isArray(cartItem.pins)) {\n      cartItem.pins.forEach(cartPin => {\n        const cartPinName = cartPin.name || cartPin.src;\n        const cartPinCategory = cartPin.category || charmCategory;\n        if ((cartPinName === charmName || cartPinName === charmSrc) && \n            cartPinCategory === charmCategory) {\n          charmCountInCustomDesigns += (cartItem.quantity || 1);\n        }\n      });\n    }\n  });\n  \n  // Count how many of this charm are already selected in the current design\n  const charmCountInDesign = selectedPins.filter(p => {\n    const pPin = p.pin || p;\n    const pPinName = pPin.name || pPin.src;\n    const pPinCategory = pPin.category || charmCategory;\n    return (pPinName === charmName || pPinName === charmSrc) && \n           pPinCategory === charmCategory;\n  }).length;\n  \n  // Calculate total inventory: maxAvailable + standalone charms in cart\n  const totalInventory = maxAvailable + standaloneCharmsInCart;\n  \n  // Calculate total usage: standalone + in custom designs + in current design + 1 (new one)\n  const totalUsage = standaloneCharmsInCart + charmCountInCustomDesigns + charmCountInDesign + 1;\n  \n  // If maxAvailable is 0, no more charms can be added (standalone or in designs)\n  // Also check if total usage would exceed total inventory\n  if (maxAvailable === 0 || totalUsage > totalInventory) {\n    const charmDisplayName = pin.name || pin.src || 'this charm';\n    const errorMessage = `Oops! We don't have any more ${charmDisplayName} in stock right now, so you can't add more to your basket.`;\n    return { canAdd: false, errorMessage, pinWithCategory };\n  }\n  \n  return { canAdd: true, errorMessage: '', pinWithCategory };\n};\n\n/**\n * Scroll to element helper\n */\nexport const scrollToElement = (selector, options = {}) => {\n  setTimeout(() => {\n    const element = document.querySelector(selector);\n    if (element) {\n      element.scrollIntoView({ \n        behavior: 'smooth', \n        block: 'center',\n        ...options\n      });\n    }\n  }, 100);\n};\n"],"names":[],"mappings":";;;;;;AAAA;;AAUO,MAAM,oBAAoB,CAAC,KAAK,MAAM,cAAc;IACzD,MAAM,mBAAmB;QACvB,IAAI,IAAI,QAAQ,EAAE,OAAO,IAAI,QAAQ;QACrC,IAAI,kBAAkB,OAAO;QAC7B,OAAO,YAAY,mBAAmB;IACxC;IAEA,MAAM,gBAAgB;IACtB,MAAM,YAAY,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI;IACzC,MAAM,WAAW,IAAI,GAAG,IAAI;IAE5B,4DAA4D;IAC5D,MAAM,kBAAkB;QACtB,GAAG,GAAG;QACN,UAAU;IACZ;IAEA,MAAM,UAAU;QACd,MAAM;QACN,OAAO,IAAI,KAAK,IAAI;QACpB,YAAY,IAAI,KAAK,IAAI;QACzB,OAAO;QACP,KAAK;QACL,UAAU;QACV,MAAM;IACR;IAEA,gDAAgD;IAChD,MAAM,eAAe,IAAA,wMAAuB,EAAC,SAAS;IAEtD,sCAAsC;IACtC,IAAI,iBAAiB,MAAM;QACzB,OAAO;YAAE,QAAQ;YAAM,cAAc;YAAI;QAAgB;IAC3D;IAEA,0CAA0C;IAC1C,IAAI,yBAAyB;IAC7B,KAAK,OAAO,CAAC,CAAA;QACX,IAAI,SAAS,IAAI,KAAK,SAAS;YAC7B,MAAM,UAAU,SAAS,GAAG,IAAI;YAChC,MAAM,cAAc,QAAQ,IAAI,IAAI,QAAQ,GAAG;YAC/C,MAAM,kBAAkB,QAAQ,QAAQ,IAAI,SAAS,QAAQ,IAAI;YACjE,IAAI,CAAC,gBAAgB,aAAa,gBAAgB,QAAQ,KACtD,oBAAoB,eAAe;gBACrC,0BAA2B,SAAS,QAAQ,IAAI;YAClD;QACF;IACF;IAEA,qEAAqE;IACrE,IAAI,4BAA4B;IAChC,KAAK,OAAO,CAAC,CAAA;QACX,IAAI,SAAS,IAAI,IAAI,MAAM,OAAO,CAAC,SAAS,IAAI,GAAG;YACjD,SAAS,IAAI,CAAC,OAAO,CAAC,CAAA;gBACpB,MAAM,cAAc,QAAQ,IAAI,IAAI,QAAQ,GAAG;gBAC/C,MAAM,kBAAkB,QAAQ,QAAQ,IAAI;gBAC5C,IAAI,CAAC,gBAAgB,aAAa,gBAAgB,QAAQ,KACtD,oBAAoB,eAAe;oBACrC,6BAA8B,SAAS,QAAQ,IAAI;gBACrD;YACF;QACF;IACF;IAEA,0EAA0E;IAC1E,MAAM,qBAAqB,aAAa,MAAM,CAAC,CAAA;QAC7C,MAAM,OAAO,EAAE,GAAG,IAAI;QACtB,MAAM,WAAW,KAAK,IAAI,IAAI,KAAK,GAAG;QACtC,MAAM,eAAe,KAAK,QAAQ,IAAI;QACtC,OAAO,CAAC,aAAa,aAAa,aAAa,QAAQ,KAChD,iBAAiB;IAC1B,GAAG,MAAM;IAET,sEAAsE;IACtE,MAAM,iBAAiB,eAAe;IAEtC,0FAA0F;IAC1F,MAAM,aAAa,yBAAyB,4BAA4B,qBAAqB;IAE7F,+EAA+E;IAC/E,yDAAyD;IACzD,IAAI,iBAAiB,KAAK,aAAa,gBAAgB;QACrD,MAAM,mBAAmB,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI;QAChD,MAAM,eAAe,CAAC,6BAA6B,EAAE,iBAAiB,0DAA0D,CAAC;QACjI,OAAO;YAAE,QAAQ;YAAO;YAAc;QAAgB;IACxD;IAEA,OAAO;QAAE,QAAQ;QAAM,cAAc;QAAI;IAAgB;AAC3D;AAKO,MAAM,kBAAkB,CAAC,UAAU,UAAU,CAAC,CAAC;IACpD,WAAW;QACT,MAAM,UAAU,SAAS,aAAa,CAAC;QACvC,IAAI,SAAS;YACX,QAAQ,cAAc,CAAC;gBACrB,UAAU;gBACV,OAAO;gBACP,GAAG,OAAO;YACZ;QACF;IACF,GAAG;AACL"}},
    {"offset": {"line": 5910, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/utils/createyours/cartHelpers.js"],"sourcesContent":["import { getMaxAvailableQuantity } from '../inventory';\nimport { normalizeImagePath } from '../imagePath';\nimport { createCompositeDesignImage } from '../canvas/imageExport';\nimport { getColorName } from './helpers';\n\n/**\n * Validate case inventory before adding to cart\n */\nexport const validateCaseInventory = (selectedCaseType, selectedColor, cart, quantity, selectedCase) => {\n  const productForInventory = {\n    caseType: selectedCaseType,\n    color: selectedColor,\n  };\n  const maxAvailableCase = getMaxAvailableQuantity(productForInventory, cart);\n  \n  const caseName = selectedCase?.name || 'Passport Case';\n  const colorData = selectedCase?.colors?.find(c => c.color === selectedColor);\n  // Get human-readable color name from hex code or image path\n  const colorName = colorData \n    ? getColorName(colorData.color, colorData.image) \n    : (selectedColor ? getColorName(selectedColor) : '');\n  \n  // Validate case quantity against inventory\n  if (maxAvailableCase !== null && maxAvailableCase === 0) {\n    const colorText = colorName ? ` in ${colorName}` : '';\n    return {\n      valid: false,\n      errorMessage: `Oops! We don't have any more ${caseName}${colorText} in stock right now, so you can't add more to your basket.`\n    };\n  }\n  \n  if (maxAvailableCase !== null && quantity > maxAvailableCase) {\n    const colorText = colorName ? ` in ${colorName}` : '';\n    return {\n      valid: false,\n      errorMessage: `Oops! We don't have any more ${caseName}${colorText} in stock right now, so you can't add more to your basket.`,\n      maxAvailable: maxAvailableCase\n    };\n  }\n  \n  return { valid: true };\n};\n\n/**\n * Validate charm inventory before adding to cart\n */\nexport const validateCharmInventory = (selectedPins, cart, quantity, selectedCategory) => {\n  for (const { pin } of selectedPins) {\n    const charmCategory = pin?.category || selectedCategory || 'colorful';\n    const charmName = pin?.name || 'charm';\n    \n    const charmProduct = {\n      type: 'charm',\n      category: charmCategory,\n      pin: pin,\n      name: charmName\n    };\n    \n    const maxAvailableCharm = getMaxAvailableQuantity(charmProduct, cart);\n    \n    // Check if charm is out of stock\n    if (maxAvailableCharm !== null && maxAvailableCharm === 0) {\n      return {\n        valid: false,\n        errorMessage: `Oops! We don't have any more ${charmName} in stock right now, so you can't add more to your basket.`\n      };\n    }\n    \n    // Check if we can add the requested quantity of this charm\n    if (maxAvailableCharm !== null && quantity > maxAvailableCharm) {\n      return {\n        valid: false,\n        errorMessage: `Oops! We don't have any more ${charmName} in stock right now, so you can't add more to your basket.`\n      };\n    }\n  }\n  \n  return { valid: true };\n};\n\n/**\n * Create composite design image\n */\nexport const createDesignImage = async (normalizedCaseImage, canvasImageDataURL) => {\n  let designImage = normalizedCaseImage; // Fallback to normalized case image if composite fails\n  \n  if (normalizedCaseImage && canvasImageDataURL) {\n    try {\n      designImage = await createCompositeDesignImage(normalizedCaseImage, canvasImageDataURL, 300, 350);\n      \n      // Validate the composite image was created successfully\n      if (!designImage || !designImage.startsWith('data:image/')) {\n        console.warn('âš ï¸ Composite image creation returned invalid result, using case image fallback');\n        designImage = normalizedCaseImage;\n      }\n    } catch (error) {\n      console.error('âŒ Error creating composite design image:', error);\n      designImage = normalizedCaseImage;\n    }\n  } else if (canvasImageDataURL) {\n    designImage = canvasImageDataURL;\n  } else if (normalizedCaseImage) {\n    designImage = normalizedCaseImage;\n  }\n  \n  // Final validation\n  if (!designImage || (typeof designImage === 'string' && designImage.trim().length === 0)) {\n    console.error('âŒ No valid design image available, using case image fallback');\n    designImage = normalizedCaseImage || '';\n  }\n  \n  return designImage;\n};\n\n/**\n * Prepare pins details for cart\n */\nexport const preparePinsDetails = (selectedPins, selectedCategory) => {\n  return selectedPins.map(({ pin }) => {\n    const pinCategory = (pin?.category && pin.category.trim() !== '') \n      ? pin.category \n      : (selectedCategory && selectedCategory.trim() !== '') \n        ? selectedCategory \n        : 'colorful';\n    return {\n      ...pin,\n      name: pin?.name || 'Charm',\n      src: pin?.src || '',\n      price: pin?.price || 0,\n      category: pinCategory\n    };\n  });\n};\n\n/**\n * Create cart products from design\n */\nexport const createCartProducts = ({\n  selectedCase,\n  selectedCaseType,\n  selectedColor,\n  selectedCaseImage,\n  selectedPins,\n  caseBasePrice,\n  quantity,\n  designImage,\n  normalizedCaseImage,\n  pinsDetails,\n  selectedCategory\n}) => {\n  const effectiveQuantity = Math.max(quantity, 1);\n  const uniqueTimestamp = Date.now();\n  \n  // Create case product\n  const caseName = selectedCase?.name || 'Passport Case';\n  const caseProduct = {\n    id: `case-${uniqueTimestamp}-${Math.random().toString(36).substr(2, 9)}`,\n    name: caseName,\n    caseType: selectedCaseType,\n    caseName: caseName,\n    color: selectedColor,\n    basePrice: caseBasePrice,\n    casePrice: caseBasePrice,\n    totalPrice: caseBasePrice,\n    price: caseBasePrice,\n    image: designImage,\n    designImage: designImage,\n    caseImage: normalizedCaseImage,\n    customDesign: true,\n    quantity: effectiveQuantity\n  };\n  \n  // Create charm products\n  const charmProducts = pinsDetails.map((pin, index) => {\n    const charmCategory = pin.category || selectedCategory || 'colorful';\n    const charmName = pin.name || 'Charm';\n    const charmPrice = pin.price || 2.0;\n    \n    return {\n      id: `charm-${uniqueTimestamp}-${index}-${Math.random().toString(36).substr(2, 9)}`,\n      name: charmName,\n      price: charmPrice,\n      totalPrice: charmPrice,\n      image: pin.src || '',\n      pin: pin,\n      category: charmCategory,\n      type: 'charm',\n      quantity: effectiveQuantity\n    };\n  });\n  \n  return { caseProduct, charmProducts };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6075, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/hooks/createyours/useCreateYours.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { usePathname, useSearchParams } from 'next/navigation';\nimport { useRouter } from 'next/navigation';\nimport Products from '../../data/products.json';\nimport { useCart } from '../../context/CartContext';\nimport { getMaxAvailableQuantity } from '../../utils/inventory';\nimport { getProductsWithQuantities, getDefaultCaseAndColor } from '../../utils/createyours/helpers';\nimport { calculatePinsPrice, calculateTotalPrice, groupPinsForBreakdown } from '../../utils/createyours/priceCalculations';\nimport { getCaseImages } from '../../utils/createyours/caseImages';\nimport { normalizeImagePath } from '../../utils/imagePath';\nimport { useInventoryCheck } from './useInventoryCheck';\nimport { checkPinInventory, scrollToElement } from '../../utils/createyours/pinSelection';\nimport { \n  validateCaseInventory, \n  validateCharmInventory, \n  createDesignImage, \n  preparePinsDetails, \n  createCartProducts \n} from '../../utils/createyours/cartHelpers';\nimport { CUSTOM_TEXT_COLOR, CUSTOM_TEXT_SIZE, MAX_TEXT_LENGTH } from '../../data/constants';\n\nexport const useCreateYours = () => {\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const { addToCart, cart } = useCart();\n  \n  // State\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [pins, setPins] = useState([]);\n  const [mobileSubCategory, setMobileSubCategory] = useState('all');\n  \n  const defaultValues = getDefaultCaseAndColor(searchParams);\n  const [selectedCaseType, setSelectedCaseType] = useState(defaultValues.caseType);\n  const [selectedColor, setSelectedColor] = useState(defaultValues.color);\n  const [selectedCaseImage, setSelectedCaseImage] = useState(defaultValues.image);\n  const [selectedPins, setSelectedPins] = useState([]);\n  const [showPriceBreakdown, setShowPriceBreakdown] = useState(false);\n  const [isCaseDropdownOpen, setIsCaseDropdownOpen] = useState(false);\n  const [isCharmsDropdownOpen, setIsCharmsDropdownOpen] = useState(false);\n  const [isAddTextDropdownOpen, setIsAddTextDropdownOpen] = useState(false);\n  // Initialize with safe default for SSR (assume desktop, will be updated on mount)\n  const [isMobile, setIsMobile] = useState(false);\n  const [mobileCurrentStep, setMobileCurrentStep] = useState(null);\n  const [quantity, setQuantity] = useState(0);\n  const [customText, setCustomText] = useState('');\n  const [customTextError, setCustomTextError] = useState('');\n  const [customTextAdded, setCustomTextAdded] = useState(false);\n  const [showImageModal, setShowImageModal] = useState(false);\n  const [selectedModalImage, setSelectedModalImage] = useState(0);\n  const [showDescriptionModal, setShowDescriptionModal] = useState(false);\n  const [showTermsModal, setShowTermsModal] = useState(false);\n  const [agreedToTerms, setAgreedToTerms] = useState(false);\n  const [pendingAddToCart, setPendingAddToCart] = useState(false);\n  const [showTermsError, setShowTermsError] = useState(false);\n  const [showAddTextModal, setShowAddTextModal] = useState(false);\n  const caseDropdownRef = useRef(null);\n  \n  const productsWithQuantities = getProductsWithQuantities();\n  const selectedCase = productsWithQuantities.cases.find(c => c.type === selectedCaseType);\n  \n  // Use inventory check hook\n  const {\n    inventoryMessage,\n    inventoryType,\n    quantityError,\n    charmInventoryError,\n    setInventoryMessage,\n    setInventoryType,\n    setQuantityError,\n    setCharmInventoryError,\n    checkQuantityIncrement\n  } = useInventoryCheck({\n    selectedCaseType,\n    selectedColor,\n    selectedPins,\n    quantity,\n    cart,\n    selectedCategory,\n    selectedCase\n  });\n\n  // Scroll to top when component mounts or route changes (client-side only)\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      window.scrollTo({ top: 0, behavior: 'instant' });\n    }\n  }, [pathname]);\n\n  // Update case and color when URL params change\n  useEffect(() => {\n    const caseParam = searchParams?.get('case');\n    const colorParam = searchParams?.get('color');\n    \n    if (caseParam) {\n      const caseFromParam = Products.cases.find(c => c.type === caseParam);\n      if (caseFromParam) {\n        setSelectedCaseType(caseFromParam.type);\n        \n        if (colorParam) {\n          const colorData = caseFromParam.colors.find(c => c.color === colorParam);\n          if (colorData) {\n            setSelectedColor(colorData.color);\n            setSelectedCaseImage(colorData.image);\n            return;\n          }\n        }\n        \n        if (caseFromParam.colors && caseFromParam.colors.length > 0) {\n          const firstColor = caseFromParam.colors[0];\n          setSelectedColor(firstColor.color);\n          setSelectedCaseImage(firstColor.image);\n        }\n      }\n    }\n  }, [searchParams]);\n\n  // Handle case type selection\n  const handleCaseTypeSelection = (caseType) => {\n    setSelectedCaseType(caseType);\n    const productsWithQuantities = getProductsWithQuantities();\n    const selectedCase = productsWithQuantities.cases.find(c => c.type === caseType);\n    if (selectedCase && selectedCase.colors.length > 0) {\n      const availableColor = selectedCase.colors.find(c => \n        c.quantity === undefined || c.quantity > 0\n      ) || selectedCase.colors[0];\n      \n      setSelectedColor(availableColor.color);\n      setSelectedCaseImage(availableColor.image);\n    }\n    if (isMobile) {\n      setMobileCurrentStep(null);\n    }\n  };\n\n  // Handle color selection\n  const handleColorSelection = (color, image) => {\n    setSelectedColor(color);\n    setSelectedCaseImage(image);\n    if (isMobile) {\n      setMobileCurrentStep(null);\n    }\n  };\n\n  // Handle pin selection from PinSelector\n  const handlePinSelection = useCallback((pin) => {\n    const { canAdd, errorMessage, pinWithCategory } = checkPinInventory(\n      pin, \n      cart, \n      selectedPins, \n      selectedCategory\n    );\n    \n    if (!canAdd) {\n      setInventoryMessage(errorMessage);\n      setInventoryType('error');\n      setCharmInventoryError(errorMessage.replace('Oops! We don\\'t have any more ', '').replace(' in stock right now, so you can\\'t add more to your basket.', ''));\n      \n      if (isMobile && typeof window !== 'undefined') {\n        setMobileCurrentStep(null);\n        setTimeout(() => {\n          window.scrollTo({ \n            top: document.body.scrollHeight, \n            behavior: 'smooth' \n          });\n        }, 300);\n      } else {\n        scrollToElement('[class*=\"PriceSummary\"]', { block: 'center' });\n      }\n      return;\n    }\n    \n    // Add pin to canvas\n    if (typeof window !== 'undefined' && window.addPinToCanvas) {\n      window.addPinToCanvas(pinWithCategory);\n    }\n    \n    setCharmInventoryError('');\n    \n    // Close mobile overlay after pin selection\n    if (isMobile && typeof window !== 'undefined') {\n      setMobileCurrentStep(null);\n      setTimeout(() => {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n      }, 100);\n    } else {\n      scrollToElement('.happy-card', { block: 'center' });\n    }\n  }, [isMobile, cart, selectedPins, selectedCategory, setCharmInventoryError, setInventoryMessage, setInventoryType]);\n\n  // Handle navigation from other pages\n  // Note: Next.js doesn't support location.state like React Router\n  // If you need to pass selectedPin, use query parameters or other state management\n  useEffect(() => {\n    // Check for selectedPin in query params as fallback\n    const selectedPinParam = searchParams?.get('selectedPin');\n    if (selectedPinParam) {\n      try {\n        const selectedPin = JSON.parse(decodeURIComponent(selectedPinParam));\n        const pinWithCategory = {\n          ...selectedPin,\n          category: selectedPin.category || selectedCategory || 'colorful'\n        };\n        setTimeout(() => {\n          if (typeof window !== 'undefined' && window.addPinToCanvas) {\n            window.addPinToCanvas(pinWithCategory);\n          }\n        }, 1000);\n        // Remove query param after processing\n        const newSearchParams = new URLSearchParams(searchParams?.toString() || '');\n        newSearchParams.delete('selectedPin');\n        const newUrl = `${pathname}${newSearchParams.toString() ? '?' + newSearchParams.toString() : ''}`;\n        router.replace(newUrl);\n      } catch (e) {\n        console.warn('Failed to parse selectedPin from query params:', e);\n      }\n    }\n  }, [searchParams, selectedCategory, pathname, router]);\n\n  // When category changes, update pins from Products\n  useEffect(() => {\n    if (selectedCategory) {\n      if (selectedCategory === 'flags') {\n        setPins(Products.pins.flags || []);\n      } else {\n        setPins(Products.pins[selectedCategory] || []);\n      }\n    }\n    setMobileSubCategory('all');\n  }, [selectedCategory]);\n\n  // Update color when case type changes\n  useEffect(() => {\n    if (Products.cases.length > 0) {\n      const defaultCase = Products.cases.find(c => c.type === selectedCaseType) || Products.cases[0];\n      if (defaultCase && defaultCase.colors.length > 0) {\n        const defaultColor = defaultCase.colors[0];\n        setSelectedColor(defaultColor.color);\n        setSelectedCaseImage(defaultColor.image);\n      }\n    }\n  }, [selectedCaseType]);\n\n  // Handle quantity increment with inventory check\n  const handleIncrementQuantity = () => {\n    if (checkQuantityIncrement(quantity)) {\n      setQuantity(quantity + 1);\n      setQuantityError('');\n      setCharmInventoryError('');\n      setInventoryMessage('');\n    }\n  };\n\n  // Handle quantity decrement\n  const handleDecrementQuantity = () => {\n    if (quantity > 0) {\n      setQuantity(quantity - 1);\n      setQuantityError('');\n      setCharmInventoryError('');\n      setInventoryMessage('');\n    }\n  };\n\n  // Handle adding text on mobile\n  const handleMobileAddText = () => {\n    if (!customText.trim()) {\n      setCustomTextError('Please enter the text you want to add.');\n      return;\n    }\n\n    if (typeof window !== 'undefined' && window.addTextToCanvas) {\n      window.addTextToCanvas(customText.trim(), {\n        fill: CUSTOM_TEXT_COLOR,\n        fontSize: CUSTOM_TEXT_SIZE,\n      });\n      setCustomTextAdded(true);\n      setCustomTextError('');\n      setTimeout(() => {\n        setIsAddTextDropdownOpen(false);\n      }, 500);\n    } else {\n      setCustomTextError('Canvas is still loading. Please try again in a moment.');\n    }\n  };\n\n  // Calculate prices\n  const caseBasePrice = selectedCase?.basePrice || 0;\n  const selectedColorData = selectedCase?.colors?.find(c => c.color === selectedColor);\n  const caseImages = getCaseImages(selectedColorData, selectedCase);\n  const pinsPrice = calculatePinsPrice(selectedPins);\n  const totalPrice = calculateTotalPrice(caseBasePrice, pinsPrice, quantity);\n  const groupedPinsList = groupPinsForBreakdown(selectedPins);\n\n  // Handle add to cart\n  const handleAddToCart = () => {\n    if (!agreedToTerms) {\n      setShowTermsError(true);\n      setPendingAddToCart(true);\n      return;\n    }\n    \n    setShowTermsError(false);\n    executeAddToCart();\n  };\n\n  // Execute the actual add to cart action\n  const executeAddToCart = async () => {\n    const effectiveQuantity = Math.max(quantity, 1);\n    \n    // Validate case inventory\n    const caseValidation = validateCaseInventory(\n      selectedCaseType, \n      selectedColor, \n      cart, \n      effectiveQuantity, \n      selectedCase\n    );\n    \n    if (!caseValidation.valid) {\n      setInventoryMessage(caseValidation.errorMessage);\n      setInventoryType('error');\n      if (caseValidation.maxAvailable !== undefined) {\n        setQuantity(caseValidation.maxAvailable > 0 ? caseValidation.maxAvailable : 0);\n      }\n      return;\n    }\n    \n    // Validate charm inventory\n    const charmValidation = validateCharmInventory(selectedPins, cart, effectiveQuantity, selectedCategory);\n    if (!charmValidation.valid) {\n      setInventoryMessage(charmValidation.errorMessage);\n      setInventoryType('error');\n      return;\n    }\n    \n    // Get the case image\n    const caseImageToUse = selectedCaseImage || selectedColorData?.image || selectedCase?.images?.[0];\n    const finalCaseImage = caseImageToUse || '';\n    const normalizedCaseImage = finalCaseImage ? normalizeImagePath(finalCaseImage) : '';\n    \n    // Get canvas image data URL\n    let canvasImageDataURL = null;\n    if (typeof window !== 'undefined' && window.getDesignImageDataURL) {\n      canvasImageDataURL = window.getDesignImageDataURL();\n    }\n    \n    // Create composite image\n    const designImage = await createDesignImage(normalizedCaseImage, canvasImageDataURL);\n    \n    // Prepare pins details\n    const pinsDetails = preparePinsDetails(selectedPins, selectedCategory);\n    \n    // Create cart products\n    const { caseProduct, charmProducts } = createCartProducts({\n      selectedCase,\n      selectedCaseType,\n      selectedColor,\n      selectedCaseImage,\n      selectedPins,\n      caseBasePrice,\n      quantity: effectiveQuantity,\n      designImage,\n      normalizedCaseImage,\n      pinsDetails,\n      selectedCategory\n    });\n    \n    // Add to cart\n    addToCart(caseProduct);\n    charmProducts.forEach(charmProduct => {\n      addToCart(charmProduct);\n    });\n    \n    // Clear canvas and reset state\n    if (typeof window !== 'undefined' && window.clearCanvas) {\n      window.clearCanvas();\n    }\n    setSelectedPins([]);\n    setQuantity(0);\n  };\n\n  // Handle pin selection callback from Canvas\n  const handlePinSelect = useCallback((imgInstance) => {\n    if (imgInstance && imgInstance.pinData) {\n      setSelectedPins(prev => [...prev, { imgInstance, pin: imgInstance.pinData }]);\n    }\n  }, []);\n\n  // Handle pin removal callback from Canvas\n  const handlePinRemove = useCallback((removedPin) => {\n    setSelectedPins(prev => prev.filter(p => p.imgInstance !== removedPin));\n    setCharmInventoryError('');\n  }, [setCharmInventoryError]);\n\n  // Track screen size changes (client-side only)\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    \n    // Set initial mobile state on mount\n    setIsMobile(window.innerWidth < 768);\n    \n    const handleResize = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Close add text dropdown when mobile step overlays are opened\n  useEffect(() => {\n    if (isMobile && mobileCurrentStep !== null) {\n      setIsAddTextDropdownOpen(false);\n    }\n  }, [mobileCurrentStep, isMobile]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const onDocClick = (e) => {\n      if (caseDropdownRef.current && !caseDropdownRef.current.contains(e.target)) {\n        setIsCaseDropdownOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', onDocClick);\n    return () => document.removeEventListener('mousedown', onDocClick);\n  }, []);\n\n  return {\n    // State\n    selectedCategory,\n    setSelectedCategory,\n    pins,\n    mobileSubCategory,\n    setMobileSubCategory,\n    selectedCaseType,\n    selectedColor,\n    selectedCaseImage,\n    selectedPins,\n    showPriceBreakdown,\n    setShowPriceBreakdown,\n    isCaseDropdownOpen,\n    setIsCaseDropdownOpen,\n    isCharmsDropdownOpen,\n    setIsCharmsDropdownOpen,\n    isAddTextDropdownOpen,\n    setIsAddTextDropdownOpen,\n    isMobile,\n    mobileCurrentStep,\n    setMobileCurrentStep,\n    quantity,\n    setQuantity,\n    customText,\n    setCustomText,\n    customTextError,\n    setCustomTextError,\n    customTextAdded,\n    setCustomTextAdded,\n    showImageModal,\n    setShowImageModal,\n    selectedModalImage,\n    setSelectedModalImage,\n    showDescriptionModal,\n    setShowDescriptionModal,\n    showTermsModal,\n    setShowTermsModal,\n    agreedToTerms,\n    setAgreedToTerms,\n    pendingAddToCart,\n    setPendingAddToCart,\n    showTermsError,\n    setShowTermsError,\n    showAddTextModal,\n    setShowAddTextModal,\n    \n    // Computed values\n    productsWithQuantities,\n    selectedCase,\n    caseBasePrice,\n    selectedColorData,\n    caseImages,\n    pinsPrice,\n    totalPrice,\n    groupedPinsList,\n    cart,\n    \n    // Inventory\n    inventoryMessage,\n    inventoryType,\n    quantityError,\n    charmInventoryError,\n    \n    // Handlers\n    handleCaseTypeSelection,\n    handleColorSelection,\n    handlePinSelection,\n    handleIncrementQuantity,\n    handleDecrementQuantity,\n    handleMobileAddText,\n    handleAddToCart,\n    executeAddToCart,\n    handlePinSelect,\n    handlePinRemove,\n    \n    // Navigation\n    router,\n  };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6533, "column": 0}, "map": {"version":3,"sources":["file:///Users/raphaeladoamaralgil/Desktop/HappyCase/TheHappy/TheHappyCase/src/page-components/CreateYours/index.jsx"],"sourcesContent":["'use client';\n\nimport React from \"react\";\nimport Products from \"../../data/products.json\";\n\n// Components\nimport CreateYoursHeader from \"../../component/CreateYours/CreateYoursHeader\";\nimport CloseButton from \"../../component/CreateYours/CloseButton\";\nimport CanvasSection from \"../../component/CreateYours/CanvasSection\";\nimport CaseSelectionSection from \"../../component/CreateYours/CaseSelectionSection\";\nimport CharmsSelectionSection from \"../../component/CreateYours/CharmsSelectionSection\";\nimport AddTextSection from \"../../component/CreateYours/AddTextSection\";\nimport MobileOverlay from \"../../component/CreateYours/MobileOverlay\";\nimport MobileStepButtons from \"../../component/CreateYours/MobileStepButtons\";\nimport MobileAddTextSection from \"../../component/CreateYours/MobileAddTextSection\";\nimport PriceSummary from \"../../component/CreateYours/PriceSummary\";\nimport ImageModal from \"../../component/ImageModal\";\nimport ItemDescriptionModal from \"../../component/CreateYours/ItemDescriptionModal\";\nimport TermsOfUseModal from \"../../component/CreateYours/TermsOfUseModal\";\nimport AddTextModal from \"../../component/CreateYours/AddTextModal\";\n\n// Hooks\nimport { useCreateYours } from \"../../hooks/createyours/useCreateYours\";\n\n\nconst CreateYours = () => {\n  const {\n    // State\n    selectedCategory,\n    setSelectedCategory,\n    pins,\n    mobileSubCategory,\n    setMobileSubCategory,\n    selectedCaseType,\n    selectedColor,\n    selectedCaseImage,\n    selectedPins,\n    showPriceBreakdown,\n    setShowPriceBreakdown,\n    isCaseDropdownOpen,\n    setIsCaseDropdownOpen,\n    isCharmsDropdownOpen,\n    setIsCharmsDropdownOpen,\n    isAddTextDropdownOpen,\n    setIsAddTextDropdownOpen,\n    isMobile,\n    mobileCurrentStep,\n    setMobileCurrentStep,\n    quantity,\n    setQuantity,\n    customText,\n    setCustomText,\n    customTextError,\n    setCustomTextError,\n    customTextAdded,\n    setCustomTextAdded,\n    showImageModal,\n    setShowImageModal,\n    selectedModalImage,\n    setSelectedModalImage,\n    showDescriptionModal,\n    setShowDescriptionModal,\n    showTermsModal,\n    setShowTermsModal,\n    agreedToTerms,\n    setAgreedToTerms,\n    pendingAddToCart,\n    setPendingAddToCart,\n    showTermsError,\n    setShowTermsError,\n    showAddTextModal,\n    setShowAddTextModal,\n    \n    // Computed values\n    productsWithQuantities,\n    selectedCase,\n    caseBasePrice,\n    selectedColorData,\n    caseImages,\n    pinsPrice,\n    totalPrice,\n    groupedPinsList,\n    cart,\n    \n    // Inventory\n    inventoryMessage,\n    inventoryType,\n    quantityError,\n    charmInventoryError,\n    \n    // Handlers\n    handleCaseTypeSelection,\n    handleColorSelection,\n    handlePinSelection,\n    handleIncrementQuantity,\n    handleDecrementQuantity,\n    handleMobileAddText,\n    handleAddToCart,\n    executeAddToCart,\n    handlePinSelect,\n    handlePinRemove,\n    \n    // Navigation\n    router,\n  } = useCreateYours();\n\n\n  return (\n    <section className={`w-full pt-4 pb-1 md:pb-8 bg-white ${isMobile ? 'h-screen fixed inset-0 overflow-hidden' : 'min-h-screen'}`}>\n      <div className={`max-w-7xl mx-auto px-2 xs:px-3 sm:px-4 md:px-8 relative z-10 ${isMobile ? 'pb-40 xs:pb-44 sm:pb-48 h-full flex flex-col overflow-hidden' : 'pb-2 sm:pb-24 flex flex-col'}`}>\n        {/* Close Button - Mobile only */}\n        {isMobile && <CloseButton onClose={() => router.push('/')} />}\n        \n        <CreateYoursHeader />\n        \n        {/* Main Content Container - Side by side on desktop */}\n        <div className={`flex flex-col ${isMobile ? '' : 'md:flex-row md:gap-8 lg:gap-12'} flex-1 overflow-hidden mt-0 ${isMobile ? '' : 'md:mt-12'}`}>\n          {/* Canvas Section - Mobile: Top, Desktop: Left */}\n          <CanvasSection\n            selectedCaseType={selectedCaseType}\n            selectedColor={selectedColor}\n            selectedCaseImage={selectedCaseImage}\n            selectedCase={selectedCase}\n            caseImages={caseImages}\n            isCaseDropdownOpen={isCaseDropdownOpen}\n            isCharmsDropdownOpen={isCharmsDropdownOpen}\n            isAddTextDropdownOpen={isAddTextDropdownOpen}\n            isMobile={isMobile}\n            onPinSelect={handlePinSelect}\n            onPinRemove={handlePinRemove}\n            onOpenImageModal={() => {\n              setShowImageModal(true);\n              setSelectedModalImage(0);\n            }}\n            onOpenDescriptionModal={() => setShowDescriptionModal(true)}\n            Products={Products}\n          />\n          \n          {/* MAIN SECTION - Right Side Content */}\n          <div className={`flex flex-col ${isMobile ? '' : 'md:w-1/2 md:flex-1'} gap-2 xs:gap-3 sm:gap-4 overflow-hidden`}>\n            <div \n              className={`w-full flex flex-col space-y-4 sm:space-y-6 hide-scrollbar ${\n                isCaseDropdownOpen || isCharmsDropdownOpen || isAddTextDropdownOpen\n                  ? 'md:max-h-none md:overflow-visible'\n                  : 'md:max-h-[calc(100vh-200px)] md:overflow-y-auto'\n              }`}\n              style={{\n                scrollbarWidth: 'none',\n                msOverflowStyle: 'none',\n              }}\n            >\n              {/* Mobile Step Content Overlay */}\n              {isMobile && (\n                <MobileOverlay\n                  mobileCurrentStep={mobileCurrentStep}\n                  setMobileCurrentStep={setMobileCurrentStep}\n                  selectedCaseType={selectedCaseType}\n                  selectedColor={selectedColor}\n                  selectedCategory={selectedCategory}\n                  setSelectedCategory={setSelectedCategory}\n                  mobileSubCategory={mobileSubCategory}\n                  setMobileSubCategory={setMobileSubCategory}\n                  pins={pins}\n                  selectedPins={selectedPins}\n                  handleCaseTypeSelection={handleCaseTypeSelection}\n                  handleColorSelection={handleColorSelection}\n                  handlePinSelection={handlePinSelection}\n                  Products={productsWithQuantities}\n                  cart={cart}\n                />\n              )}\n              \n              {/* Passport Case Selection - Hidden on mobile */}\n              <CaseSelectionSection\n                isOpen={isCaseDropdownOpen}\n                onToggle={() => {\n                  setIsCharmsDropdownOpen(false);\n                  setIsAddTextDropdownOpen(false);\n                  setIsCaseDropdownOpen(!isCaseDropdownOpen);\n                }}\n                selectedCaseType={selectedCaseType}\n                selectedColor={selectedColor}\n                selectedCase={selectedCase}\n                onCaseSelect={handleCaseTypeSelection}\n                onColorSelect={handleColorSelection}\n                setIsCaseDropdownOpen={setIsCaseDropdownOpen}\n                Products={Products}\n                cart={cart}\n              />\n\n              {/* Charms Selection - Hidden on mobile */}\n              <CharmsSelectionSection\n                isOpen={isCharmsDropdownOpen}\n                onToggle={() => {\n                  setIsCaseDropdownOpen(false);\n                  setIsAddTextDropdownOpen(false);\n                  setIsCharmsDropdownOpen(!isCharmsDropdownOpen);\n                }}\n                pins={pins}\n                selectedCategory={selectedCategory}\n                setSelectedCategory={setSelectedCategory}\n                selectedPins={selectedPins}\n                onPinSelect={handlePinSelection}\n                Products={Products}\n                cart={cart}\n              />\n            \n              {/* Personalized Text - Hidden on mobile */}\n              <AddTextSection\n                isOpen={isAddTextDropdownOpen}\n                onToggle={() => {\n                  setIsCaseDropdownOpen(false);\n                  setIsCharmsDropdownOpen(false);\n                  setIsAddTextDropdownOpen(!isAddTextDropdownOpen);\n                }}\n                customText={customText}\n                setCustomText={setCustomText}\n                customTextError={customTextError}\n                setCustomTextError={setCustomTextError}\n                customTextAdded={customTextAdded}\n                setCustomTextAdded={setCustomTextAdded}\n              />\n\n            {/* Price Summary - Hidden on mobile */}\n            {!isMobile && (\n              <PriceSummary\n                totalPrice={totalPrice}\n                caseBasePrice={caseBasePrice}\n                groupedPinsList={groupedPinsList}\n                showPriceBreakdown={showPriceBreakdown}\n                setShowPriceBreakdown={setShowPriceBreakdown}\n                quantity={quantity}\n                setQuantity={setQuantity}\n                onIncrementQuantity={handleIncrementQuantity}\n                onDecrementQuantity={handleDecrementQuantity}\n                quantityError={quantityError}\n                charmInventoryError={charmInventoryError}\n                selectedCase={selectedCase}\n                selectedCaseType={selectedCaseType}\n                selectedColor={selectedColor}\n                selectedPins={selectedPins}\n                selectedCaseImage={selectedCaseImage}\n                pinsPrice={pinsPrice}\n                onAddToCart={handleAddToCart}\n                onShowTerms={() => setShowTermsModal(true)}\n                inventoryMessage={inventoryMessage}\n                inventoryType={inventoryType}\n                agreedToTerms={agreedToTerms}\n                setAgreedToTerms={(value) => {\n                  setAgreedToTerms(value);\n                  if (value) {\n                    setShowTermsError(false);\n                  }\n                }}\n                showTermsError={showTermsError}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Fixed Mobile Step Buttons - Above Price Summary */}\n      {isMobile && (\n        <div className=\"fixed left-0 right-0 z-0 bg-white md:hidden w-full\" style={{bottom: 'calc(80px + 0.75rem)'}}>\n          <div className=\"px-2 xs:px-3 sm:px-4 py-2 xs:py-2.5 sm:py-3 mb-0 pb-0\">\n            <p className=\"text-[14px] text-gray-700 mb-2 xs:mb-2.5 text-center font-thin\" style={{fontFamily: \"'Poppins', sans-serif\"}}>\n              Choose the options below:\n            </p>\n            <MobileStepButtons\n              selectedCaseType={selectedCaseType}\n              selectedColor={selectedColor}\n              onCaseClick={() => setMobileCurrentStep('case')}\n              onColorClick={() => setMobileCurrentStep('color')}\n              onCharmsClick={() => {\n                setMobileCurrentStep('charms');\n                window.scrollTo({ top: 0, behavior: 'smooth' });\n              }}\n              onTextClick={() => {\n                setIsCaseDropdownOpen(false);\n                setIsCharmsDropdownOpen(false);\n                setIsAddTextDropdownOpen(!isAddTextDropdownOpen);\n              }}\n              isAddTextDropdownOpen={isAddTextDropdownOpen}\n            />\n            \n            {/* Add Text Dropdown Content - Mobile only */}\n            {isAddTextDropdownOpen && (\n              <MobileAddTextSection\n                customText={customText}\n                setCustomText={setCustomText}\n                customTextError={customTextError}\n                setCustomTextError={setCustomTextError}\n                customTextAdded={customTextAdded}\n                setCustomTextAdded={setCustomTextAdded}\n                onAddText={handleMobileAddText}\n              />\n            )}\n          </div>\n        </div>\n      )}\n\n        {/* Fixed Price Summary - Mobile only */}\n        {isMobile && (\n          <div className=\"fixed left-0 right-0 z-40 bg-gray-100 border-t border-gray-200 shadow-lg md:hidden max-h-[50vh] xs:max-h-[45vh] overflow-y-auto w-full safe-area-inset-bottom\" style={{bottom: '0', paddingBottom: 'calc(env(safe-area-inset-bottom) + 0.75rem)'}}>\n            <div className=\"px-2 xs:px-2.5 sm:px-3 py-1.5 xs:py-2 sm:py-2.5 \">\n              <PriceSummary\n                totalPrice={totalPrice}\n                caseBasePrice={caseBasePrice}\n                groupedPinsList={groupedPinsList}\n                showPriceBreakdown={showPriceBreakdown}\n                setShowPriceBreakdown={setShowPriceBreakdown}\n                quantity={quantity}\n                setQuantity={setQuantity}\n                onIncrementQuantity={handleIncrementQuantity}\n                onDecrementQuantity={handleDecrementQuantity}\n                quantityError={quantityError}\n                charmInventoryError={charmInventoryError}\n                selectedCase={selectedCase}\n                selectedCaseType={selectedCaseType}\n                selectedColor={selectedColor}\n                selectedPins={selectedPins}\n                selectedCaseImage={selectedCaseImage}\n                pinsPrice={pinsPrice}\n                onAddToCart={handleAddToCart}\n                onShowTerms={() => setShowTermsModal(true)}\n                agreedToTerms={agreedToTerms}\n                setAgreedToTerms={(value) => {\n                  setAgreedToTerms(value);\n                  if (value) {\n                    setShowTermsError(false);\n                  }\n                }}\n                showTermsError={showTermsError}\n                inventoryMessage={inventoryMessage}\n                inventoryType={inventoryType}\n                isMobile={true}\n              />\n            </div>\n          </div>\n        )}\n\n        {/* Image Modal */}\n        <ImageModal\n          show={showImageModal}\n          selectedCase={selectedCase}\n          selectedColorData={selectedColorData}\n          caseImages={caseImages}\n          selectedModalImage={selectedModalImage}\n          setSelectedModalImage={setSelectedModalImage}\n          onClose={() => setShowImageModal(false)}\n        />\n\n        {/* Item Description Modal */}\n        <ItemDescriptionModal\n          show={showDescriptionModal}\n          onClose={() => setShowDescriptionModal(false)}\n          selectedCase={selectedCase}\n        />\n\n\n        {/* Terms of Use Modal */}\n        <TermsOfUseModal\n          show={showTermsModal}\n          onClose={() => {\n            setShowTermsModal(false);\n            setPendingAddToCart(false);\n          }}\n          onAgree={() => {\n            setAgreedToTerms(true);\n            setShowTermsError(false);\n            setShowTermsModal(false);\n            // If there was a pending add to cart, execute it\n            if (pendingAddToCart) {\n              setPendingAddToCart(false);\n              executeAddToCart();\n            }\n          }}\n        />\n\n        {/* Add Text Modal - Mobile only */}\n        {isMobile && (\n          <AddTextModal\n            show={showAddTextModal}\n            onClose={() => setShowAddTextModal(false)}\n            customText={customText}\n            setCustomText={setCustomText}\n            customTextError={customTextError}\n            setCustomTextError={setCustomTextError}\n            customTextAdded={customTextAdded}\n            setCustomTextAdded={setCustomTextAdded}\n          />\n        )}\n\n      </div>\n    </section>\n  );\n};\n\nexport default CreateYours;"],"names":[],"mappings":"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"}}]
}