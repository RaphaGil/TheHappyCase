{"version":3,"sources":["../../../../src/page-components/Dashboard/index.jsx","../../../../src/component/Dashboard/DashboardTabs.jsx","../../../../src/component/Dashboard/InventorySourceIndicator.jsx","../../../../src/component/Dashboard/InventoryActions.jsx","../../../../src/component/Dashboard/InventoryBadge.jsx","../../../../src/component/Dashboard/InventoryStatusAlert.jsx","../../../../src/component/Dashboard/CaseItem.jsx","../../../../src/component/Dashboard/CasesSection.jsx","../../../../src/component/Dashboard/CharmItem.jsx","../../../../src/component/Dashboard/CharmsSection.jsx","../../../../src/component/Dashboard/InventoryTab.jsx","../../../../src/component/Dashboard/OrdersTab.jsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Products from '../../data/products.json';\nimport { getApiUrl } from '../../utils/apiConfig';\nimport DashboardTabs from '../../component/Dashboard/DashboardTabs';\nimport InventoryTab from '../../component/Dashboard/InventoryTab';\nimport OrdersTab from '../../component/Dashboard/OrdersTab';\nimport { getSupabaseClient } from '../../utils/supabaseClient';\n\n// Get shared Supabase client instance\nconst supabase = getSupabaseClient();\n\nconst Dashboard = () => {\n  const router = useRouter();\n  const [activeTab, setActiveTab] = useState('inventory');\n  const [products, setProducts] = useState(Products);\n  const [saved, setSaved] = useState(false);\n  const [orders, setOrders] = useState([]);\n  const [loadingOrders, setLoadingOrders] = useState(false);\n  const [ordersError, setOrdersError] = useState(null);\n  const [loadingInventory, setLoadingInventory] = useState(true);\n  const [inventorySource, setInventorySource] = useState(null); // 'supabase' or 'default'\n  const [user, setUser] = useState(null);\n  const [authReady, setAuthReady] = useState(false);\n  const [isAuthorized, setIsAuthorized] = useState(false);\n  \n  // Authorized email address\n  const AUTHORIZED_EMAIL = 'thehappycase.shop@gmail.com';\n\n  // Helper function to merge quantities into products\n  const mergeQuantities = (mergedProducts, quantities) => {\n    if (quantities.cases) {\n      mergedProducts.cases = mergedProducts.cases.map((caseItem, index) => {\n        const updatedCase = {\n          ...caseItem,\n          quantity:\n            quantities.cases[index] !== undefined && quantities.cases[index] !== null\n              ? quantities.cases[index]\n              : caseItem.quantity,\n        };\n\n        if (quantities.caseColors?.[index]) {\n          updatedCase.colors = updatedCase.colors.map((colorItem, colorIndex) => ({\n            ...colorItem,\n            quantity:\n              quantities.caseColors[index][colorIndex] !== undefined && \n              quantities.caseColors[index][colorIndex] !== null\n                ? quantities.caseColors[index][colorIndex]\n                : colorItem.quantity,\n          }));\n        }\n\n        return updatedCase;\n      });\n    }\n\n    if (quantities.pins) {\n      ['flags', 'colorful', 'bronze'].forEach((category) => {\n        if (quantities.pins[category]) {\n          mergedProducts.pins[category] =\n            mergedProducts.pins[category].map((charm, index) => ({\n              ...charm,\n              quantity:\n                quantities.pins[category][index] !== undefined && \n                quantities.pins[category][index] !== null\n                  ? quantities.pins[category][index]\n                  : charm.quantity,\n            }));\n        }\n      });\n    }\n  };\n\n  /* -------------------- LOAD INVENTORY FROM SUPABASE -------------------- */\n  // Track if inventory is already being loaded to prevent duplicate fetches (React StrictMode)\n  // Use module-level variable that persists across component remounts\n  if (!window.__dashboardInventoryLoading) {\n    window.__dashboardInventoryLoading = false;\n    window.__dashboardInventoryLoaded = false;\n  }\n\n  useEffect(() => {\n    // Check if already loading/loaded (using module-level variable to persist across StrictMode)\n    if (window.__dashboardInventoryLoading) {\n      console.log('‚è≠Ô∏è Dashboard: Already loading (skipping StrictMode duplicate)');\n      return;\n    }\n    \n    if (window.__dashboardInventoryLoaded) {\n      console.log('‚è≠Ô∏è Dashboard: Already loaded (skipping StrictMode duplicate)');\n      return;\n    }\n\n    // Set loading flag synchronously BEFORE async operations\n    window.__dashboardInventoryLoading = true;\n    console.log('üîí Dashboard: Set loading flag (module-level), starting fetch');\n    \n    const loadInventory = async () => {\n      setLoadingInventory(true);\n      console.log('üì• Dashboard: Loading inventory from Supabase...');\n      \n      // Always try to fetch from Supabase API first (source of truth for deployment)\n      // Note: Server uses service role key, so RLS is bypassed. However, we add a small\n      // delay to prevent race conditions where requests are made before initialization.\n      try {\n        // Small delay to ensure backend is ready (prevents race condition with session restoration)\n        await new Promise(resolve => setTimeout(resolve, 100));\n        \n        const url = getApiUrl('/api/inventory');\n        console.log('üì° Dashboard: Fetching from:', url);\n        \n        const response = await fetch(url);\n        const contentType = response.headers.get('content-type') || '';\n        \n        // Read body once (fetch body can only be consumed once)\n        const rawText = await response.text();\n        \n        // Try to parse as JSON when content-type says JSON or when we have a non-OK response (server may send JSON errors)\n        let data = null;\n        if (contentType.includes('application/json')) {\n          try {\n            data = JSON.parse(rawText);\n          } catch (parseErr) {\n            console.error('‚ùå Dashboard: Response claimed JSON but parse failed:', parseErr);\n            throw new Error(`Invalid JSON from API: ${rawText.substring(0, 300)}`);\n          }\n        } else if (!response.ok && rawText.trim().length > 0) {\n          try {\n            data = JSON.parse(rawText);\n          } catch (_) {\n            // Plain text error body - use as message\n            data = { error: rawText.substring(0, 500), message: rawText.substring(0, 500) };\n          }\n        }\n        \n        if (response.ok && data && data.success && data.inventory) {\n          const quantities = {\n            cases: data.inventory.cases,\n            caseColors: data.inventory.caseColors,\n            pins: data.inventory.pins\n          };\n          \n          const mergedProducts = structuredClone(Products);\n          mergeQuantities(mergedProducts, quantities);\n          setProducts(mergedProducts);\n          setInventorySource('supabase');\n          \n          console.log('‚úÖ Dashboard: Inventory loaded from Supabase inventory_items table');\n          window.__dashboardInventoryLoaded = true;\n          window.__dashboardInventoryLoading = false;\n          setLoadingInventory(false);\n          return;\n        }\n        \n        if (!response.ok) {\n          const errorMessage = (data && (data.error || data.message)) || rawText.substring(0, 500) || `HTTP ${response.status}: ${response.statusText}`;\n          console.error('‚ùå Dashboard: Supabase API returned non-OK response:', response.status, errorMessage);\n          if (data) console.error('‚ùå Dashboard: Error details:', data);\n          if (response.status === 500) {\n            console.error('‚ùå Dashboard: Server error - check server console (node server.js) for details');\n          }\n          // Fallback to default products so UI is not stuck loading\n          setProducts(Products);\n          setInventorySource('default');\n          console.warn('‚ö†Ô∏è Dashboard: Using default quantities from products.json');\n        }\n        window.__dashboardInventoryLoaded = true;\n        window.__dashboardInventoryLoading = false;\n        setLoadingInventory(false);\n      } catch (error) {\n        console.error('\\n‚ùå ========== DASHBOARD INVENTORY LOAD ERROR ==========');\n        console.error('Failed to load from Supabase:', error.message);\n        console.error('Error name:', error.name);\n        if (error.stack) {\n          console.error('Error stack:', error.stack);\n        }\n        console.error('========================================================\\n');\n        \n        // Reset loading flag on error so retry is possible\n        window.__dashboardInventoryLoading = false;\n        \n        // Use default products.json as fallback (no localStorage)\n        setProducts(Products);\n        setInventorySource('default');\n        console.warn('‚ö†Ô∏è Dashboard: Failed to load from Supabase, using default quantities from products.json');\n        window.__dashboardInventoryLoaded = true;\n        window.__dashboardInventoryLoading = false;\n        setLoadingInventory(false);\n      }\n    };\n\n    loadInventory();\n  }, []);\n\n  // Reset loading flags when component unmounts (for navigation away/back)\n  useEffect(() => {\n    return () => {\n      // Don't reset on unmount - keep flags for navigation back\n      // Only reset if explicitly needed (e.g., manual refresh)\n    };\n  }, []);\n\n  /* -------------------- AUTH -------------------- */\n  useEffect(() => {\n    // First check localStorage email as fallback (works with the login system)\n    const userEmailFromStorage = typeof window !== 'undefined' ? localStorage.getItem('userEmail') : null;\n    const authorizedEmail = AUTHORIZED_EMAIL.toLowerCase().trim();\n    \n    // Check localStorage first\n    if (userEmailFromStorage) {\n      const emailFromStorage = userEmailFromStorage.toLowerCase().trim();\n      if (emailFromStorage === authorizedEmail) {\n        setIsAuthorized(true);\n        setAuthReady(true);\n        console.log('‚úÖ User authorized via localStorage:', emailFromStorage);\n        // Still try to get Supabase user for full auth\n        if (supabase) {\n          supabase.auth.getUser().then(({ data, error }) => {\n            if (!error && data?.user) {\n              setUser(data.user);\n              console.log('‚úÖ Supabase user also authenticated:', data.user?.id);\n            }\n          });\n        }\n        return;\n      }\n    }\n\n    // If Supabase is available, check Supabase auth (more secure)\n    if (!supabase) {\n      console.warn('‚ö†Ô∏è Supabase client not initialized. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in .env');\n      // Without Supabase and no matching localStorage email, deny access\n      setAuthReady(true);\n      setIsAuthorized(false);\n      return;\n    }\n\n    supabase.auth.getUser().then(({ data, error }) => {\n      if (error) {\n        console.error('‚ùå Error getting user:', error);\n        // If Supabase fails but localStorage email matches, allow access\n        if (userEmailFromStorage) {\n          const emailFromStorage = userEmailFromStorage.toLowerCase().trim();\n          if (emailFromStorage === authorizedEmail) {\n            setIsAuthorized(true);\n            setAuthReady(true);\n            console.log('‚úÖ User authorized via localStorage (Supabase auth failed)');\n            return;\n          }\n        }\n        setAuthReady(true);\n        setIsAuthorized(false);\n        return;\n      }\n      \n      const authenticatedUser = data.user;\n      setUser(authenticatedUser);\n      setAuthReady(true);\n      \n      // Check if user's email matches the authorized email\n      const userEmail = authenticatedUser?.email?.toLowerCase().trim();\n      \n      if (userEmail === authorizedEmail) {\n        setIsAuthorized(true);\n        console.log('‚úÖ User authenticated and authorized via Supabase:', authenticatedUser?.id);\n      } else {\n        // Also check localStorage as fallback\n        if (userEmailFromStorage) {\n          const emailFromStorage = userEmailFromStorage.toLowerCase().trim();\n          if (emailFromStorage === authorizedEmail) {\n            setIsAuthorized(true);\n            console.log('‚úÖ User authorized via localStorage (Supabase email different)');\n            return;\n          }\n        }\n        setIsAuthorized(false);\n        console.warn('‚ùå Unauthorized access attempt. User email:', userEmail || userEmailFromStorage);\n        console.warn('‚ùå Authorized email:', authorizedEmail);\n      }\n    });\n  }, []);\n\n  /* -------------------- ORDERS -------------------- */\n  useEffect(() => {\n    // Only fetch orders if authorized and auth check is complete\n    // Note: user might be null if authorized via localStorage, but that's okay for dashboard\n    if (!authReady || !isAuthorized) return;\n    if (activeTab === 'orders') {\n      // Pass user.id if available, otherwise null (dashboard shows all orders anyway)\n      fetchOrders(user?.id || null);\n    }\n  }, [activeTab, authReady, isAuthorized, user]);\n\n  const fetchOrders = async (userId = null) => {\n    setLoadingOrders(true);\n    setOrdersError(null);\n\n    try {\n      // Small delay to ensure backend is ready (prevents race condition with session restoration)\n      // This prevents 500 errors from RLS checks when Supabase session hasn't fully restored\n      await new Promise(resolve => setTimeout(resolve, 100));\n      \n      // Fetch ALL orders from all emails (no email filter for dashboard)\n      const url = getApiUrl('/get-orders?limit=100');\n      console.log('üì° Fetching all orders from:', url);\n      console.log('üìä Dashboard: Fetching all orders (no email filter)');\n      if (userId) {\n        console.log('üë§ User ID:', userId);\n      } else {\n        console.log('üìä Fetching orders without user ID (showing all orders)');\n      }\n      \n      const res = await fetch(url);\n      \n      // Check if response is HTML (404 page from dev server) instead of JSON\n      const contentType = res.headers.get('content-type') || '';\n      if (contentType.includes('text/html')) {\n        throw new Error('Backend server returned HTML (likely 404). Is the server running on port 3001?');\n      }\n      \n      // Check if response has content before trying to parse JSON\n      const responseText = await res.text();\n      \n      if (!responseText || responseText.trim() === '') {\n        console.error('‚ùå Empty response received. Status:', res.status, res.statusText);\n        console.error('‚ùå Response headers:', Object.fromEntries(res.headers.entries()));\n        throw new Error('Server returned empty response. Check server logs for errors. Make sure the backend server is running on port 3001.');\n      }\n      \n      let data;\n      try {\n        data = JSON.parse(responseText);\n      } catch (parseError) {\n        console.error('‚ùå Failed to parse JSON response:', parseError);\n        console.error('‚ùå Response status:', res.status, res.statusText);\n        console.error('‚ùå Response text (first 500 chars):', responseText.substring(0, 500));\n        throw new Error(`Server returned invalid JSON: ${parseError.message}. Response: ${responseText.substring(0, 200)}`);\n      }\n\n      if (!res.ok) {\n        const errorMsg = data?.error || data?.message || `Server error: ${res.status} ${res.statusText}`;\n        console.error('‚ùå Server error response:', { status: res.status, error: errorMsg, data });\n        throw new Error(errorMsg);\n      }\n\n      if (data.success) {\n        setOrders(data.orders || []);\n        console.log(`‚úÖ Loaded ${data.orders?.length || 0} orders from Supabase`);\n      } else {\n        const errorMsg = data.error || data.message || 'Failed to fetch orders';\n        console.error('‚ùå API returned success=false:', errorMsg);\n        setOrdersError(errorMsg);\n      }\n    } catch (error) {\n      console.error('‚ùå Error fetching orders:', error);\n      console.error('‚ùå Error details:', {\n        name: error.name,\n        message: error.message,\n        stack: error.stack\n      });\n      \n      // Provide more helpful error messages\n      let errorMessage = error.message || 'Failed to fetch orders.';\n      if (error.message?.includes('HTML') || error.message?.includes('404')) {\n        errorMessage = 'Backend server not reachable. Make sure the server is running: npm run server';\n      } else if (error.message?.includes('empty response')) {\n        errorMessage = 'Server returned empty response. Check if the backend server is running on port 3001.';\n      }\n      \n      setOrdersError(errorMessage);\n    } finally {\n      setLoadingOrders(false);\n    }\n  };\n\n  const updateQuantity = (type, index, category, value, colorIndex = null) => {\n    const next = structuredClone(products);\n\n    if (type === 'case') {\n      if (colorIndex !== null) {\n        next.cases[index].colors[colorIndex].quantity = parseInt(value) || 0;\n      } else {\n        next.cases[index].quantity = parseInt(value) || 0;\n      }\n    }\n\n    if (type === 'charm') {\n      next.pins[category][index].quantity = parseInt(value) || 0;\n    }\n\n    setProducts(next);\n    setSaved(false);\n  };\n\n  const saveQuantities = async () => {\n    const payload = {\n      cases: products.cases.map((c) => c.quantity ?? null),\n      caseColors: products.cases.map((c) =>\n        c.colors?.map((col) => col.quantity ?? null)\n      ),\n      pins: {\n        flags: products.pins.flags.map((c) => c.quantity ?? null),\n        colorful: products.pins.colorful.map((c) => c.quantity ?? null),\n        bronze: products.pins.bronze.map((c) => c.quantity ?? null),\n      },\n    };\n\n    // Save to Supabase API\n    try {\n      const response = await fetch(getApiUrl('/api/inventory'), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload),\n      });\n\n      // Check if response is JSON (if not, likely a 404 HTML page from dev server)\n      const contentType = response.headers.get('content-type') || '';\n      \n      // Read response body once - either as text or JSON\n      let data;\n      if (!contentType.includes('application/json')) {\n        // Response is not JSON, read as text to see what we got\n        let responseText = '';\n        try {\n          responseText = await response.text();\n        } catch (e) {\n          responseText = 'Could not read response body';\n        }\n        \n        const errorMsg = contentType.includes('text/html') || contentType.includes('text/plain')\n          ? `Backend server returned ${contentType} instead of JSON. This usually means:\\n1. The backend server is not running (start with: npm run server)\\n2. The proxy is not configured correctly\\n3. The endpoint does not exist\\n\\nResponse preview: ${responseText.substring(0, 200)}`\n          : `Server returned non-JSON response (${contentType || 'unknown'}). Make sure the backend server is running on port 3001.\\n\\nResponse preview: ${responseText.substring(0, 200)}`;\n        console.error('‚ùå Error saving inventory:', errorMsg);\n        console.error('‚ùå Full response text:', responseText);\n        throw new Error(`Server returned non-JSON response (${contentType}). Make sure the backend server is running on port 3001.`);\n      } else {\n        // Response is JSON, parse it\n        try {\n          data = await response.json();\n        } catch (e) {\n          console.error('‚ùå Failed to parse JSON response:', e);\n          throw new Error('Server returned invalid JSON response. Make sure the backend server is running on port 3001.');\n        }\n      }\n\n      if (response.ok) {\n        console.log('‚úÖ Inventory saved to Supabase:', data);\n        console.log(`üìä Saved ${data.updatedCount || 0} items to inventory_items table`);\n        console.log('üíæ All inventory data is now persisted in Supabase and will be available after deployment');\n        \n        // Verify the save was successful\n        if (data.success && data.updatedCount > 0) {\n          console.log('‚úÖ Verification: Inventory successfully saved to Supabase database');\n          console.log('‚úÖ This data will persist after deployment');\n          \n          // Update the displayed quantities to reflect what was saved\n          const quantities = {\n            cases: payload.cases,\n            caseColors: payload.caseColors,\n            pins: payload.pins\n          };\n          \n          // Merge with products to update display\n          const mergedProducts = structuredClone(Products);\n          mergeQuantities(mergedProducts, quantities);\n          setProducts(mergedProducts);\n          \n          // Mark as loaded from Supabase\n          setInventorySource('supabase');\n          \n          // Broadcast inventory update event so other pages can refresh their cache\n          window.dispatchEvent(new CustomEvent('inventoryUpdated', {\n            detail: { \n              timestamp: Date.now(),\n              updatedCount: data.updatedCount \n            }\n          }));\n          console.log('üì¢ Broadcasted inventoryUpdated event to refresh other pages');\n        }\n        \n        setSaved(true);\n        setTimeout(() => setSaved(false), 3000); // Show saved message longer\n      } else {\n        let errorMessage = 'Unknown error';\n        try {\n          const error = await response.json();\n          errorMessage = error.error || error.message || 'Unknown error';\n        } catch (e) {\n          errorMessage = `HTTP ${response.status}: ${response.statusText}`;\n        }\n        console.error('Failed to save inventory to Supabase:', errorMessage);\n        alert(`Failed to save to Supabase: ${errorMessage}`);\n        setSaved(false);\n      }\n    } catch (error) {\n      console.error('Error saving inventory to Supabase:', error);\n      const errorMsg = error.message || 'Unknown error';\n      \n      // Provide helpful troubleshooting message\n      const troubleshootingMsg = errorMsg.includes('HTML') || errorMsg.includes('404')\n        ? `Error: Backend server not reachable.\\n\\nTroubleshooting steps:\\n1. Check if backend server is running: npm run server\\n2. Verify server is on port 3001\\n3. Restart React dev server if you just configured proxy\\n4. Check setupProxy.js is in src/ directory`\n        : `Error saving to Supabase: ${errorMsg}`;\n      \n      alert(troubleshootingMsg);\n      setSaved(false);\n    }\n  };\n\n  /* -------------------- UI -------------------- */\n  const handleRefresh = async () => {\n    setLoadingInventory(true);\n    setInventorySource(null);\n    // Force reload from Supabase\n    try {\n      const response = await fetch(getApiUrl('/api/inventory'));\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success && data.inventory) {\n          const quantities = {\n            cases: data.inventory.cases,\n            caseColors: data.inventory.caseColors,\n            pins: data.inventory.pins\n          };\n          const mergedProducts = structuredClone(Products);\n          mergeQuantities(mergedProducts, quantities);\n          setProducts(mergedProducts);\n          setInventorySource('supabase');\n          console.log('‚úÖ Refreshed: Inventory reloaded from Supabase');\n        }\n      }\n    } catch (error) {\n      console.error('Failed to refresh from Supabase:', error);\n    } finally {\n      setLoadingInventory(false);\n    }\n  };\n\n  // Show loading state while checking authorization\n  if (!authReady) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 py-8\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center py-12\">\n            <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n            <p className=\"mt-4 text-gray-600 font-inter\">Checking authorization...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Show unauthorized message if user is not authorized\n  if (!isAuthorized) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 py-8\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"bg-white rounded-lg shadow-sm p-8 md:p-12 text-center\">\n            <div className=\"text-red-600 mb-4\">\n              <svg className=\"mx-auto h-12 w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n              </svg>\n            </div>\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-2\" style={{fontFamily: \"'Poppins', sans-serif\"}}>\n              Access Denied\n            </h2>\n            <p className=\"text-gray-600 mb-6 font-inter\">\n              You do not have permission to access the dashboard. This area is restricted to authorized personnel only.\n            </p>\n            {user?.email && (\n              <p className=\"text-sm text-gray-500 mb-6 font-inter\">\n                Your email: <span className=\"font-medium\">{user.email}</span>\n              </p>\n            )}\n            <button\n              onClick={() => router.push('/')}\n              className=\"px-6 py-3 bg-gray-900 hover:bg-gray-800 text-white rounded-md transition-colors font-inter\"\n            >\n              Go to Home\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <h1 className=\"text-3xl font-light mb-6 font-inter\">Dashboard</h1>\n\n        {/* Tabs */}\n        <DashboardTabs activeTab={activeTab} onTabChange={setActiveTab} />\n\n        {/* ---------------- INVENTORY ---------------- */}\n        {activeTab === 'inventory' && (\n          <InventoryTab\n            products={products}\n            inventorySource={inventorySource}\n            loadingInventory={loadingInventory}\n            saved={saved}\n            onRefresh={handleRefresh}\n            onSave={saveQuantities}\n            onQuantityChange={updateQuantity}\n          />\n        )}\n\n        {/* ---------------- ORDERS ---------------- */}\n        {activeTab === 'orders' && (\n          <OrdersTab\n            orders={orders}\n            loadingOrders={loadingOrders}\n            ordersError={ordersError}\n            onRefresh={() => isAuthorized && fetchOrders(user?.id || null)}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React from 'react';\n\nconst DashboardTabs = ({ activeTab, onTabChange }) => {\n  return (\n    <div className=\"mb-6 border-b\">\n      <button\n        onClick={() => onTabChange('inventory')}\n        className={`mr-6 pb-2 ${\n          activeTab === 'inventory'\n            ? 'border-b-2 border-black'\n            : 'text-gray-400'\n        }`}\n      >\n        Inventory\n      </button>\n      <button\n        onClick={() => onTabChange('orders')}\n        className={`pb-2 ${\n          activeTab === 'orders'\n            ? 'border-b-2 border-black'\n            : 'text-gray-400'\n        }`}\n      >\n        Orders\n      </button>\n    </div>\n  );\n};\n\nexport default DashboardTabs;\n","import React from 'react';\n\nconst InventorySourceIndicator = ({ source, loading }) => {\n  if (loading) {\n    return (\n      <div className=\"mb-4 p-3 bg-blue-50 border border-blue-200 text-blue-800 rounded-sm text-sm font-inter\">\n        <span>‚è≥ Loading inventory from Supabase...</span>\n      </div>\n    );\n  }\n\n  if (!source) return null;\n\n  const getStyles = () => {\n    switch (source) {\n      case 'supabase':\n        return 'bg-green-50 border border-green-200 text-green-800';\n      case 'localStorage':\n        return 'bg-yellow-50 border border-yellow-200 text-yellow-800';\n      default:\n        return 'bg-gray-50 border border-gray-200 text-gray-800';\n    }\n  };\n\n  const getMessage = () => {\n    switch (source) {\n      case 'supabase':\n        return (\n          <span>‚úÖ <strong>Loaded from Supabase:</strong> All saved inventory quantities are displayed. Data is persisted and will be available after deployment.</span>\n        );\n      case 'localStorage':\n        return (\n          <span>‚ö†Ô∏è <strong>Using cached data:</strong> Supabase unavailable. Showing cached quantities from localStorage.</span>\n        );\n      default:\n        return (\n          <span>‚ÑπÔ∏è <strong>Using default quantities:</strong> No saved data found. Set quantities and click \"Save Changes\" to persist to Supabase.</span>\n        );\n    }\n  };\n\n  return (\n    <div className={`mb-4 p-3 rounded-sm text-sm font-inter ${getStyles()}`}>\n      {getMessage()}\n    </div>\n  );\n};\n\nexport default InventorySourceIndicator;\n","import React from 'react';\n\nconst InventoryActions = ({ \n  onRefresh, \n  onSave, \n  loadingInventory, \n  saved \n}) => {\n  return (\n    <div className=\"flex justify-between items-center mb-6\">\n      <button\n        onClick={onRefresh}\n        disabled={loadingInventory}\n        className=\"font-inter px-4 py-2 uppercase text-xs bg-gray-100 text-gray-700 hover:bg-gray-200 disabled:opacity-50\"\n      >\n        {loadingInventory ? 'Refreshing...' : 'üîÑ Refresh from Supabase'}\n      </button>\n      \n      <button\n        onClick={onSave}\n        disabled={loadingInventory}\n        className={`font-inter px-6 py-2 uppercase text-sm ${\n          saved \n            ? 'bg-green-600 text-white' \n            : loadingInventory\n            ? 'bg-gray-400 text-white cursor-not-allowed'\n            : 'bg-black text-white hover:bg-gray-800'\n        }`}\n      >\n        {loadingInventory ? 'Loading...' : saved ? '‚úì Saved to Supabase' : 'Save Changes to Supabase'}\n      </button>\n    </div>\n  );\n};\n\nexport default InventoryActions;\n","import React from 'react';\n\nconst InventoryBadge = ({ quantity, size = 'small' }) => {\n  const isSoldOut = quantity === 0;\n  const isLowStock = quantity !== null && quantity > 0 && quantity <= 5;\n  const isInStock = quantity !== null && quantity > 5;\n  const isUnlimited = quantity === null || quantity === undefined;\n\n  if (isUnlimited) return null;\n\n  const sizeClasses = size === 'large' ? 'w-6 h-6' : 'w-5 h-5';\n  const iconSizeClasses = size === 'large' ? 'w-4 h-4' : 'w-3 h-3';\n\n  if (isSoldOut) {\n    return (\n      <div className={`bg-red-500 text-white rounded-full ${sizeClasses} flex items-center justify-center shadow-lg`}>\n        <svg className={iconSizeClasses} fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n        </svg>\n      </div>\n    );\n  }\n\n  if (isLowStock) {\n    return (\n      <div className={`bg-orange-500 text-white rounded-full ${sizeClasses} flex items-center justify-center shadow-lg`}>\n        <svg className={iconSizeClasses} fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n        </svg>\n      </div>\n    );\n  }\n\n  if (isInStock) {\n    return (\n      <div className={`bg-green-500 text-white rounded-full ${sizeClasses} flex items-center justify-center shadow-lg`}>\n        <svg className={iconSizeClasses} fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n        </svg>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default InventoryBadge;\n","import React from 'react';\n\nconst InventoryStatusAlert = ({ quantity, size = 'normal' }) => {\n  const isSoldOut = quantity === 0;\n  const isLowStock = quantity !== null && quantity > 0 && quantity <= 5;\n  const isInStock = quantity !== null && quantity > 5;\n  const isUnlimited = quantity === null || quantity === undefined;\n\n  const paddingClass = size === 'small' ? 'p-1.5' : 'p-2';\n  const textSizeClass = size === 'small' ? 'text-[10px]' : 'text-xs';\n  const containerClass = size === 'small' ? 'mt-1 w-full' : '';\n\n  if (isSoldOut) {\n    return (\n      <div className={`${paddingClass} bg-red-50 border border-red-200 rounded-sm ${containerClass}`}>\n        <p className={`${textSizeClass} text-red-700 font-medium font-inter ${size === 'small' ? 'text-center' : ''}`}>\n          OUT OF STOCK\n        </p>\n      </div>\n    );\n  }\n\n  if (isLowStock) {\n    return (\n      <div className={`${paddingClass} bg-orange-50 border border-orange-200 rounded-sm ${containerClass}`}>\n        <p className={`${textSizeClass} text-orange-700 font-medium font-inter ${size === 'small' ? 'text-center' : ''}`}>\n          LOW STOCK ({quantity})\n        </p>\n      </div>\n    );\n  }\n\n  if (isInStock) {\n    return (\n      <div className={`${paddingClass} bg-green-50 border border-green-200 rounded-sm ${containerClass}`}>\n        <p className={`${textSizeClass} text-green-700 font-medium font-inter ${size === 'small' ? 'text-center' : ''}`}>\n          IN STOCK ({quantity})\n        </p>\n      </div>\n    );\n  }\n\n  if (isUnlimited) {\n    return (\n      <div className={`${paddingClass} bg-gray-50 border border-gray-200 rounded-sm ${containerClass}`}>\n        <p className={`${textSizeClass} text-gray-600 font-medium font-inter ${size === 'small' ? 'text-center' : ''}`}>\n          UNLIMITED\n        </p>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default InventoryStatusAlert;\n","import React from 'react';\nimport InventoryBadge from './InventoryBadge';\nimport InventoryStatusAlert from './InventoryStatusAlert';\n\nconst CaseItem = ({ caseItem, index, onQuantityChange }) => {\n  const overallQuantity = caseItem.quantity !== undefined ? caseItem.quantity : null;\n  const isOverallSoldOut = overallQuantity === 0;\n  const isOverallLowStock = overallQuantity !== null && overallQuantity > 0 && overallQuantity <= 5;\n  const isOverallInStock = overallQuantity !== null && overallQuantity > 5;\n  const isOverallUnlimited = overallQuantity === null || overallQuantity === undefined;\n\n  return (\n    <div className=\"mb-8 border border-gray-200 rounded-sm p-6\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-medium text-gray-900 font-inter\">\n          {caseItem.name}\n        </h3>\n        <div className=\"flex items-center gap-2\">\n          {/* Overall Inventory Alert Badge */}\n          {!isOverallUnlimited && (\n            <div>\n              <InventoryBadge quantity={overallQuantity} size=\"large\" />\n            </div>\n          )}\n          {isOverallSoldOut && (\n            <span className=\"text-xs text-red-600 font-medium\">SOLD OUT</span>\n          )}\n        </div>\n      </div>\n\n      {/* Overall Case Quantity (Optional) */}\n      <div className=\"mb-6 pb-4 border-b border-gray-100\">\n        <label className=\"text-sm text-gray-600 font-medium mb-2 block font-inter\">\n          Overall Quantity (Optional):\n        </label>\n        <div className=\"flex items-center gap-3\">\n          <input\n            type=\"number\"\n            min=\"0\"\n            value={caseItem.quantity ?? ''}\n            onChange={(e) => onQuantityChange('case', index, null, e.target.value)}\n            className=\"w-24 px-3 py-2 border border-gray-300 rounded-sm text-sm focus:outline-none focus:border-gray-400 font-inter\"\n            placeholder=\"0\"\n          />\n          {/* Overall Inventory Status Alert */}\n          <InventoryStatusAlert quantity={overallQuantity} size=\"normal\" />\n        </div>\n      </div>\n\n      {/* Color Quantities */}\n      <div>\n        <h4 className=\"text-sm font-medium text-gray-700 mb-4 font-inter\">\n          Quantity per Color:\n        </h4>\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n          {caseItem.colors.map((color, cIndex) => {\n            const quantity = color.quantity !== undefined ? color.quantity : null;\n            const isUnlimited = quantity === null || quantity === undefined;\n            \n            return (\n              <div\n                key={cIndex}\n                className=\"flex flex-col items-center gap-2 p-3 border border-gray-200 rounded-sm hover:border-gray-300 transition-colors relative\"\n              >\n                {/* Inventory Alert Badge */}\n                {!isUnlimited && (\n                  <div className=\"absolute -top-1 -right-1 z-10\">\n                    <InventoryBadge quantity={quantity} size=\"small\" />\n                  </div>\n                )}\n                \n                {/* Color Swatch */}\n                <div\n                  className=\"w-12 h-12 rounded-full border-2 border-gray-300 shadow-sm\"\n                  style={{ backgroundColor: color.color }}\n                  title={color.color}\n                />\n                \n                {/* Color Name (if available) */}\n                {color.name && (\n                  <span className=\"text-xs text-gray-600 text-center font-inter\">\n                    {color.name}\n                  </span>\n                )}\n                \n                {/* Quantity Input */}\n                <div className=\"w-full flex flex-col items-center gap-1\">\n                  <label className=\"text-xs text-gray-500 font-inter\">\n                    Qty:\n                  </label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    value={color.quantity ?? ''}\n                    onChange={(e) =>\n                      onQuantityChange(\n                        'case',\n                        index,\n                        null,\n                        e.target.value,\n                        cIndex\n                      )\n                    }\n                    className=\"w-full px-2 py-1 border border-gray-300 rounded-sm text-xs text-center focus:outline-none focus:border-gray-400 font-inter\"\n                    placeholder=\"0\"\n                  />\n                </div>\n                \n                {/* Inventory Status Alert */}\n                <InventoryStatusAlert quantity={quantity} size=\"small\" />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CaseItem;\n","import React from 'react';\nimport CaseItem from './CaseItem';\n\nconst CasesSection = ({ cases, onQuantityChange }) => {\n  return (\n    <div className=\"bg-white border p-6 rounded-sm\">\n      <h2 className=\"text-xl mb-6 font-inter\">Passport Cases</h2>\n\n      {cases.map((caseItem, index) => (\n        <CaseItem\n          key={index}\n          caseItem={caseItem}\n          index={index}\n          onQuantityChange={onQuantityChange}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default CasesSection;\n","import React from 'react';\nimport InventoryBadge from './InventoryBadge';\nimport InventoryStatusAlert from './InventoryStatusAlert';\n\nconst CharmItem = ({ charm, index, category, onQuantityChange }) => {\n  const quantity = charm.quantity !== undefined ? charm.quantity : null;\n  const isSoldOut = quantity === 0;\n  const isLowStock = quantity !== null && quantity > 0 && quantity <= 5;\n  const isInStock = quantity !== null && quantity > 5;\n  const isUnlimited = quantity === null || quantity === undefined;\n\n  return (\n    <div className=\"flex flex-col items-center gap-2 p-3 border border-gray-200 rounded-sm hover:border-gray-300 transition-colors relative\">\n      {/* Inventory Alert Badge */}\n      {!isUnlimited && (\n        <div className=\"absolute -top-1 -right-1 z-10\">\n          <InventoryBadge quantity={quantity} size=\"small\" />\n        </div>\n      )}\n      \n      {/* Charm Image */}\n      {charm.image && (\n        <div className=\"w-16 h-16 flex items-center justify-center border border-gray-200 rounded-sm bg-white\">\n          <img\n            src={charm.image}\n            alt={charm.name}\n            className=\"max-w-full max-h-full object-contain\"\n          />\n        </div>\n      )}\n      \n      {/* Charm Name */}\n      <span className=\"text-xs text-gray-700 text-center font-inter font-medium\">\n        {charm.name}\n      </span>\n      \n      {/* Quantity Input */}\n      <div className=\"w-full flex flex-col items-center gap-1\">\n        <label className=\"text-xs text-gray-500 font-inter\">\n          Qty:\n        </label>\n        <input\n          type=\"number\"\n          min=\"0\"\n          value={charm.quantity ?? ''}\n          onChange={(e) => onQuantityChange('charm', index, category, e.target.value)}\n          className=\"w-full px-2 py-1 border border-gray-300 rounded-sm text-xs text-center focus:outline-none focus:border-gray-400 font-inter\"\n          placeholder=\"0\"\n        />\n      </div>\n      \n      {/* Inventory Status Alert */}\n      <InventoryStatusAlert quantity={quantity} size=\"small\" />\n    </div>\n  );\n};\n\nexport default CharmItem;\n","import React from 'react';\nimport CharmItem from './CharmItem';\n\nconst CharmsSection = ({ charms, onQuantityChange }) => {\n  return (\n    <div className=\"bg-white border p-6 rounded-sm mt-8\">\n      <h2 className=\"text-xl mb-6 font-inter\">Charms</h2>\n\n      {/* Flags Charms */}\n      <div className=\"mb-8\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4 font-inter\">\n          Flags\n        </h3>\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n          {charms.flags.map((charm, index) => (\n            <CharmItem\n              key={index}\n              charm={charm}\n              index={index}\n              category=\"flags\"\n              onQuantityChange={onQuantityChange}\n            />\n          ))}\n        </div>\n      </div>\n\n      {/* Colorful Charms */}\n      <div className=\"mb-8\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4 font-inter\">\n          Colorful Charms\n        </h3>\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n          {charms.colorful.map((charm, index) => (\n            <CharmItem\n              key={index}\n              charm={charm}\n              index={index}\n              category=\"colorful\"\n              onQuantityChange={onQuantityChange}\n            />\n          ))}\n        </div>\n      </div>\n\n      {/* Bronze Charms */}\n      <div>\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4 font-inter\">\n          Bronze Charms\n        </h3>\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n          {charms.bronze.map((charm, index) => (\n            <CharmItem\n              key={index}\n              charm={charm}\n              index={index}\n              category=\"bronze\"\n              onQuantityChange={onQuantityChange}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CharmsSection;\n","import React from 'react';\nimport InventorySourceIndicator from './InventorySourceIndicator';\nimport InventoryActions from './InventoryActions';\nimport CasesSection from './CasesSection';\nimport CharmsSection from './CharmsSection';\n\nconst InventoryTab = ({\n  products,\n  inventorySource,\n  loadingInventory,\n  saved,\n  onRefresh,\n  onSave,\n  onQuantityChange,\n}) => {\n  return (\n    <>\n      {/* Data Source Indicator */}\n      <InventorySourceIndicator \n        source={inventorySource} \n        loading={loadingInventory}\n      />\n      \n      <InventoryActions\n        onRefresh={onRefresh}\n        onSave={onSave}\n        loadingInventory={loadingInventory}\n        saved={saved}\n      />\n\n      <CasesSection \n        cases={products.cases} \n        onQuantityChange={onQuantityChange}\n      />\n\n      <CharmsSection \n        charms={products.pins} \n        onQuantityChange={onQuantityChange}\n      />\n    </>\n  );\n};\n\nexport default InventoryTab;\n","'use client';\n\nimport React, { useState, useMemo } from 'react';\nimport { getApiUrl } from '../../utils/apiConfig';\n\nconst OrdersTab = ({ orders, loadingOrders, ordersError, onRefresh }) => {\n  const [expandedOrder, setExpandedOrder] = useState(null);\n  const [selectedMonth, setSelectedMonth] = useState('all');\n  const [updatingOrders, setUpdatingOrders] = useState(new Set());\n  const [dispatchModal, setDispatchModal] = useState(null); // { orderId, currentDispatched }\n  const [trackingNumber, setTrackingNumber] = useState('');\n  const [trackingLink, setTrackingLink] = useState('');\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const formatCurrency = (amount, currency = 'gbp') => {\n    if (!amount && amount !== 0) return 'N/A';\n    return new Intl.NumberFormat('en-GB', {\n      style: 'currency',\n      currency: currency.toUpperCase(),\n    }).format(amount);\n  };\n\n  const toggleOrder = (orderId) => {\n    setExpandedOrder(expandedOrder === orderId ? null : orderId);\n  };\n\n  const handleDispatchedToggle = (orderId, currentDispatched) => {\n    const order = orders.find(o => o.order_id === orderId);\n    // If dispatching (turning on) or editing, show modal to enter/edit tracking info\n    if (!currentDispatched) {\n      setTrackingNumber(order?.tracking?.tracking_number || '');\n      setTrackingLink(order?.metadata?.tracking_link || '');\n      setDispatchModal({ orderId, currentDispatched });\n    } else {\n      // If undispatching (turning off), show confirmation or update directly\n      if (window.confirm('Are you sure you want to mark this order as not dispatched? This will clear tracking information.')) {\n        handleDispatchedUpdate(orderId, false, '', '');\n      }\n    }\n  };\n\n  const handleEditTracking = (orderId) => {\n    const order = orders.find(o => o.order_id === orderId);\n    setTrackingNumber(order?.tracking?.tracking_number || '');\n    setTrackingLink(order?.tracking?.tracking_link || '');\n    setDispatchModal({ orderId, currentDispatched: isDispatched(order) });\n  };\n\n  const handleDispatchedUpdate = async (orderId, dispatched, trackingNumber, trackingLink) => {\n    setUpdatingOrders(prev => new Set(prev).add(orderId));\n\n    try {\n      const apiUrl = getApiUrl(`/api/orders/${orderId}/dispatched`);\n      console.log('Updating dispatched status:', { \n        orderId, \n        dispatched, \n        tracking_number: trackingNumber,\n        tracking_link: trackingLink,\n        apiUrl \n      });\n\n      // Always send tracking fields (even if empty) so server can handle them properly\n      const requestBody = {\n        dispatched,\n        tracking_number: trackingNumber ? trackingNumber.trim() : '',\n        tracking_link: trackingLink ? trackingLink.trim() : ''\n      };\n\n      console.log('üì§ Sending dispatch update:', requestBody);\n\n      const response = await fetch(apiUrl, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody),\n      });\n\n      // Check if response is HTML (404 page from dev server) instead of JSON\n      const contentType = response.headers.get('content-type');\n      if (contentType && contentType.includes('text/html')) {\n        throw new Error('Backend server returned HTML (likely 404). Is the server running on port 3001?');\n      }\n\n      if (!response.ok) {\n        let errorMessage = 'Failed to update dispatched status';\n        try {\n          const error = await response.json();\n          errorMessage = error.message || error.error || errorMessage;\n        } catch (e) {\n          errorMessage = `HTTP ${response.status}: ${response.statusText}`;\n        }\n        throw new Error(errorMessage);\n      }\n\n      const data = await response.json();\n      console.log('‚úÖ Dispatched status updated:', data);\n      \n      // Close modal and reset form\n      setDispatchModal(null);\n      setTrackingNumber('');\n      setTrackingLink('');\n      \n      // Update local orders state\n      if (onRefresh) {\n        onRefresh();\n      }\n    } catch (error) {\n      console.error('Error updating dispatched status:', error);\n      const errorMsg = error.message || 'Failed to update dispatched status. Make sure the backend server is running.';\n      alert(`Failed to update dispatched status: ${errorMsg}`);\n    } finally {\n      setUpdatingOrders(prev => {\n        const next = new Set(prev);\n        next.delete(orderId);\n        return next;\n      });\n    }\n  };\n\n  const handleDispatchSubmit = () => {\n    if (dispatchModal) {\n      // If editing, preserve the current dispatched status; if new, set to dispatched\n      const order = orders.find(o => o.order_id === dispatchModal.orderId);\n      const shouldBeDispatched = dispatchModal.currentDispatched !== false ? true : false;\n      handleDispatchedUpdate(\n        dispatchModal.orderId,\n        shouldBeDispatched,\n        trackingNumber,\n        trackingLink\n      );\n    }\n  };\n\n  const isDispatched = (order) => {\n    return order.metadata?.dispatched === true;\n  };\n\n  // Get unique months/years from orders\n  const availableMonths = useMemo(() => {\n    if (!orders || orders.length === 0) return [];\n    \n    const monthMap = new Map();\n    orders.forEach(order => {\n      if (order.order_date) {\n        const date = new Date(order.order_date);\n        const year = date.getFullYear();\n        const month = date.getMonth();\n        const key = `${year}-${String(month + 1).padStart(2, '0')}`;\n        const label = date.toLocaleDateString('en-US', { year: 'numeric', month: 'long' });\n        \n        if (!monthMap.has(key)) {\n          monthMap.set(key, { key, label, year, month });\n        }\n      }\n    });\n    \n    // Sort by date (newest first)\n    return Array.from(monthMap.values()).sort((a, b) => {\n      if (a.year !== b.year) return b.year - a.year;\n      return b.month - a.month;\n    });\n  }, [orders]);\n\n  // Filter orders by selected month\n  const filteredOrders = useMemo(() => {\n    if (selectedMonth === 'all') return orders;\n    \n    const [year, month] = selectedMonth.split('-').map(Number);\n    return orders.filter(order => {\n      if (!order.order_date) return false;\n      const date = new Date(order.order_date);\n      return date.getFullYear() === year && date.getMonth() === month - 1;\n    });\n  }, [orders, selectedMonth]);\n\n  // Calculate totals for filtered orders\n  const filteredTotal = useMemo(() => {\n    return filteredOrders.reduce((sum, order) => sum + (order.total_amount || 0), 0);\n  }, [filteredOrders]);\n\n  if (loadingOrders) {\n    return (\n      <div className=\"bg-white border rounded-lg p-8 text-center\">\n        <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n        <p className=\"mt-4 text-gray-600\">Loading orders...</p>\n      </div>\n    );\n  }\n\n  if (ordersError) {\n    return (\n      <div className=\"bg-white border rounded-lg p-6\">\n        <div className=\"bg-red-50 border border-red-200 rounded p-4\">\n          <p className=\"text-red-800 font-medium\">Error loading orders</p>\n          <p className=\"text-red-600 text-sm mt-1\">{ordersError}</p>\n          {onRefresh && (\n            <button\n              onClick={onRefresh}\n              className=\"mt-3 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm\"\n            >\n              Retry\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  if (!orders || orders.length === 0) {\n    return (\n      <div className=\"bg-white border rounded-lg p-8 text-center\">\n        <p className=\"text-gray-600\">No orders found.</p>\n        {onRefresh && (\n          <button\n            onClick={onRefresh}\n            className=\"mt-4 px-4 py-2 bg-gray-900 text-white rounded hover:bg-gray-800\"\n          >\n            Refresh\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  if (filteredOrders.length === 0 && selectedMonth !== 'all') {\n    return (\n      <div className=\"space-y-4\">\n        {/* Header with filter */}\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white border rounded-lg p-4\">\n          <div className=\"flex-1\">\n            <h2 className=\"text-lg font-semibold\">Orders</h2>\n            <p className=\"text-sm text-gray-600\">\n              {orders.length} total order(s) ‚Ä¢ {filteredOrders.length} in selected period\n            </p>\n          </div>\n          <div className=\"flex gap-3 items-center\">\n            <select\n              value={selectedMonth}\n              onChange={(e) => setSelectedMonth(e.target.value)}\n              className=\"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm\"\n            >\n              <option value=\"all\">All Orders</option>\n              {availableMonths.map((month) => (\n                <option key={month.key} value={month.key}>\n                  {month.label}\n                </option>\n              ))}\n            </select>\n            {onRefresh && (\n              <button\n                onClick={onRefresh}\n                className=\"px-4 py-2 bg-gray-900 text-white rounded hover:bg-gray-800 text-sm\"\n              >\n                Refresh\n              </button>\n            )}\n          </div>\n        </div>\n\n        <div className=\"bg-white border rounded-lg p-8 text-center\">\n          <p className=\"text-gray-600\">No orders found for the selected period.</p>\n          <button\n            onClick={() => setSelectedMonth('all')}\n            className=\"mt-4 px-4 py-2 bg-gray-900 text-white rounded hover:bg-gray-800 text-sm\"\n          >\n            Show All Orders\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header with filter and refresh */}\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white border rounded-lg p-4\">\n        <div className=\"flex-1\">\n          <h2 className=\"text-lg font-semibold\">Orders</h2>\n          <div className=\"text-sm text-gray-600\">\n            {selectedMonth === 'all' ? (\n              <span>{filteredOrders.length} order(s) found</span>\n            ) : (\n              <span>\n                {filteredOrders.length} order(s) in {availableMonths.find(m => m.key === selectedMonth)?.label || 'selected period'}\n                {filteredTotal > 0 && filteredOrders.length > 0 && (\n                  <span className=\"ml-2 font-medium\">\n                    ‚Ä¢ Total: {formatCurrency(filteredTotal, filteredOrders[0]?.currency || 'gbp')}\n                  </span>\n                )}\n              </span>\n            )}\n            {selectedMonth !== 'all' && (\n              <span className=\"text-gray-400 ml-2\">\n                (of {orders.length} total)\n              </span>\n            )}\n          </div>\n        </div>\n        <div className=\"flex gap-3 items-center\">\n          <select\n            value={selectedMonth}\n            onChange={(e) => setSelectedMonth(e.target.value)}\n            className=\"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm bg-white\"\n          >\n            <option value=\"all\">All Orders</option>\n            {availableMonths.map((month) => (\n              <option key={month.key} value={month.key}>\n                {month.label}\n              </option>\n            ))}\n          </select>\n          {onRefresh && (\n            <button\n              onClick={onRefresh}\n              className=\"px-4 py-2 bg-gray-900 text-white rounded hover:bg-gray-800 text-sm\"\n            >\n              Refresh\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Orders List */}\n      {filteredOrders.map((order) => {\n        const isExpanded = expandedOrder === order.order_id;\n        const items = order.items || [];\n        const shippingAddress = order.shipping_address || {};\n        // Debug: Log tracking info to see what we're getting\n        if (order.tracking && (order.tracking.tracking_number || order.tracking.tracking_link)) {\n          console.log('Order tracking info:', {\n            orderId: order.order_id,\n            tracking: order.tracking,\n            tracking_number: order.tracking.tracking_number,\n            tracking_link: order.tracking.tracking_link,\n            dispatched: order.metadata?.dispatched\n          });\n        }\n\n        return (\n          <div\n            key={order.order_id}\n            className=\"bg-white border rounded-lg overflow-hidden hover:shadow-md transition-shadow\"\n          >\n            {/* Order Header - Always Visible */}\n            <div className=\"p-4\">\n              <div className=\"flex justify-between items-start\">\n                <div \n                  className=\"flex-1 cursor-pointer\"\n                  onClick={() => toggleOrder(order.order_id)}\n                >\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h3 className=\"font-semibold text-lg\">Order #{order.order_id?.substring(0, 20)}...</h3>\n                    <span\n                      className={`px-2 py-1 text-xs rounded ${\n                        order.status === 'succeeded'\n                          ? 'bg-green-100 text-green-800'\n                          : order.status === 'pending'\n                          ? 'bg-yellow-100 text-yellow-800'\n                          : 'bg-gray-100 text-gray-800'\n                      }`}\n                    >\n                      {order.status || 'unknown'}\n                    </span>\n                    {isDispatched(order) && (\n                      <span className=\"px-2 py-1 text-xs rounded bg-blue-100 text-blue-800 flex items-center gap-1\">\n                        <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                        </svg>\n                        Dispatched\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-gray-600\">\n                    <div>\n                      <span className=\"font-medium\">Customer:</span>{' '}\n                      {order.customer_name || order.customer_email}\n                    </div>\n                    <div>\n                      <span className=\"font-medium\">Date:</span> {formatDate(order.order_date)}\n                    </div>\n                    <div>\n                      <span className=\"font-medium\">Total:</span>{' '}\n                      {formatCurrency(order.total_amount, order.currency)}\n                    </div>\n                  </div>\n                  {/* Tracking Information - Visible in Header */}\n                  {(order.tracking?.tracking_number || order.tracking?.tracking_link) && (\n                    <div className=\"mt-3 pt-3 border-t border-gray-200\">\n                      <div className=\"flex flex-wrap items-center gap-4 text-sm\">\n                        {order.tracking?.tracking_number && (\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"font-medium text-gray-700\">Tracking #:</span>\n                            <span className=\"text-gray-900 font-mono text-xs bg-gray-100 px-2 py-1 rounded\">\n                              {order.tracking.tracking_number}\n                            </span>\n                          </div>\n                        )}\n                        {order.tracking?.tracking_link && (\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"font-medium text-gray-700\">Track:</span>\n                            <a\n                              href={order.tracking.tracking_link}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              onClick={(e) => e.stopPropagation()}\n                              className=\"text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1\"\n                            >\n                              <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                              </svg>\n                              View Tracking\n                            </a>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                  <div className=\"mt-2 text-sm text-gray-500\">\n                    {items.length} item(s) ‚Ä¢ {order.customer_email}\n                  </div>\n                </div>\n                <div className=\"ml-4 flex items-center gap-3\">\n                  {/* Dispatched Checkbox */}\n                  <div \n                    className=\"flex items-center gap-2\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleDispatchedToggle(order.order_id, isDispatched(order));\n                    }}\n                  >\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\n                      <input\n                        type=\"checkbox\"\n                        checked={isDispatched(order)}\n                        onChange={() => {}} // Handled by parent onClick\n                        disabled={updatingOrders.has(order.order_id)}\n                        className=\"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer disabled:opacity-50\"\n                      />\n                      <span className=\"text-sm text-gray-600\">\n                        {updatingOrders.has(order.order_id) ? 'Updating...' : 'Dispatched'}\n                      </span>\n                    </label>\n                  </div>\n                  {/* Expand/Collapse Arrow */}\n                  <div \n                    className=\"cursor-pointer\"\n                    onClick={() => toggleOrder(order.order_id)}\n                  >\n                    <svg\n                      className={`w-5 h-5 text-gray-400 transition-transform ${\n                        isExpanded ? 'transform rotate-180' : ''\n                      }`}\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M19 9l-7 7-7-7\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Expanded Details */}\n            {isExpanded && (\n              <div className=\"border-t bg-gray-50 p-6\">\n                {/* Dispatch Information - Prominent Section */}\n                {(order.tracking?.tracking_number || order.tracking?.tracking_link || order.metadata?.dispatched_at) && (\n                  <div className=\"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                    <h4 className=\"font-semibold mb-3 text-gray-900 flex items-center gap-2\">\n                      <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                      Dispatch Information\n                    </h4>\n                    <div className=\"space-y-3\">\n                      {order.metadata?.dispatched_at && (\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium text-gray-700\">Dispatched Date:</span>{' '}\n                          <span className=\"text-gray-900\">\n                            {formatDate(order.metadata.dispatched_at)}\n                          </span>\n                        </div>\n                      )}\n                      {order.tracking?.tracking_number && (\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium text-gray-700\">Tracking Number:</span>{' '}\n                          <span className=\"text-gray-900 font-mono bg-white px-2 py-1 rounded border border-blue-200\">\n                            {order.tracking.tracking_number}\n                          </span>\n                        </div>\n                      )}\n                      {order.tracking?.tracking_link && (\n                        <div className=\"text-sm\">\n                          <span className=\"font-medium text-gray-700\">Tracking Link:</span>{' '}\n                          <a\n                            href={order.tracking.tracking_link}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"text-blue-600 hover:text-blue-800 hover:underline inline-flex items-center gap-1 break-all\"\n                          >\n                            <svg className=\"w-4 h-4 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                            </svg>\n                            <span className=\"break-all\">{order.tracking.tracking_link}</span>\n                          </a>\n                        </div>\n                      )}\n                      <div className=\"pt-2\">\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleEditTracking(order.order_id);\n                          }}\n                          className=\"px-3 py-1.5 text-xs text-gray-700 hover:text-gray-900 border border-gray-300 rounded hover:bg-white transition-colors\"\n                          disabled={updatingOrders.has(order.order_id)}\n                        >\n                          {isDispatched(order) ? 'Edit Tracking Info' : 'Add/Edit Tracking Info'}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  {/* Customer Information */}\n                  <div>\n                    <h4 className=\"font-semibold mb-3 text-gray-900\">Customer Information</h4>\n                    <div className=\"space-y-2 text-sm\">\n                      <div>\n                        <span className=\"font-medium text-gray-700\">Name:</span>{' '}\n                        {order.customer_name || 'N/A'}\n                      </div>\n                      <div>\n                        <span className=\"font-medium text-gray-700\">Email:</span>{' '}\n                        <a\n                          href={`mailto:${order.customer_email}`}\n                          className=\"text-blue-600 hover:underline\"\n                        >\n                          {order.customer_email}\n                        </a>\n                      </div>\n                      {order.customer_phone && (\n                        <div>\n                          <span className=\"font-medium text-gray-700\">Phone:</span>{' '}\n                          <a\n                            href={`tel:${order.customer_phone}`}\n                            className=\"text-blue-600 hover:underline\"\n                          >\n                            {order.customer_phone}\n                          </a>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Shipping Address */}\n                  <div>\n                    <h4 className=\"font-semibold mb-3 text-gray-900\">Shipping Address</h4>\n                    {shippingAddress.line1 ? (\n                      <div className=\"text-sm space-y-1\">\n                        <div>{shippingAddress.line1}</div>\n                        {shippingAddress.line2 && <div>{shippingAddress.line2}</div>}\n                        <div>\n                          {shippingAddress.city}\n                          {shippingAddress.state && `, ${shippingAddress.state}`}\n                        </div>\n                        <div>\n                          {shippingAddress.postal_code} {shippingAddress.country}\n                        </div>\n                      </div>\n                    ) : (\n                      <p className=\"text-sm text-gray-500\">No shipping address provided</p>\n                    )}\n                  </div>\n                </div>\n\n                {/* Order Items */}\n                <div className=\"mt-6\">\n                  <h4 className=\"font-semibold mb-3 text-gray-900\">Order Items</h4>\n                  <div className=\"space-y-4\">\n                    {items.map((item, index) => (\n                      <div\n                        key={index}\n                        className=\"bg-white border rounded p-4 flex gap-4\"\n                      >\n                        {/* Item Image */}\n                        <div className=\"flex-shrink-0\">\n                          {item.design_image ? (\n                            <img\n                              src={item.design_image}\n                              alt={item.name || 'Custom design'}\n                              className=\"w-24 h-24 object-cover rounded border\"\n                              onError={(e) => {\n                                // Fallback to case image if design image fails\n                                if (item.case_image && e.target.src !== item.case_image) {\n                                  e.target.src = item.case_image;\n                                } else {\n                                  e.target.style.display = 'none';\n                                }\n                              }}\n                            />\n                          ) : item.case_image ? (\n                            <img\n                              src={item.case_image}\n                              alt={item.name || 'Case'}\n                              className=\"w-24 h-24 object-cover rounded border\"\n                              onError={(e) => {\n                                e.target.style.display = 'none';\n                              }}\n                            />\n                          ) : (\n                            <div className=\"w-24 h-24 bg-gray-200 rounded border flex items-center justify-center\">\n                              <span className=\"text-xs text-gray-500\">No image</span>\n                            </div>\n                          )}\n                        </div>\n\n                        {/* Item Details */}\n                        <div className=\"flex-1\">\n                          <h5 className=\"font-medium text-gray-900\">\n                            {item.name || 'Custom Case'}\n                          </h5>\n                          <div className=\"mt-1 space-y-1 text-sm text-gray-600\">\n                            {item.case_type && (\n                              <div>\n                                <span className=\"font-medium\">Type:</span> {item.case_type}\n                              </div>\n                            )}\n                            {item.color && (\n                              <div>\n                                <span className=\"font-medium\">Color:</span> {item.color}\n                              </div>\n                            )}\n                            <div>\n                              <span className=\"font-medium\">Quantity:</span> {item.quantity || 1}\n                            </div>\n                            {item.pins && item.pins.length > 0 && (\n                              <div>\n                                <span className=\"font-medium\">Pins:</span>{' '}\n                                {item.pins.map((pin, i) => (\n                                  <span key={i}>\n                                    {pin.name || pin}\n                                    {i < item.pins.length - 1 ? ', ' : ''}\n                                  </span>\n                                ))}\n                              </div>\n                            )}\n                            {item.custom_design && (\n                              <span className=\"inline-block px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded mt-1\">\n                                Custom Design\n                              </span>\n                            )}\n                          </div>\n                        </div>\n\n                        {/* Item Price */}\n                        <div className=\"text-right\">\n                          <div className=\"font-semibold text-gray-900\">\n                            {formatCurrency(item.total_price || item.unit_price || 0, order.currency)}\n                          </div>\n                          {item.quantity > 1 && (\n                            <div className=\"text-sm text-gray-500 mt-1\">\n                              {formatCurrency(item.unit_price || 0, order.currency)} each\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Order Summary */}\n                <div className=\"mt-6 pt-4 border-t\">\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"text-sm text-gray-600\">\n                      <div>\n                        <span className=\"font-medium\">Payment Intent:</span>{' '}\n                        <code className=\"text-xs bg-gray-100 px-2 py-1 rounded\">\n                          {order.payment_intent_id || 'N/A'}\n                        </code>\n                      </div>\n                      <div className=\"mt-1\">\n                        <span className=\"font-medium\">Order ID:</span>{' '}\n                        <code className=\"text-xs bg-gray-100 px-2 py-1 rounded\">\n                          {order.order_id}\n                        </code>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"text-sm text-gray-600\">Total Amount</div>\n                      <div className=\"text-2xl font-bold text-gray-900\">\n                        {formatCurrency(order.total_amount, order.currency)}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        );\n      })}\n\n      {/* Dispatch Modal */}\n      {dispatchModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">\n              {dispatchModal.currentDispatched ? 'Edit Tracking Information' : 'Dispatch Order'}\n            </h3>\n            <p className=\"text-sm text-gray-600 mb-6\">\n              {dispatchModal.currentDispatched \n                ? 'Update tracking information for this dispatched order:'\n                : 'Enter tracking information for this order (optional):'}\n            </p>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Tracking Number\n                </label>\n                <input\n                  type=\"text\"\n                  value={trackingNumber}\n                  onChange={(e) => setTrackingNumber(e.target.value)}\n                  placeholder=\"e.g., 1Z999AA10123456784\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Tracking Link\n                </label>\n                <input\n                  type=\"url\"\n                  value={trackingLink}\n                  onChange={(e) => setTrackingLink(e.target.value)}\n                  placeholder=\"https://tracking.example.com/...\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent\"\n                />\n              </div>\n            </div>\n\n            <div className=\"mt-6 flex gap-3 justify-end\">\n              <button\n                onClick={() => {\n                  setDispatchModal(null);\n                  setTrackingNumber('');\n                  setTrackingLink('');\n                }}\n                className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors\"\n                disabled={updatingOrders.has(dispatchModal.orderId)}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleDispatchSubmit}\n                disabled={updatingOrders.has(dispatchModal.orderId)}\n                className=\"px-4 py-2 text-sm bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {updatingOrders.has(dispatchModal.orderId) \n                  ? (dispatchModal.currentDispatched ? 'Updating...' : 'Dispatching...')\n                  : (dispatchModal.currentDispatched ? 'Update Tracking' : 'Dispatch Order')}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OrdersTab;\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,aCHsB,CAAC,WAAE,CAAS,aAAE,CAAW,CAAE,GA2BlC,AAzBX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAY,aAC3B,UAAW,CAAC,UAAU,EACpB,AAAc,gBACV,0BACA,gBAAA,CACJ,UACH,cAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAY,UAC3B,UAAW,CAAC,KAAK,EACD,WAAd,EACI,0BACA,gBAAA,CACJ,UACH,gBCpB0B,CAAC,QAAE,CAAM,SAAE,CAAO,CAAE,GACnD,AAAI,EAEA,CAAA,EAAA,EAAA,CA2CS,CA7CA,CAET,EAAC,MAAA,CAAI,UAAU,kGACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,2CAKP,EA+BH,CAAA,EAAA,EAAA,CA/BW,EA+BX,EAAC,MAAA,CAAI,UAAW,CAAC,uCAAuC,EAAE,CA7B1C,KAChB,OAAQ,GACN,IAAK,WACH,MAAO,oDACT,KAAK,eACH,MAAO,uDACT,SACE,MAAO,iDACX,EACF,IAoB4D,CAAa,UACpE,CAnBc,KACjB,OAAQ,GACN,IAAK,WACH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,KAAE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,0BAA8B,6GAElD,KAAK,eACH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,MAAG,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,uBAA2B,wEAEhD,SACE,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,MAAG,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,8BAAkC,0FAEzD,EACF,MA5BoB,OCTG,CAAC,WACxB,CAAS,QACT,CAAM,CACN,SA8Ba,SA9BG,CAChB,OAAK,CACN,GAEG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAU,kHAET,EAAmB,gBAAkB,6BAGxC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAW,CAAC,uCAAuC,EACjD,EACI,0BACA,EACA,4CACA,wCAAA,CACJ,UAED,EAAmB,aAAe,EAAQ,sBAAwB,kCC3BpD,CAAC,UAAE,CAAQ,MAAE,EAAO,OAAO,CAAE,IAMlD,AAsCa,IAtCT,KAFgB,EAEH,OAAO,IAFS,CAIjC,IAAM,EAAuB,CAJY,SAIrB,EAAmB,EAJe,QAIH,UAC7C,EAA2B,UAAT,EAAmB,UAAY,iBAEvD,AAV+B,IAU3B,AAVc,EAYd,CAAA,EAAA,EAAA,GAAA,CAFW,CAEV,MAAA,CAAI,UAAW,CAAC,mCAAmC,EAAE,EAAY,2CAA2C,CAAC,UAC5G,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAiB,KAAK,eAAe,QAAQ,qBAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,oHAAoH,SAAS,gBAb7I,AAAa,UAAQ,EAAW,GAAK,GAAY,EAqBhE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,sCAAsC,EAAE,EAAY,2CAA2C,CAAC,UAC/G,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAiB,KAAK,eAAe,QAAQ,qBAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,oNAAoN,SAAS,gBAtBjO,OAAb,GAAqB,EAAW,EA8B9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,qCAAqC,EAAE,EAAY,2CAA2C,CAAC,UAC9G,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAiB,KAAK,eAAe,QAAQ,qBAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,wIAAwI,SAAS,gBAM7K,IACT,IC1C6B,CAAC,UAAE,CAAQ,MAAE,EAAO,QAAQ,CAAE,GAqD5C,CApDb,IAAM,EAAyB,IAAb,EACZ,EAA0B,OAAb,GAAqB,EAAW,GAAK,GAAY,EAC9D,EAAyB,OAAb,GAAqB,EAAW,EAC5C,QAAc,EAEd,EAAwB,SAFG,CAEZ,EAAmB,KAFC,GAES,MAC5C,EAAyB,EAHuB,QAGhC,EAAmB,cAAgB,UACnD,EAA0B,UAAT,EAAmB,cAAgB,UAE1D,AAAI,EAEA,CAAA,EAAA,EAAA,GAAA,CAFW,CAEV,MAAA,CAAI,UAAW,CAAA,EAAG,EAAa,4CAA4C,EAAE,EAAA,CAAgB,UAC5F,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,CAAA,EAAG,EAAc,qCAAqC,EAAW,UAAT,EAAmB,cAAgB,GAAA,CAAI,UAAE,mBAOjH,EAEA,CAAA,EAAA,EAAA,GAAA,EAFY,AAEX,MAAA,CAAI,UAAW,CAAA,EAAG,EAAa,kDAAkD,EAAE,EAAA,CAAgB,UAClG,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,CAAA,EAAG,EAAc,wCAAwC,EAAE,AAAS,YAAU,cAAgB,GAAA,CAAI,WAAE,cACpG,EAAS,SAMzB,EAEA,CAAA,EAAA,EAAA,GAAA,CAFW,CAEV,MAAA,CAAI,UAAW,CAAA,EAAG,EAAa,gDAAgD,EAAE,EAAA,CAAgB,UAChG,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,CAAA,EAAG,EAAc,uCAAuC,EAAW,UAAT,EAAmB,cAAgB,GAAA,CAAI,WAAE,aACpG,EAAS,SAMxB,EAEA,CAAA,EAAA,EAAA,GAAA,EAAC,CAFY,KAEZ,CAAI,UAAW,CAAA,EAAG,EAAa,8CAA8C,EAAE,EAAA,CAAgB,UAC9F,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,CAAA,EAAG,EAAc,sCAAsC,EAAW,UAAT,EAAmB,cAAgB,GAAA,CAAI,UAAE,gBAO/G,IACT,ICjDiB,CAAC,UAAE,CAAQ,OAAE,CAAK,YAmHpB,MAnHsB,CAAgB,CAAE,IACrD,IAAM,OAAwC,IAAtB,EAAS,QAAQ,CAAiB,EAAS,QAAQ,CAAG,KACxE,EAAuC,IAApB,EAGnB,QAAqB,EAE3B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,CAH4C,KAG5C,CAAI,EAHgD,QAGtC,YAH0D,2CAIvE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wDACX,EAAS,IAAI,GAEhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCAEZ,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,SAAU,EAAiB,KAAK,YAGnD,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4CAAmC,mBAMzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+CACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,mEAA0D,iCAG3E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,IAAI,IACJ,MAAO,EAAS,QAAQ,EAAI,GAC5B,SAAU,AAAC,GAAM,EAAiB,OAAQ,EAAO,KAAM,EAAE,MAAM,CAAC,KAAK,EACrE,UAAU,+GACV,YAAY,MAGd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAqB,SAAU,EAAiB,KAAK,iBAK1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DAAoD,wBAGlE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACZ,EAAS,MAAM,CAAC,GAAG,CAAC,CAAC,EAAO,KAC3B,IAAM,OAA8B,IAAnB,EAAM,QAAQ,CAAiB,EAAM,QAAQ,CAAG,KAC3D,QAAc,EAEpB,MACE,CAAA,EAAA,EAAA,AAH+B,IAG/B,EAAC,EAHsC,IAGtC,CAEC,QALkD,EAKxC,oIAGT,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,SAAU,EAAU,KAAK,YAK7C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,4DACV,MAAO,CAAE,gBAAiB,EAAM,KAAM,AAAD,EACrC,MAAO,EAAM,KAAK,GAInB,EAAM,IAAI,EACT,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wDACb,EAAM,IAAI,GAKf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CAAmC,SAGpD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,IAAI,IACJ,MAAO,EAAM,QAAQ,EAAI,GACzB,SAAU,AAAC,GACT,EACE,OACA,EACA,KACA,EAAE,MAAM,CAAC,KAAK,CACd,GAGJ,UAAU,6HACV,YAAY,SAKhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAqB,SAAU,EAAU,KAAK,YAhD1C,EAmDX,UAKV,IClHqB,CAAC,OAAE,CAAK,kBAAE,CAAgB,CAAE,GAiBlC,AAfX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,mBAEvC,EAAM,GAAG,CAAC,CAAC,EAAU,IACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEC,SAAU,EACV,MAAO,EACP,iBAAkB,GAHb,SCNG,CAAC,OAAE,CAAK,OAAE,CAAK,UAAE,CAAQ,IAqD5B,cArD8B,CAAgB,CAAE,IAC7D,IAAM,OAA8B,IAAnB,EAAM,QAAQ,CAAiB,EAAM,QAAQ,CAAG,KAI3D,QAAc,EAEpB,MACE,CAAA,EAAA,EAH+B,AAG/B,IAAA,EAAC,EAHsC,IAGtC,CAAI,QAH+C,EAGrC,oIAEZ,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,SAAU,EAAU,KAAK,YAK5C,EAAM,KAAK,EACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAM,KAAK,CAChB,IAAK,EAAM,IAAI,CACf,UAAU,2CAMhB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oEACb,EAAM,IAAI,GAIb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,4CAAmC,SAGpD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,SACL,IAAI,IACJ,MAAO,EAAM,QAAQ,EAAI,GACzB,SAAU,AAAC,GAAM,EAAiB,QAAS,EAAO,EAAU,EAAE,MAAM,CAAC,KAAK,EAC1E,UAAU,6HACV,YAAY,SAKhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAqB,SAAU,EAAU,KAAK,YAGrD,ICpDsB,CAAC,QAAE,CAAM,kBAAE,CAAgB,CAAE,EA8DpC,CA5DX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,WAGxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DAAoD,UAGlE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACZ,EAAO,KAAK,CAAC,GAAG,CAAC,CAAC,EAAO,IACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEC,MAAO,EACP,MAAO,EACP,SAAS,QACT,iBAAkB,GAJb,SAWb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DAAoD,oBAGlE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACZ,EAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAO,IAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEC,MAAO,EACP,MAAO,EACP,SAAS,WACT,iBAAkB,GAJb,SAWb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DAAoD,kBAGlE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACZ,EAAO,MAAM,CAAC,GAAG,CAAC,CAAC,EAAO,IACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEC,MAAO,EACP,MAAO,EACP,SAAS,SACT,iBAAkB,GAJb,cC9CE,CAAC,UACpB,CAAQ,iBACR,CAAe,EAmCF,gBAlCb,CAAgB,CAChB,OAAK,WACL,CAAS,QACT,CAAM,kBACN,CAAgB,CACjB,GAEG,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,OAAQ,EACR,QAAS,IAGX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,UAAW,EACX,OAAQ,EACR,iBAAkB,EAClB,MAAO,IAGT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,MAAO,EAAS,KAAK,CACrB,iBAAkB,IAGpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,OAAQ,EAAS,IAAI,CACrB,iBAAkB,SChCR,CAAC,CAAE,QAAM,eAAE,CAAa,OAgxB3B,MAhxB6B,CAAW,WAAE,CAAS,CAAE,IAClE,GAAM,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC7C,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,OAC7C,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAAI,KACnD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC7C,CADoD,AACnD,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC/C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,AAFmD,EAEnD,QAAA,AAAQ,EAAC,IAE3C,EAAa,AAAC,GAClB,AAAK,EACQ,AACN,EAFH,EACa,KAAK,CADL,EAEL,kBAAkB,CAAC,QAAS,CACtC,KAAM,UACN,MAAO,QACP,IAAK,UACL,KAAM,UACN,OAAQ,SACV,GARwB,MAWpB,EAAiB,CAAC,EAAQ,EAAW,KAAK,GACzC,AAAD,AAAJ,GAA0B,GAAG,CAAd,EACR,IAAI,KAAK,YAAY,CAAC,QAAS,CACpC,MAAO,WACP,SAAU,EAAS,WAAW,EAChC,GAAG,MAAM,CAAC,GAJ0B,MAOhC,EAAc,AAAC,IACnB,EAAiB,IAAkB,EAAU,KAAO,EACtD,EAwBM,EAAyB,MAAO,EAAS,EAAY,EAAgB,KACzE,EAAkB,GAAQ,IAAI,IAAI,GAAM,GAAG,CAAC,IAE5C,GAAI,CACF,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,CAAC,YAAY,EAAE,EAAQ,WAAW,CAAC,EAC5D,QAAQ,GAAG,CAAC,8BAA+B,SACzC,aACA,EACA,gBAAiB,EACjB,cAAe,SACf,CACF,GAGA,IAAM,EAAc,YAClB,EACA,gBAAiB,EAAiB,EAAe,IAAI,GAAK,GAC1D,cAAe,EAAe,EAAa,IAAI,GAAK,EACtD,EAEA,QAAQ,GAAG,CAAC,8BAA+B,GAE3C,IAAM,EAAW,MAAM,MAAM,EAAQ,CACnC,OAAQ,QACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,EACvB,GAGM,EAAc,EAAS,OAAO,CAAC,GAAG,CAAC,gBACzC,GAAI,GAAe,EAAY,QAAQ,CAAC,aACtC,CADoD,KAC1C,AAAJ,MAAU,kFAGlB,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAI,EAAe,qCACnB,GAAI,CACF,IAAM,EAAQ,MAAM,EAAS,IAAI,GACjC,EAAe,EAAM,OAAO,EAAI,EAAM,KAAK,EAAI,CACjD,CAAE,MAAO,EAAG,CACV,EAAe,CAAC,KAAK,EAAE,EAAS,MAAM,CAAC,EAAE,EAAE,EAAS,UAAU,CAAA,CAAE,AAClE,CACA,MAAM,AAAI,MAAM,EAClB,CAEA,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,QAAQ,GAAG,CAAC,+BAAgC,GAG5C,EAAiB,MACjB,EAAkB,IAClB,EAAgB,IAGZ,GACF,GAEJ,CAAE,IAHe,EAGR,EAAO,CACd,QAAQ,KAAK,CAAC,oCAAqC,GACnD,IAAM,EAAW,EAAM,OAAO,EAAI,+EAClC,MAAM,CAAC,oCAAoC,EAAE,EAAA,CAAU,CACzD,QAAU,CACR,EAAkB,IAChB,IAAM,EAAO,IAAI,IAAI,GAErB,OADA,EAAK,MAAM,CAAC,GACL,CACT,EACF,CACF,EAgBM,EAAe,AAAC,GACb,EAAM,QAAQ,EAAE,cAAe,EAIlC,EAAkB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC9B,GAAI,CAAC,GAA4B,IAAlB,EAAO,MAAM,CAAQ,MAAO,EAAE,CAE7C,IAAM,EAAW,IAAI,IAgBrB,OAfA,EAAO,OAAO,CAAC,IACb,GAAI,EAAM,UAAU,CAAE,CACpB,IAAM,EAAO,IAAI,KAAK,EAAM,UAAU,EAChC,EAAO,EAAK,WAAW,GACvB,EAAQ,EAAK,QAAQ,GACrB,EAAM,CAAA,EAAG,EAAK,CAAC,EAAE,OAAO,EAAQ,GAAG,QAAQ,CAAC,EAAG,KAAA,CAAM,CACrD,EAAQ,EAAK,kBAAkB,CAAC,QAAS,CAAE,KAAM,UAAW,MAAO,MAAO,EAE5E,CAAC,EAAS,GAAG,CAAC,IAChB,EAAS,AADa,GACV,CAAC,EAAK,KAAE,EAAK,aAAO,QAAM,CAAM,EAEhD,CACF,GAGO,MAAM,IAAI,CAAC,EAAS,MAAM,IAAI,IAAI,CAAC,CAAC,EAAG,IAC5C,AAAI,EAAE,IAAI,GAAK,EAAE,IAAI,CAAS,CAAP,CAAS,IAAI,CAAG,EAAE,IAAI,CACtC,EAAE,KAAK,CAAG,EAAE,KAAK,CAE5B,EAAG,CAAC,EAAO,EAGL,EAAiB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC7B,GAAsB,QAAlB,EAAyB,OAAO,EAEpC,GAAM,CAAC,EAAM,EAAM,CAAG,EAAc,KAAK,CAAC,KAAK,GAAG,CAAC,QACnD,OAAO,EAAO,MAAM,CAAC,IACnB,GAAI,CAAC,EAAM,UAAU,CAAE,OAAO,EAC9B,IAAM,EAAO,IAAI,KAAK,EAAM,UAAU,EACtC,OAAO,EAAK,WAAW,KAAO,GAAQ,EAAK,QAAQ,KAAO,EAAQ,CACpE,EACF,EAAG,CAAC,EAAQ,EAAc,EAGpB,EAAgB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACrB,EAAe,MAAM,CAAC,CAAC,EAAK,IAAU,GAAO,EAAM,CAAP,WAAmB,GAAI,CAAC,CAAG,GAC7E,CAAC,EAAe,SAEnB,AAAI,EAEA,CAAA,EAAA,EAAA,IAAA,EAAC,EAFc,IAEd,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8EACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,yBAKpC,EAEA,CAAA,EAAA,EAAA,GAAA,EAAC,CAFY,KAEZ,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCAA2B,yBACxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,IACzC,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,iFACX,eASP,AAAC,GAA4B,GAAG,CAArB,EAAO,MAAM,CAgBE,IAA1B,EAAe,MAAM,EAA4B,OAAO,CAAzB,EAE/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uHACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCAAwB,WACtC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCACV,EAAO,MAAM,CAAC,qBAAmB,EAAe,MAAM,CAAC,4BAG5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAiB,EAAE,MAAM,CAAC,KAAK,EAChD,UAAU,0IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,eACnB,EAAgB,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAuB,MAAO,EAAM,GAAG,UACrC,EAAM,KAAK,EADD,EAAM,GAAG,MAKzB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,8EACX,kBAOP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,6CAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAiB,OAChC,UAAU,mFACX,0BASP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uHACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCAAwB,WACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACM,QAAlB,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAe,MAAM,CAAC,qBAE7B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WACE,EAAe,MAAM,CAAC,gBAAc,EAAgB,IAAI,CAAC,GAAK,EAAE,GAAG,GAAK,IAAgB,OAAS,kBACjG,EAAgB,GAAK,EAAe,MAAM,CAAG,GAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,6BAAmB,YACvB,EAAe,EAAe,CAAc,CAAC,EAAE,EAAE,UAAY,aAK5D,QAAlB,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,+BAAqB,OAC9B,EAAO,MAAM,CAAC,mBAK3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAiB,EAAE,MAAM,CAAC,KAAK,EAChD,UAAU,mJAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,eAAM,eACnB,EAAgB,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAuB,MAAO,EAAM,GAAG,UACrC,EAAM,KAAK,EADD,EAAM,GAAG,MAKzB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,8EACX,kBAQN,EAAe,GAAG,CAAC,AAAC,IACnB,IAAM,EAAa,IAAkB,EAAM,QAAQ,CAC7C,EAAQ,EAAM,KAAK,EAAI,EAAE,CACzB,EAAkB,EAAM,gBAAgB,EAAI,CAAC,EAYnD,OAVI,EAAM,QAAQ,GAAK,CAAD,CAAO,QAAQ,CAAC,eAAe,EAAI,EAAM,QAAQ,CAAC,aAAA,AAAa,GAAG,AACtF,QAAQ,GAAG,CAAC,uBAAwB,CAClC,QAAS,EAAM,QAAQ,CACvB,SAAU,EAAM,QAAQ,CACxB,gBAAiB,EAAM,QAAQ,CAAC,eAAe,CAC/C,cAAe,EAAM,QAAQ,CAAC,aAAa,CAC3C,WAAY,EAAM,QAAQ,EAAE,UAC9B,GAIA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,yFAGV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,wBACV,QAAS,IAAM,EAAY,EAAM,QAAQ,YAEzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,kCAAwB,UAAQ,EAAM,QAAQ,EAAE,UAAU,EAAG,IAAI,SAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAC,0BAA0B,EACnB,cAAjB,EAAM,MAAM,CACR,8BACA,AAAiB,cAAX,MAAM,CACZ,gCACA,4BAAA,CACJ,UAED,EAAM,MAAM,EAAI,YAElB,EAAa,IACZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,wFACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,eAAe,QAAQ,qBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,qHAAqH,SAAS,cACrJ,mBAKZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,cAAiB,IAC9C,EAAM,aAAa,EAAI,EAAM,cAAc,IAE9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,UAAY,IAAE,EAAW,EAAM,UAAU,KAEzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,WAAc,IAC3C,EAAe,EAAM,YAAY,CAAE,EAAM,QAAQ,QAIrD,CAAC,EAAM,QAAQ,EAAE,iBAAmB,EAAM,QAAQ,EAAE,aAAA,CAAa,EAChE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sDACZ,EAAM,QAAQ,EAAE,iBACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA4B,gBAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yEACb,EAAM,QAAQ,CAAC,eAAe,MAIpC,EAAM,QAAQ,EAAE,eACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA4B,WAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,KAAM,EAAM,QAAQ,CAAC,aAAa,CAClC,OAAO,SACP,IAAI,sBACJ,QAAS,AAAC,GAAM,EAAE,eAAe,GACjC,UAAU,sFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,wBAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,mFACjE,2BAQlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACZ,EAAM,MAAM,CAAC,cAAY,EAAM,cAAc,OAGlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,0BACV,QAAS,AAAC,gBA/YpB,EAgZY,EAAE,eAAe,GAjZL,EAkZW,EAAM,QAAQ,CAlZhB,EAkZkB,EAAa,KAjZxD,EAAO,IAAI,CAAC,GAAK,EAAE,QAAQ,GAAK,GAEzC,EAMC,OAAO,OAAO,CAAC,EANG,oGAMmG,AACvH,EAAuB,GAAS,EAAO,GAAI,KAN7C,EAAkB,GAAO,UAAU,iBAAmB,IACtD,EAAgB,GAAO,UAAU,eAAiB,IAClD,EAAiB,SAAE,oBAAS,CAAkB,GA6YhC,WAEA,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mDACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,EAAa,GACtB,SAAU,KAAO,EACjB,SAAU,EAAe,GAAG,CAAC,EAAM,QAAQ,EAC3C,UAAU,sHAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCACb,EAAe,GAAG,CAAC,EAAM,QAAQ,EAAI,cAAgB,oBAK5D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,iBACV,QAAS,IAAM,EAAY,EAAM,QAAQ,WAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC,2CAA2C,EACrD,EAAa,uBAAyB,GAAA,CACtC,CACF,KAAK,OACL,OAAO,eACP,QAAQ,qBAER,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,+BASb,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCAEZ,AAAC,GAAM,QAAQ,EAAE,iBAAmB,EAAM,QAAQ,EAAE,eAAiB,EAAM,QAAQ,EAAE,aAAA,CAAa,EACjG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,qEACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,QAAQ,YAAY,OAAO,wBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,oDACjE,0BAGR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAM,QAAQ,EAAE,eACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA4B,qBAAwB,IACpE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBACb,EAAW,EAAM,QAAQ,CAAC,aAAa,OAI7C,EAAM,QAAQ,EAAE,iBACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA4B,qBAAwB,IACpE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qFACb,EAAM,QAAQ,CAAC,eAAe,MAIpC,EAAM,QAAQ,EAAE,eACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA4B,mBAAsB,IAClE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,KAAM,EAAM,QAAQ,CAAC,aAAa,CAClC,OAAO,SACP,IAAI,sBACJ,UAAU,uGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBAAwB,KAAK,OAAO,QAAQ,YAAY,OAAO,wBAC5E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,mFAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAa,EAAM,QAAQ,CAAC,aAAa,SAI/D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,AAAC,gBACR,EAAE,eAAe,GA5df,EA6diB,EAAM,QAAQ,CA5dnD,EAAQ,EAAO,IAAI,CAAC,GAAK,EAAE,QAAQ,GAAK,GAC9C,EAAkB,GAAO,UAAU,iBAAmB,IACtD,EAAgB,GAAO,UAAU,eAAiB,IAClD,EAAiB,SAAE,EAAS,kBAAmB,EAAa,EAAO,EA0d7C,EACA,UAAU,wHACV,SAAU,EAAe,GAAG,CAAC,EAAM,QAAQ,WAE1C,EAAa,GAAS,qBAAuB,mCAMxD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,yBACjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA4B,UAAa,IACxD,EAAM,aAAa,EAAI,SAE1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA4B,WAAc,IAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAM,CAAC,OAAO,EAAE,EAAM,cAAc,CAAA,CAAE,CACtC,UAAU,yCAET,EAAM,cAAc,MAGxB,EAAM,cAAc,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA4B,WAAc,IAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAM,CAAC,IAAI,EAAE,EAAM,cAAc,CAAA,CAAE,CACnC,UAAU,yCAET,EAAM,cAAc,YAQ/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,qBAChD,EAAgB,KAAK,CACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,EAAgB,KAAK,GAC1B,EAAgB,KAAK,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,EAAgB,KAAK,GACrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACE,EAAgB,IAAI,CACpB,EAAgB,KAAK,EAAI,CAAC,EAAE,EAAE,EAAgB,KAAK,CAAA,CAAE,IAExD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACE,EAAgB,WAAW,CAAC,IAAE,EAAgB,OAAO,OAI1D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,uCAM3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,gBACjD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAM,GAAG,CAAC,CAAC,EAAM,IAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,mDAGV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBACZ,EAAK,YAAY,CAChB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAK,YAAY,CACtB,IAAK,EAAK,IAAI,EAAI,gBAClB,UAAU,wCACV,QAAS,AAAC,IAEJ,EAAK,UAAU,EAAI,EAAE,MAAM,CAAC,GAAG,GAAK,EAAK,UAAU,CACrD,CADuD,CACrD,MAAM,CAAC,GAAG,CAAG,EAAK,UAAU,CAE9B,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAG,MAE7B,IAEA,EAAK,UAAU,CACjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAK,UAAU,CACpB,IAAK,EAAK,IAAI,EAAI,OAClB,UAAU,wCACV,QAAS,AAAC,IACR,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAG,MAC3B,IAGF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iFACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,iBAM9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qCACX,EAAK,IAAI,EAAI,gBAEhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAK,SAAS,EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,UAAY,IAAE,EAAK,SAAS,IAG7D,EAAK,KAAK,EACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,WAAa,IAAE,EAAK,KAAK,IAG3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,cAAgB,IAAE,EAAK,QAAQ,EAAI,KAElE,EAAK,IAAI,EAAI,EAAK,IAAI,CAAC,MAAM,CAAG,GAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,UAAa,IAC1C,EAAK,IAAI,CAAC,GAAG,CAAC,CAAC,EAAK,IACnB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WACE,EAAI,IAAI,EAAI,EACZ,EAAI,EAAK,IAAI,CAAC,MAAM,CAAG,EAAI,KAAO,KAF1B,OAOhB,EAAK,aAAa,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qFAA4E,wBAQlG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCACZ,EAAe,EAAK,WAAW,EAAI,EAAK,UAAU,EAAI,EAAG,EAAM,QAAQ,IAEzE,EAAK,QAAQ,CAAG,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACZ,EAAe,EAAK,UAAU,EAAI,EAAG,EAAM,QAAQ,EAAE,gBAhFvD,SA0Fb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,oBAAuB,IACrD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iDACb,EAAM,iBAAiB,EAAI,WAGhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAc,cAAiB,IAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iDACb,EAAM,QAAQ,SAIrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,iBACvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACZ,EAAe,EAAM,YAAY,CAAE,EAAM,QAAQ,iBApWzD,EAAM,QAAQ,CA6WzB,GAGC,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0FACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDACX,EAAc,iBAAiB,CAAG,4BAA8B,mBAEnE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACV,EAAc,iBAAiB,CAC5B,yDACA,0DAGN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,oBAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAkB,EAAE,MAAM,CAAC,KAAK,EACjD,YAAY,2BACZ,UAAU,uIAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,wDAA+C,kBAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,MACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,EAC/C,YAAY,mCACZ,UAAU,0IAKhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,EAAiB,MACjB,EAAkB,IAClB,EAAgB,GAClB,EACA,UAAU,2HACV,SAAU,EAAe,GAAG,CAAC,EAAc,OAAO,WACnD,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAloBe,CAkoBN,IAjoBrB,GAAI,EAAe,CAEH,EAAO,IAAI,CAAC,GAAK,EAAE,QAAQ,GAAK,EAAc,OAAO,EACnE,IAAM,GAAyD,IAApC,EAAc,EAA8B,OAAO,QAApB,CAC1D,EACE,EAAc,OAAO,CACrB,EACA,EACA,EAEJ,CACF,EAunBc,SAAU,EAAe,GAAG,CAAC,EAAc,OAAO,EAClD,UAAU,mJAET,EAAe,GAAG,CAAC,EAAc,OAAO,EACpC,EAAc,iBAAiB,CAAG,cAAgB,iBAClD,EAAc,iBAAiB,CAAG,kBAAoB,8BA7iBrE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,qBAC5B,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,2EACX,cA+iBX,EXvwBM,EAAW,CAAA,EAHjB,AAGiB,EAHjB,CAAA,CAAA,MAGiB,iBAAA,AAAiB,qBAEhB,KAChB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,aACrC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAA,OAAQ,EAC3C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7B,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAE,EACjC,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MACzC,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MACjD,CADwD,AACvD,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MADuD,AAElF,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAM3C,EAAkB,CAAC,EAAgB,KACnC,EAAW,KAAK,EAAE,CACpB,EAAe,KAAK,CAAG,EAAe,KAAK,CAAC,GAAG,CAAC,CAAC,EAAU,KACzD,IAAM,EAAc,CAClB,GAAG,CAAQ,CACX,cAC8B,IAA5B,EAAW,KAAK,CAAC,EAAM,EAA8C,OAA5B,EAAW,KAAK,CAAC,EAAM,CAC5D,EAAW,KAAK,CAAC,EAAM,CACvB,EAAS,QAAQ,AACzB,EAaA,OAXI,EAAW,UAAU,EAAE,CAAC,EAAM,EAAE,CAClC,EAAY,MAAM,CAAG,EAAY,MAAM,CAAC,GAAG,CAAC,CAAC,EAAW,KAAgB,CACtE,GAAG,CAAS,CACZ,EAFqE,YAGtB,IAA7C,EAAW,UAAU,CAAC,EAAM,CAAC,EAAW,EACK,OAA7C,EAAW,UAAU,CAAC,EAAM,CAAC,EAAW,CACpC,EAAW,UAAU,CAAC,EAAM,CAAC,EAAW,CACxC,EAAU,QAAQ,CAC1B,CAAC,CAAA,EAGI,CACT,EAAA,EAGE,EAAW,IAAI,EAAE,AACnB,CAAC,QAAS,WAAY,SAAS,CAAC,OAAO,CAAC,AAAC,IACnC,EAAW,IAAI,CAAC,EAAS,EAAE,CAC7B,EAAe,IAAI,CAAC,EAAS,CAC3B,EAAe,IAAI,CAAC,EAAS,CAAC,GAAG,CAAC,CAAC,EAAO,KAAW,CACnD,EADkD,CAC/C,CAAK,CACR,cACuC,IAArC,EAAW,IAAI,CAAC,EAAS,CAAC,EAAM,EACK,OAArC,EAAW,IAAI,CAAC,EAAS,CAAC,EAAM,CAC5B,EAAW,IAAI,CAAC,EAAS,CAAC,EAAM,CAChC,EAAM,QAAQ,AACtB,CAAC,EAAA,CAEP,EAEJ,EAKK,OAAO,2BAA2B,EAAE,CACvC,OAAO,2BAA2B,EAAG,EACrC,OAAO,0BAA0B,EAAG,GAGtC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAEJ,AAAJ,OAAW,2BAA2B,CACpC,CADsC,OAC9B,GAAG,CAAC,iEAIV,OAAO,0BAA0B,CACnC,CADqC,OAC7B,GAAG,CAAC,iEAKd,OAAO,2BAA2B,EAAG,EACrC,QAAQ,GAAG,CAAC,iEAgGZ,CA9FsB,UACpB,GAAoB,GACpB,QAAQ,GAAG,CAAC,oDAKZ,GAAI,CAEF,MAAM,IAAI,QAAQ,GAAW,WAAW,EAAS,MAEjD,IAAM,EAAM,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,kBACtB,QAAQ,GAAG,CAAC,+BAAgC,GAE5C,IAAM,EAAW,MAAM,MAAM,GACvB,EAAc,EAAS,OAAO,CAAC,GAAG,CAAC,iBAAmB,GAGtD,EAAU,MAAM,EAAS,IAAI,GAG/B,EAAO,KACX,GAAI,EAAY,QAAQ,CAAC,oBACvB,CAD4C,EACxC,CACF,EAAO,KAAK,KAAK,CAAC,EACpB,CAAE,MAAO,EAAU,CAEjB,MADA,QAAQ,KAAK,CAAC,uDAAwD,GAC5D,AAAJ,MAAU,CAAC,uBAAuB,EAAE,EAAQ,SAAS,CAAC,EAAG,KAAA,CAAM,CACvE,MACK,GAAI,CAAC,EAAS,EAAE,EAAI,EAAQ,IAAI,GAAG,MAAM,CAAG,EACjD,CADoD,EAChD,CACF,EAAO,KAAK,KAAK,CAAC,EACpB,CAAE,MAAO,EAAG,CAEV,EAAO,CAAE,MAAO,EAAQ,SAAS,CAAC,EAAG,KAAM,QAAS,EAAQ,SAAS,CAAC,EAAG,IAAK,CAChF,CAGF,GAAI,EAAS,EAAE,EAAI,GAAQ,EAAK,OAAO,EAAI,EAAK,SAAS,CAAE,CACzD,IAAM,EAAa,CACjB,MAAO,EAAK,SAAS,CAAC,KAAK,CAC3B,WAAY,EAAK,SAAS,CAAC,UAAU,CACrC,KAAM,EAAK,SAAS,CAAC,IAAI,AAC3B,EAEM,EAAiB,gBAAgB,EAAA,OAAQ,EAC/C,EAAgB,EAAgB,GAChC,EAAY,GACZ,EAAmB,YAEnB,QAAQ,GAAG,CAAC,qEACZ,OAAO,0BAA0B,EAAG,EACpC,OAAO,2BAA2B,EAAG,EACrC,GAAoB,GACpB,MACF,CAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAgB,GAAS,GAAK,EAAN,GAAW,EAAI,EAAK,OAAA,AAAO,GAAM,EAAQ,SAAS,CAAC,EAAG,MAAQ,CAAC,KAAK,EAAE,EAAS,MAAM,CAAC,EAAE,EAAE,EAAS,UAAU,CAAA,CAAE,CAC7I,QAAQ,KAAK,CAAC,sDAAuD,EAAS,MAAM,CAAE,GAClF,GAAM,QAAQ,KAAK,CAAC,8BAA+B,GAC/B,KAAK,CAAzB,EAAS,MAAM,EACjB,QAAQ,KAAK,CAAC,iFAGhB,EAAY,EAAA,OAAQ,EACpB,EAAmB,WACnB,QAAQ,IAAI,CAAC,4DACf,CACA,OAAO,0BAA0B,CAAG,GACpC,OAAO,2BAA2B,EAAG,EACrC,GAAoB,EACtB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,4DACd,QAAQ,KAAK,CAAC,gCAAiC,EAAM,OAAO,EAC5D,QAAQ,KAAK,CAAC,cAAe,EAAM,IAAI,EACnC,EAAM,KAAK,EACb,AADe,QACP,KAAK,CAAC,eAAgB,EAAM,KAAK,EAE3C,QAAQ,KAAK,CAAC,8DAGd,OAAO,2BAA2B,EAAG,EAGrC,EAAY,EAAA,OAAQ,EACpB,EAAmB,WACnB,QAAQ,IAAI,CAAC,2FACb,OAAO,0BAA0B,EAAG,EACpC,OAAO,2BAA2B,EAAG,EACrC,GAAoB,EACtB,EACF,IAGF,EAAG,EAAE,EAGL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,IACD,KAGP,EACC,EAAE,EAGL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAGR,IAAM,EAnLiB,AAmLC,iBAAiB,WAAW,EAAG,IAAI,GAuB3D,GAAI,CAAC,EAAU,CACb,QAAQ,IAAI,CAAC,gGAEb,GAAa,GACb,GAAgB,GAChB,MACF,CAEA,EAAS,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,MAAE,CAAI,OAAE,CAAK,CAAE,IAC3C,GAAI,EAAO,CACT,QAAQ,KAAK,CAAC,wBAAyB,GAWvC,EAAa,IACb,GAAgB,GAChB,MACF,CAEA,IAAM,EAAoB,EAAK,IAAI,CACnC,EAAQ,GACR,GAAa,GAGb,IAAM,EAAY,GAAmB,OAAO,cAAc,OAEtD,IAAc,GAChB,GAAgB,GAChB,QAFiC,AAEzB,GAAG,CAAC,oDAAqD,GAAmB,MAWpF,GAAgB,GAChB,QAAQ,IAAI,CAAC,6CAA8C,GAvEkC,MAwE7F,IADwE,IAChE,IAAI,CAAC,sBAAuB,GAExC,EACF,EAAG,EAAE,EAGL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAGH,GAAc,GACD,OADA,GACU,CADK,AAC7B,GAEF,EAAY,GAAM,IAAM,KAE5B,EAAG,CAAC,EAAW,EAAW,EAAc,EAAK,EAE7C,IAAM,EAAc,MAAO,EAAS,IAAI,IACtC,GAAiB,GACjB,EAAe,MAEf,GAAI,KAgCE,CA7BJ,OAAM,IAAI,QAAQ,GAAW,WAAW,EAAS,MAGjD,IAAM,EAAM,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,yBACtB,QAAQ,GAAG,CAAC,+BAAgC,GAC5C,QAAQ,GAAG,CAAC,uDACR,EACF,MADU,EACF,GAAG,CAAC,cAAe,GAE3B,QAAQ,GAAG,CAAC,2DAGd,IAAM,EAAM,MAAM,MAAM,GAIxB,GAAI,CADgB,EAAI,OAAO,CAAC,GAAG,CAAC,iBAAmB,EAAA,EACvC,QAAQ,CAAC,aACvB,CADqC,KAC3B,AAAJ,MAAU,kFAIlB,IAAM,EAAe,MAAM,EAAI,IAAI,GAEnC,GAAI,CAAC,GAAwC,IAAI,CAA5B,EAAa,IAAI,GAGpC,MAFA,QAAQ,KAAK,CAAC,qCAAsC,EAAI,MAAM,CAAE,EAAI,UAAU,EAC9E,QAAQ,KAAK,CAAC,sBAAuB,OAAO,WAAW,CAAC,EAAI,OAAO,CAAC,OAAO,KACjE,AAAJ,MAAU,uHAIlB,GAAI,CACF,EAAO,KAAK,KAAK,CAAC,EACpB,CAAE,MAAO,EAAY,CAInB,MAHA,QAAQ,KAAK,CAAC,mCAAoC,GAClD,QAAQ,KAAK,CAAC,qBAAsB,EAAI,MAAM,CAAE,EAAI,UAAU,EAC9D,QAAQ,KAAK,CAAC,qCAAsC,EAAa,SAAS,CAAC,EAAG,MACxE,AAAI,MAAM,CAAC,8BAA8B,EAAE,EAAW,OAAO,CAAC,YAAY,EAAE,EAAa,SAAS,CAAC,EAAG,KAAA,CAAM,CACpH,CAEA,GAAI,CAAC,EAAI,EAAE,CAAE,CACX,IAAM,EAAW,GAAM,OAAS,GAAM,SAAW,CAAC,cAAc,EAAE,EAAI,MAAM,CAAC,CAAC,EAAE,EAAI,UAAU,CAAA,CAAE,AAEhG,OADA,QAAQ,KAAK,CAAC,2BAA4B,CAAE,OAAQ,EAAI,MAAM,CAAE,MAAO,OAAU,CAAK,GAChF,AAAI,MAAM,EAClB,CAEA,GAAI,EAAK,OAAO,CACd,CADgB,CACN,EAAK,MAAM,EAAI,EAAE,EAC3B,QAAQ,GAAG,CAAC,CAAC,SAAS,EAAE,EAAK,MAAM,EAAE,QAAU,EAAE,qBAAqB,CAAC,MAClE,CACL,IAAM,EAAW,EAAK,KAAK,EAAI,EAAK,OAAO,EAAI,yBAC/C,QAAQ,KAAK,CAAC,gCAAiC,GAC/C,EAAe,EACjB,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,2BAA4B,GAC1C,QAAQ,KAAK,CAAC,mBAAoB,CAChC,KAAM,EAAM,IAAI,CAChB,QAAS,EAAM,OAAO,CACtB,MAAO,EAAM,KACf,AADoB,GAIpB,IAAI,EAAe,EAAM,OAAO,EAAI,yBAChC,GAAM,OAAO,EAAE,SAAS,SAAW,EAAM,OAAO,EAAE,SAAS,OAC7D,CADqE,CACtD,gFACN,EAAM,OAAO,EAAE,SAAS,mBAAmB,CACpD,EAAe,sFAAA,EAGjB,EAAe,EACjB,QAAU,CACR,EAAiB,GACnB,CACF,EAqBM,EAAiB,UACrB,IAAM,EAAU,CACd,MAAO,EAAS,KAAK,CAAC,GAAG,CAAC,AAAC,GAAM,EAAE,QAAQ,EAAI,MAC/C,WAAY,EAAS,KAAK,CAAC,GAAG,CAAC,AAAC,GAC9B,EAAE,MAAM,EAAE,IAAI,AAAC,GAAQ,EAAI,QAAQ,EAAI,OAEzC,KAAM,CACJ,MAAO,EAAS,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,AAAC,GAAM,EAAE,QAAQ,EAAI,MACpD,SAAU,EAAS,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,AAAC,GAAM,EAAE,QAAQ,EAAI,MAC1D,OAAQ,EAAS,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,AAAC,GAAM,EAAE,QAAQ,EAAI,KACxD,CACF,EAGA,GAAI,CACF,IAYI,EAZE,EAAW,MAAM,MAAM,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,kBAAmB,CACxD,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,EACvB,GAGM,EAAc,EAAS,OAAO,CAAC,GAAG,CAAC,iBAAmB,GAI5D,GAAK,CAAD,CAAa,QAAQ,CAAC,oBAiBxB,GAAI,CACF,EAAO,MAAM,EAAS,IAAI,EAC5B,CAAE,MAAO,EAAG,CAEV,MADA,QAAQ,KAAK,CAAC,mCAAoC,GAC5C,AAAI,MAAM,+FAClB,KAtB6C,CAE7C,IAAI,EAAe,GACnB,GAAI,CACF,EAAe,MAAM,EAAS,IAAI,EACpC,CAAE,MAAO,EAAG,CACV,EAAe,8BACjB,CAEA,IAAM,EAAW,EAAY,QAAQ,CAAC,cAAgB,EAAY,QAAQ,CAAC,cACvE,CAAC,wBAAwB,EAAE,EAAY;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAwM,EAAE,EAAa,SAAS,CAAC,EAAG,KAAA,CAAM,CACjR,CAAC,mCAAmC,EAAE,GAAe,UAAU;AAAA;AAAA,kBAA8E,EAAE,EAAa,SAAS,CAAC,EAAG,KAAA,CAAM,AAGnL,OAFA,QAAQ,KAAK,CAAC,4BAA6B,GAC3C,QAAQ,KAAK,CAAC,wBAAyB,GACjC,AAAI,MAAM,CAAC,mCAAmC,EAAE,EAAY,wDAAwD,CAAC,CAC7H,CAUA,GAAI,EAAS,CAVN,CAUQ,CAAE,CAMf,GALA,QAAQ,GAAG,CAAC,iCAAkC,GAC9C,QAAQ,GAAG,CAAC,CAAC,SAAS,EAAE,EAAK,YAAY,EAAI,EAAE,+BAA+B,CAAC,EAC/E,QAAQ,GAAG,CAAC,6FAGR,EAAK,OAAO,EAAI,EAAK,YAAY,CAAG,EAAG,CACzC,QAAQ,GAAG,CAAC,qEACZ,QAAQ,GAAG,CAAC,6CAGZ,IAAM,EAAa,CACjB,MAAO,EAAQ,KAAK,CACpB,WAAY,EAAQ,UAAU,CAC9B,KAAM,EAAQ,IAAI,AACpB,EAGM,EAAiB,gBAAgB,EAAA,OAAQ,EAC/C,EAAgB,EAAgB,GAChC,EAAY,GAGZ,EAAmB,YAGnB,OAAO,aAAa,CAAC,IAAI,YAAY,mBAAoB,CACvD,OAAQ,CACN,UAAW,KAAK,GAAG,GACnB,aAAc,EAAK,YAAY,AACjC,CACF,IACA,QAAQ,GAAG,CAAC,+DACd,CAEA,GAAS,GACT,WAAW,IAAM,GAAS,GAAQ,IACpC,GAD2C,EACpC,CACL,IAAI,EAAe,gBACnB,GAHqE,AAGjE,CACF,IAAM,EAAQ,MAAM,EAAS,IAAI,GACjC,EAAe,EAAM,KAAK,EAAI,EAAM,OAAO,EAAI,eACjD,CAAE,MAAO,EAAG,CACV,EAAe,CAAC,KAAK,EAAE,EAAS,MAAM,CAAC,EAAE,EAAE,EAAS,UAAU,CAAA,CAAE,AAClE,CACA,QAAQ,KAAK,CAAC,wCAAyC,GACvD,MAAM,CAAC,4BAA4B,EAAE,EAAA,CAAc,EACnD,GAAS,EACX,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,sCAAuC,GACrD,IAAM,EAAW,EAAM,OAAO,EAAI,gBAOlC,MAJ2B,AAIrB,EAJ8B,QAAQ,CAAC,SAAW,EAAS,QAAQ,CAAC,OACtE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAA8P,CAAC,CAChQ,CAAC,0BAA0B,EAAE,EAAA,CAAU,EAG3C,GAAS,EACX,CACF,EAGM,EAAgB,UACpB,GAAoB,GACpB,EAAmB,MAEnB,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,mBACvC,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,GAAI,EAAK,OAAO,EAAI,EAAK,SAAS,CAAE,CAClC,IAAM,EAAa,CACjB,MAAO,EAAK,SAAS,CAAC,KAAK,CAC3B,WAAY,EAAK,SAAS,CAAC,UAAU,CACrC,KAAM,EAAK,SAAS,CAAC,IAAI,AAC3B,EACM,EAAiB,gBAAgB,EAAA,OAAQ,EAC/C,EAAgB,EAAgB,GAChC,EAAY,GACZ,EAAmB,YACnB,QAAQ,GAAG,CAAC,gDACd,CACF,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,mCAAoC,EACpD,QAAU,CACR,GAAoB,EACtB,CACF,SAGA,AAAK,EAcA,EAdD,AAgDF,CAAA,EAAA,EAAA,EAhDc,CAgDd,EAAC,EAlCgB,IAkChB,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAEb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+CAAsC,cAGpD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAc,UAAW,EAAW,YAAa,IAGjD,AAAc,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,SAAU,EACV,gBAAiB,EACjB,iBAAkB,EAClB,MAAO,EACP,UAAW,EACX,OAAQ,EACR,iBAtOa,CAAC,AAsOI,EAtOE,EAAO,EAAU,EAAO,EAAa,IAAI,IACrE,IAAM,EAAO,gBAAgB,GAEhB,QAAQ,CAAjB,IACiB,MAAM,CAArB,EACF,EAAK,KAAK,CAAC,EAAM,CAAC,MAAM,CAAC,EAAW,CAAC,QAAQ,CAAG,SAAS,IAAU,EAEnE,EAAK,KAAK,CAAC,EAAM,CAAC,QAAQ,CAAG,SAAS,IAAU,GAIvC,SAAS,CAAlB,IACF,EAAK,IAAI,CAAC,EAAS,CAAC,EAAM,CAAC,QAAQ,CAAG,SAAS,KAAU,EAG3D,EAAY,GACZ,EAAS,GACX,IA0NqB,WAAd,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,OAAQ,EACR,cAAe,EACf,YAAa,EACb,UAAW,IAAM,GAAgB,EAAY,GAAM,IAAM,aA3D/D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oBAAoB,KAAK,OAAO,QAAQ,YAAY,OAAO,wBACxE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,6IAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2CAA2C,MAAO,CAAC,WAAY,uBAAuB,WAAG,kBAGvG,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,8GAG5C,GAAM,OACL,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kDAAwC,eACvC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAe,EAAK,KAAK,MAGzD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAO,IAAI,CAAC,KAC3B,UAAU,sGACX,sBApCP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8EACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,oCA2EzD"}