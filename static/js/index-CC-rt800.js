const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/index-DJ3Q1KNY.js","static/js/react-vendor-BwkbXqKG.js","static/js/vendor-BupaDLyo.js","static/js/fontawesome-vendor-BEuASCuQ.js","static/js/shared-utils-DkooxM7j.js","static/js/fabric-vendor-cjQCy6PH.js","static/js/filterHelpers-BdMq4J7p.js","static/js/index-CuP7Ro5G.js","static/js/index-BuspNHIi.js","static/js/index-BUllpKKS.js","static/js/index-Bbv_4C5e.js","static/js/stripe-vendor-C-FvrBRD.js","static/js/index-CI8O38x0.js","static/js/index-BG-K7cCh.js","static/js/filterFunctions-Dp9Hal9C.js","static/js/index-C8SQh6YJ.js","static/js/index-r_vwDWfs.js","static/js/index-B_0c1SEt.js","static/js/index-Ce8RMh0C.js","static/js/index-8H37yHbI.js","static/js/index-COa5r-Go.js","static/js/index-BB_SP04B.js","static/js/index-u4uso363.js","static/js/index-BzUy2elC.js","static/js/index-D46559Gi.js"])))=>i.map(i=>d[i]);
var He=Object.defineProperty,Ve=Object.defineProperties;var We=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var ye=(t,s,r)=>s in t?He(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,b=(t,s)=>{for(var r in s||(s={}))Ye.call(s,r)&&ye(t,r,s[r]);if(fe)for(var r of fe(s))Qe.call(s,r)&&ye(t,r,s[r]);return t},C=(t,s)=>Ve(t,We(s));var ce=(t,s,r)=>new Promise((m,c)=>{var d=i=>{try{o(r.next(i))}catch(h){c(h)}},a=i=>{try{o(r.throw(i))}catch(h){c(h)}},o=i=>i.done?m(i.value):Promise.resolve(i.value).then(d,a);o((r=r.apply(t,s)).next())});import{r as p,j as e,F as I,L as R,u as he,a as Se,B as Ke,R as Ge,b as P,c as Ze,d as Je}from"./react-vendor-BwkbXqKG.js";import{f as Te,a as _e,b as Pe,c as Re,d as Q,e as Le,g as Xe,h as me,j as et,k as tt,l as st,m as rt}from"./fontawesome-vendor-BEuASCuQ.js";import{g as re,a as oe,n as F,P as at}from"./shared-utils-DkooxM7j.js";import"./vendor-BupaDLyo.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))m(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const a of d.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&m(a)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function m(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();const nt="modulepreload",ot=function(t){return"/"+t},be={},z=function(s,r,m){let c=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));c=Promise.allSettled(r.map(i=>{if(i=ot(i),i in be)return;be[i]=!0;const h=i.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${g}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":nt,h||(f.as="script"),f.crossOrigin="",f.href=i,o&&f.setAttribute("nonce",o),document.head.appendChild(f),h)return new Promise((v,y)=>{f.addEventListener("load",v),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${i}`)))})}))}function d(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return c.then(a=>{for(const o of a||[])o.status==="rejected"&&d(o.reason);return s().catch(d)})},Ae=p.createContext(),le=()=>{const t=p.useContext(Ae);if(!t)throw new Error("useCurrency must be used within a CurrencyProvider");return t},je={GBP:1,USD:1.27,EUR:1.17,CAD:1.72,AUD:1.92,BRL:6.35,PLN:5.05,CZK:29.5,HUF:450,RON:5.85,BGN:2.29,DKK:8.7,SEK:13.2,CHF:1.12,NOK:13.5},de={GBP:"Â£",USD:"$",EUR:"â‚¬",CAD:"C$",AUD:"A$",BRL:"R$",PLN:"zÅ‚",CZK:"KÄ",HUF:"Ft",RON:"lei",BGN:"Ð»Ð²",DKK:"kr",SEK:"kr",CHF:"CHF",NOK:"kr"},lt=({children:t})=>{const[s,r]=p.useState(()=>localStorage.getItem("selectedCurrency")||"GBP");p.useEffect(()=>{localStorage.setItem("selectedCurrency",s)},[s]);const m=a=>{const o=je[s]||1;return a*o},d={currency:s,setCurrency:r,convertPrice:m,formatPrice:(a,o=2)=>{const i=m(a);return`${de[s]||"Â£"}${i.toFixed(o)}`},currencySymbol:de[s]||"Â£",exchangeRates:je,currencySymbols:de};return e.jsx(Ae.Provider,{value:d,children:t})},Oe=({isMobile:t=!1})=>{const s=t?"text-xl":"text-md",r=t?"flex gap-4":"hidden md:flex items-center gap-4";return e.jsxs("div",{className:r,children:[e.jsx("a",{href:"https://instagram.com/thehappycase.store",target:"_blank",rel:"noopener noreferrer",className:`${t?"w-10 h-10 flex items-center justify-center":""} transition-opacity hover:opacity-80`,"aria-label":"Follow us on Instagram",children:e.jsx(I,{icon:Te,className:s,style:{color:"#E4405F"}})}),e.jsx("a",{href:"https://tiktok.com/@thehappycase.store",target:"_blank",rel:"noopener noreferrer",className:`${t?"w-10 h-10 flex items-center justify-center":""} transition-opacity hover:opacity-80`,"aria-label":"Follow us on TikTok",children:e.jsx(I,{icon:_e,className:s,style:{color:"#000000"}})}),e.jsx("a",{href:"https://facebook.com/thehappycase",target:"_blank",rel:"noopener noreferrer",className:`${t?"w-10 h-10 flex items-center justify-center":""} transition-opacity hover:opacity-80`,"aria-label":"Follow us on Facebook",children:e.jsx(I,{icon:Pe,className:s,style:{color:"#1877F2"}})}),e.jsx("a",{href:"https://www.etsy.com/shop/TheHappyCaseShop?ref=dashboard-header",target:"_blank",rel:"noopener noreferrer",className:`${t?"w-10 h-10 flex items-center justify-center":""} transition-opacity hover:opacity-80`,"aria-label":"Visit our Etsy shop",children:e.jsx(I,{icon:Re,className:s,style:{color:"#F45800"}})})]})},it={GBP:"UK",USD:"USA",EUR:"Euro",BRL:"Brazil",CAD:"Canada",AUD:"Australia",PLN:"Poland",CZK:"Czech Republic",HUF:"Hungary",RON:"Romania",BGN:"Bulgaria",DKK:"Denmark",SEK:"Sweden",CHF:"Switzerland",NOK:"Norway"},ct={GBP:"ðŸ‡¬ðŸ‡§",USD:"ðŸ‡ºðŸ‡¸",EUR:"ðŸ‡ªðŸ‡º",BRL:"ðŸ‡§ðŸ‡·",CAD:"ðŸ‡¨ðŸ‡¦",AUD:"ðŸ‡¦ðŸ‡º",PLN:"ðŸ‡µðŸ‡±",CZK:"ðŸ‡¨ðŸ‡¿",HUF:"ðŸ‡­ðŸ‡º",RON:"ðŸ‡·ðŸ‡´",BGN:"ðŸ‡§ðŸ‡¬",DKK:"ðŸ‡©ðŸ‡°",SEK:"ðŸ‡¸ðŸ‡ª",CHF:"ðŸ‡¨ðŸ‡­",NOK:"ðŸ‡³ðŸ‡´"},ve=[{code:"PLN",symbol:"zÅ‚",name:"Poland",flag:"ðŸ‡µðŸ‡±"},{code:"CZK",symbol:"KÄ",name:"Czech Republic",flag:"ðŸ‡¨ðŸ‡¿"},{code:"HUF",symbol:"Ft",name:"Hungary",flag:"ðŸ‡­ðŸ‡º"},{code:"RON",symbol:"lei",name:"Romania",flag:"ðŸ‡·ðŸ‡´"},{code:"BGN",symbol:"Ð»Ð²",name:"Bulgaria",flag:"ðŸ‡§ðŸ‡¬"},{code:"DKK",symbol:"kr",name:"Denmark",flag:"ðŸ‡©ðŸ‡°"},{code:"SEK",symbol:"kr",name:"Sweden",flag:"ðŸ‡¸ðŸ‡ª"},{code:"CHF",symbol:"Fr",name:"Switzerland",flag:"ðŸ‡¨ðŸ‡­"},{code:"NOK",symbol:"kr",name:"Norway",flag:"ðŸ‡³ðŸ‡´"}],Ne=[{code:"GBP",symbol:"Â£",name:"UK",flag:"ðŸ‡¬ðŸ‡§"},{code:"USD",symbol:"$",name:"USA",flag:"ðŸ‡ºðŸ‡¸"},{code:"EUR",symbol:"â‚¬",name:"Euro",flag:"ðŸ‡ªðŸ‡º"},{code:"BRL",symbol:"R$",name:"Brazil",flag:"ðŸ‡§ðŸ‡·"},{code:"CAD",symbol:"C$",name:"Canada",flag:"ðŸ‡¨ðŸ‡¦"},{code:"AUD",symbol:"A$",name:"Australia",flag:"ðŸ‡¦ðŸ‡º"}],ze=({variant:t="desktop",onSelect:s})=>{const{currency:r,setCurrency:m,currencySymbol:c}=le(),[d,a]=p.useState(!1),[o,i]=p.useState(!1),h=p.useRef(null),g=()=>{const n=ct[r]||"",N=it[r]||r;return`${n} ${c} ${r} - ${N}`},f=n=>{m(n),a(!1),i(!1),s&&s()},v=()=>a(!d);p.useEffect(()=>{const n=N=>{d&&h.current&&!h.current.contains(N.target)&&(a(!1),i(!1))};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[d]);const y=t==="mobile",u=["PLN","CZK","HUF","RON","BGN","DKK","SEK","CHF","NOK"].includes(r);return y?e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{onClick:n=>{n.stopPropagation(),v()},className:`w-full text-left hover:text-gray-900 font-light transition-all duration-200 flex items-center justify-between text-sm uppercase tracking-wider font-inter ${d?"bg-gray-50":""}`,style:{color:"#6b7280"},children:[e.jsx("span",{children:g()}),e.jsx(I,{icon:Q,className:`ml-2 text-base transition-transform duration-200 ${d?"rotate-180":""}`})]}),d&&e.jsxs("div",{className:"bg-gray-50 border-t border-gray-100 transition-all duration-200 max-h-[70vh] overflow-y-auto w-full mt-1",onClick:n=>n.stopPropagation(),children:[Ne.map(n=>e.jsx("button",{onClick:N=>{N.stopPropagation(),f(n.code)},className:`w-full text-left px-8 py-2.5 text-sm transition-colors font-light font-inter ${r===n.code?"bg-gray-100":"hover:bg-gray-100"}`,style:{color:r===n.code?"#111827":"#374151"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:n.flag}),e.jsxs("span",{children:[n.symbol," ",n.code]})]}),n.name!=="Euro"&&e.jsx("span",{className:"text-sm text-gray-500 font-light",children:n.name})]})},n.code)),e.jsxs("div",{children:[e.jsxs("button",{onClick:n=>{n.stopPropagation(),i(!o)},className:`w-full text-left px-8 py-2.5 text-sm transition-colors font-light font-inter ${u?"bg-gray-100":"hover:bg-gray-100"} flex items-center justify-between`,style:{color:u?"#111827":"#374151"},children:[e.jsx("div",{className:"flex items-center justify-between flex-1",children:e.jsx("span",{className:"text-sm text-gray-500 font-light",children:"Other European Countries"})}),e.jsx(I,{icon:Q,className:`ml-2 text-base transition-transform duration-200 ${o?"rotate-180":""}`})]}),o&&e.jsx("div",{className:"pl-8 max-h-64 overflow-y-auto",onClick:n=>n.stopPropagation(),children:ve.map(n=>e.jsxs("button",{onClick:N=>{N.stopPropagation(),f(n.code)},className:`w-full text-left px-4 py-2 text-sm transition-colors font-light font-inter ${r===n.code?"bg-gray-100":"hover:bg-gray-100"} flex items-center justify-between`,style:{color:r===n.code?"#111827":"#374151"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:n.flag}),e.jsxs("span",{children:[n.symbol," ",n.code]})]}),e.jsx("span",{className:"text-sm text-gray-500 font-light",children:n.name})]},n.code))})]})]})]}):e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{onClick:n=>{n.stopPropagation(),v()},className:"px-2 md:px-3 py-1 text-gray-700 hover:text-gray-900 focus:outline-none transition-colors flex items-center text-[12px] md:text-xs font-inter","aria-label":"Select currency",children:[e.jsx("span",{className:"mr-1 whitespace-nowrap",children:g()}),e.jsx(I,{icon:Q,className:`text-[6px] md:text-xs transition-transform ml-1 ${d?"rotate-180":""}`})]}),d&&e.jsxs("div",{className:"absolute right-0 mt-2 bg-white min-w-40 max-h-[80vh] overflow-y-auto",style:{zIndex:9999},onClick:n=>n.stopPropagation(),children:[Ne.map(n=>e.jsx("button",{onClick:N=>{N.stopPropagation(),f(n.code)},className:`w-full text-left px-4 py-2 text-xs transition-colors font-inter ${r===n.code?"bg-gray-50":"hover:bg-gray-50"}`,style:{color:r===n.code?"#111827":"#6b7280"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:n.flag}),e.jsxs("span",{children:[n.symbol," ",n.code]})]}),n.name!=="Euro"&&e.jsx("span",{className:"text-xs text-gray-500",children:n.name})]})},n.code)),e.jsxs("div",{children:[e.jsxs("button",{onClick:n=>{n.stopPropagation(),i(!o)},className:`w-full text-left px-4 py-2 text-xs transition-colors font-inter ${u?"bg-gray-50 font-medium":"hover:bg-gray-50"} flex items-center justify-between`,style:{color:u?"#111827":"#6b7280"},children:[e.jsx("div",{className:"flex items-center justify-between flex-1",children:e.jsx("span",{className:"text-xs text-gray-500",children:"Other European Countries"})}),e.jsx(I,{icon:Q,className:`ml-2 text-xs transition-transform ${o?"rotate-180":""}`})]}),o&&e.jsx("div",{className:"pl-4 ml-2 max-h-64 overflow-y-auto",onClick:n=>n.stopPropagation(),children:ve.map(n=>e.jsxs("button",{onClick:N=>{N.stopPropagation(),f(n.code)},className:`w-full text-left px-3 py-1.5 text-xs transition-colors font-inter ${r===n.code?"bg-gray-50 font-medium":"hover:bg-gray-50"} flex items-center justify-between`,style:{color:r===n.code?"#111827":"#6b7280"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:n.flag}),e.jsxs("span",{children:[n.symbol," ",n.code]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:n.name})]},n.code))})]})]})]})},dt=()=>{const{formatPrice:t}=le(),[s,r]=p.useState(0),m=p.useMemo(()=>["ðŸŒ SHIP TO EUROPE, USA, AND UK","ðŸ”’ WEBSITE 100% SAFE","â¤ï¸ MADE WITH LOVE "],[t]);return p.useEffect(()=>{const c=setInterval(()=>{r(d=>(d+1)%m.length)},3e3);return()=>clearInterval(c)},[m.length]),e.jsx("div",{className:"text-gray-700 text-center py-2 px-4 relative bg-yellow-100 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[e.jsx("div",{className:"lg:w-20"}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"text-xs font-light font-inter",children:m[s]},s)}),e.jsxs("div",{className:"hidden md:flex items-center justify-end gap-2 md:gap-6",children:[e.jsx(Oe,{}),e.jsx(ze,{variant:"desktop"})]})]})})},$e=()=>e.jsxs(R,{to:"/",className:"hover:opacity-90 transition-opacity duration-300","aria-label":"HappyCase home",children:[e.jsx("img",{src:"/assets/logo.webp",alt:"The Happy Case Logo",className:"h-10 w-auto lg:hidden",loading:"lazy"}),e.jsxs("div",{className:"hidden lg:flex flex-col cursor-pointer transition-all duration-300 text-gray-900 font-inter",children:[e.jsx("span",{className:"text-[9px] font-light leading-tight text-gray-900 font-inter tracking-title uppercase",children:"THE"}),e.jsx("span",{className:"text-2xl md:text-3xl lg:text-4xl font-bold  text-blue-900",children:"HAPPY"}),e.jsx("span",{className:"text-end text-[10px] font-light leading-tight text-gray-900 font-inter tracking-title uppercase",children:"CASE"})]})]}),Fe=({isMobile:t=!1,onLinkClick:s})=>{const r=t?"px-4 py-3 hover:text-gray-900 hover:bg-gray-50 font-light block transition-colors text-sm uppercase tracking-wider hover:border-b-2 hover:border-blue-500":"px-3 py-1.5 hover:text-gray-900 font-light block transition-all duration-200 text-sm uppercase tracking-wider text-gray-600 hover:border-b-2 hover:border-blue-500",m=[{to:"/",label:"Home"},{to:"/CreateYours",label:"Create Yours"},{to:"/PassportCases",label:"Passport Cases"},{to:"/Charms",label:"Charms"}];return t?e.jsx("ul",{className:"flex flex-col space-y-1 font-inter",children:m.map(c=>e.jsx("li",{children:e.jsx(R,{to:c.to,className:r,style:{color:"#6b7280"},onClick:s,children:c.label})},c.to))}):e.jsx("ul",{className:"hidden lg:flex lg:items-center lg:space-x-1 flex-1 justify-center font-inter",children:m.map(c=>e.jsx("li",{children:e.jsx(R,{to:c.to,className:r,children:c.label})},c.to))})},ae="happycase_cart",Me=p.createContext(),mt=(t,s)=>{switch(s.type){case"ADD_TO_CART":const r=C(b({},s.payload),{id:s.payload.id||Date.now(),quantity:s.payload.quantity||1}),m=t.items.findIndex(a=>oe(a,r));if(m!==-1){const a=t.items[m],o=re(a,t.items),i=a.quantity||1,h=i+(r.quantity||1),g=r.quantity||1;if(o!==null&&(o===0||g>o))return t;const f=C(b({},a),{quantity:h}),v=t.items.map((y,u)=>u===m?f:y);return console.log("âœ… CartContext - Item quantity incremented in cart:",{itemName:f.name,oldQuantity:i,newQuantity:h,item:f,allItemsInCart:v.map((y,u)=>({itemNumber:u+1,name:y.name,type:y.type,category:y.category,quantity:y.quantity,price:y.price,caseType:y.caseType,color:y.color,customDesign:y.customDesign,pin:y.pin?{name:y.pin.name,src:y.pin.src,category:y.pin.category}:null}))}),C(b({},t),{items:v,isDrawerOpen:!0})}else{const a=re(r,t.items),o=r.quantity||1;if(a!==null&&(a===0||o>a))return t;const i=C(b({},r),{quantity:r.quantity||1}),h=[...t.items,i];return console.log("âœ… CartContext - Item successfully added to cart state:",{item:C(b({},i),{designImage:i.designImage?i.designImage.startsWith("data:")?`data URL (${i.designImage.length} chars)`:i.designImage:"none",caseImage:i.caseImage||"none",image:i.image?i.image.startsWith("data:")?`data URL (${i.image.length} chars)`:i.image:"none"}),cartSize:h.length,allItemsInCart:h.map((g,f)=>({itemNumber:f+1,name:g.name||g.caseName,type:g.type,category:g.category,quantity:g.quantity,price:g.price,caseType:g.caseType,color:g.color,customDesign:g.customDesign,hasDesignImage:!!g.designImage,hasCaseImage:!!g.caseImage,hasImage:!!g.image,pin:g.pin?{name:g.pin.name,src:g.pin.src,category:g.pin.category}:null}))}),C(b({},t),{items:h,isDrawerOpen:!0})}case"REMOVE_FROM_CART":return C(b({},t),{items:t.items.filter((a,o)=>o!==s.payload)});case"CLEAR_CART":try{localStorage.removeItem(ae)}catch(a){console.error("Error clearing cart from localStorage:",a)}return C(b({},t),{items:[]});case"OPEN_CART_DRAWER":return C(b({},t),{isDrawerOpen:!0});case"CLOSE_CART_DRAWER":return C(b({},t),{isDrawerOpen:!1});case"INCREMENT_ITEM_QTY":console.log("ðŸ”„ INCREMENT_ITEM_QTY reducer called:",{payload:s.payload,payloadType:typeof s.payload,itemsCount:t.items.length});const c=t.items.map((a,o)=>{let i=!1;if(typeof s.payload=="string"?i=a.id!==void 0&&a.id===s.payload:typeof s.payload=="number"&&(i=o===s.payload),i){console.log("âœ… Item matched in reducer:",{name:a.name||a.caseName,id:a.id,index:o,currentQty:a.quantity});const h=re(a,t.items),g=a.quantity||1;if(h===null||h>0){const f=C(b({},a),{quantity:g+1});return console.log("âœ… Incrementing quantity:",{oldQty:g,newQty:f.quantity}),f}else console.log("âš ï¸ Inventory limit reached, not incrementing")}return a});return console.log("ðŸ“¦ Updated cart after increment:",c.map((a,o)=>({index:o,name:a.name||a.caseName,qty:a.quantity}))),C(b({},t),{items:c});case"DECREMENT_ITEM_QTY":console.log("ðŸ”„ DECREMENT_ITEM_QTY reducer called:",{payload:s.payload,payloadType:typeof s.payload,itemsCount:t.items.length});const d=t.items.map((a,o)=>{let i=!1;if(typeof s.payload=="string"?i=a.id!==void 0&&a.id===s.payload:typeof s.payload=="number"&&(i=o===s.payload),i){const h=a.quantity||1;if(h>1){const g=C(b({},a),{quantity:h-1});return console.log("âœ… Decrementing quantity:",{name:a.name||a.caseName,id:a.id,index:o,oldQty:h,newQty:g.quantity}),g}else console.log("âš ï¸ Quantity already at minimum (1), not decrementing")}return a});return console.log("ðŸ“¦ Updated cart after decrement:",d.map((a,o)=>({index:o,name:a.name||a.caseName,qty:a.quantity}))),C(b({},t),{items:d});case"SET_CHECKOUT_SESSION":return C(b({},t),{checkoutSession:s.payload});case"UPDATE_ITEM_NOTE":return C(b({},t),{items:t.items.map((a,o)=>o===s.payload.index?C(b({},a),{note:s.payload.note}):a)});default:return t}},ht=()=>{try{const t=localStorage.getItem(ae);if(t){const s=JSON.parse(t);if(Array.isArray(s))return console.log("ðŸ“¦ Cart loaded from localStorage:",{itemCount:s.length,items:s.map((r,m)=>({index:m,id:r.id,name:r.name||r.caseName,customDesign:r.customDesign,hasDesignImage:!!r.designImage,designImageType:r.designImage?r.designImage.startsWith("data:")?"data URL":"file path":"none",designImageLength:r.designImage?r.designImage.length:0,hasCaseImage:!!r.caseImage,hasImage:!!r.image}))}),s}}catch(t){console.error("Error loading cart from localStorage:",t),localStorage.removeItem(ae)}return[]},xt={items:ht(),checkoutSession:null,isDrawerOpen:!1},gt=({children:t})=>{const[s,r]=p.useReducer(mt,xt);p.useEffect(()=>{try{s.items&&s.items.length>0?localStorage.setItem(ae,JSON.stringify(s.items)):localStorage.removeItem(ae)}catch(u){console.error("Error saving cart to localStorage:",u)}},[s.items]);const m=u=>{console.log("ðŸ›’ Adding item to cart:",{name:u.name,type:u.type,category:u.category,price:u.price,quantity:u.quantity||1,caseType:u.caseType,color:u.color,pins:u.pins?`${u.pins.length} pins`:"no pins",pinsDetails:u.pinsDetails?`${u.pinsDetails.length} pinsDetails`:"no pinsDetails",customDesign:u.customDesign,pin:u.pin?{name:u.pin.name,src:u.pin.src,category:u.pin.category}:"no pin",fullProduct:u}),r({type:"ADD_TO_CART",payload:u})},c=u=>{r({type:"REMOVE_FROM_CART",payload:u})},d=()=>{r({type:"CLEAR_CART"})},a=()=>{r({type:"OPEN_CART_DRAWER"})},o=()=>{r({type:"CLOSE_CART_DRAWER"})},i=u=>{r({type:"SET_CHECKOUT_SESSION",payload:u})},h=(u,n)=>{r({type:"UPDATE_ITEM_NOTE",payload:{index:u,note:n}})},g=()=>s.items.reduce((u,n)=>{let N=0;if(n.type==="charm")N=(n.price||n.totalPrice||0)*(n.quantity||1);else{const U=typeof n.basePrice=="number"?n.basePrice:n.price||n.totalPrice||0,K=n.pinsDetails&&n.pinsDetails.length?n.pinsDetails.reduce((J,w)=>J+(w.price||0),0):0;N=(U+K)*(n.quantity||1)}return u+N},0),f=()=>s.items.length,v=()=>s.items.reduce((u,n)=>u+(n.quantity||1),0),y={cart:s.items,checkoutSession:s.checkoutSession,isDrawerOpen:s.isDrawerOpen,addToCart:m,removeFromCart:c,clearCart:d,openCartDrawer:a,closeCartDrawer:o,incrementItemQty:u=>r({type:"INCREMENT_ITEM_QTY",payload:u}),decrementItemQty:u=>r({type:"DECREMENT_ITEM_QTY",payload:u}),setCheckoutSession:i,updateItemNote:h,getTotalPrice:g,getTotalItems:f,getTotalQuantity:v};return e.jsx(Me.Provider,{value:y,children:t})},qe=()=>{const t=p.useContext(Me);if(!t)throw new Error("useCart must be used within a CartProvider");return t},we=({isMobile:t=!1})=>{const{getTotalQuantity:s}=qe(),r=s();return e.jsxs(R,{to:"/cart",className:`${t?"flex md:hidden":"hidden md:flex"} items-center p-2 text-gray-900 hover:text-gray-700 relative transition-colors z-10`,"aria-label":"Go to cart",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",className:"w-6 h-6",fill:"currentColor",children:e.jsx("path",{d:"M8 64C3.6 64 0 67.6 0 72C0 76.4 3.6 80 8 80L53.7 80C65.1 80 75 88.1 77.2 99.4L136.6 402.8C141.7 429.1 164.8 448 191.6 448L488 448C492.4 448 496 444.4 496 440C496 435.6 492.4 432 488 432L191.5 432C172.4 432 155.9 418.5 152.2 399.7L142.9 352L461.2 352C494.7 352 523.7 328.9 531.3 296.4L566.6 145.1C572.5 120 553.4 96 527.7 96L92.8 96C89 77.4 72.7 64 53.7 64L8 64zM96 112L527.7 112C543.2 112 554.6 126.4 551.1 141.5L515.8 292.7C509.9 318 487.3 336 461.3 336L139.8 336L96 112zM176 528C176 510.3 190.3 496 208 496C225.7 496 240 510.3 240 528C240 545.7 225.7 560 208 560C190.3 560 176 545.7 176 528zM256 528C256 501.5 234.5 480 208 480C181.5 480 160 501.5 160 528C160 554.5 181.5 576 208 576C234.5 576 256 554.5 256 528zM432 496C449.7 496 464 510.3 464 528C464 545.7 449.7 560 432 560C414.3 560 400 545.7 400 528C400 510.3 414.3 496 432 496zM432 576C458.5 576 480 554.5 480 528C480 501.5 458.5 480 432 480C405.5 480 384 501.5 384 528C384 554.5 405.5 576 432 576z"})}),r>0&&e.jsx("span",{className:`absolute top-0 right-0 bg-gray-900 text-white ${t?"text-sm":"text-xs"} rounded-full ${t?"h-6 w-6":"h-5 w-5"} flex items-center justify-center font-light`,children:r})]})},Ce=({isMobile:t=!1})=>e.jsx(R,{to:"/login",className:`${t?"hidden":"hidden lg:flex"} items-center p-1.5 text-gray-800 hover:text-gray-600 transition-colors z-10`,"aria-label":"Log in or create an account",children:e.jsx(I,{icon:Le,className:"w-5 h-5",style:{filter:"opacity(0.85)",transform:"scale(0.9)"}})}),ke=({isMobile:t=!1})=>e.jsx("a",{href:"https://wa.me/447450437243",target:"_blank",rel:"noopener noreferrer",className:`${t?"flex md:hidden":"hidden md:flex"} items-center p-2 text-gray-800 hover:text-green-600 transition-colors z-10`,"aria-label":"Contact us on WhatsApp",children:e.jsx(I,{icon:Xe,className:"w-6 h-6",style:{filter:"opacity(0.85)",transform:"scale(0.9)"}})}),ut=({isOpen:t,onClick:s})=>e.jsx("button",{onClick:s,className:"lg:hidden text-gray-600 hover:text-gray-900 focus:outline-none transition-colors","aria-label":"Toggle menu",children:t?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M4 6h16M4 12h16M4 18h16"})})}),pt=({isOpen:t,onClose:s})=>t?e.jsxs("div",{className:"flex flex-col fixed left-0 top-0 w-[70%] bg-white border-r border-gray-100 font-light z-50 shadow-lg font-inter",style:{height:"100vh",maxHeight:"100vh"},children:[e.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",style:{WebkitOverflowScrolling:"touch",scrollBehavior:"smooth"},children:e.jsxs("ul",{className:"flex flex-col space-y-1 pb-4",children:[e.jsxs("li",{className:"px-4 py-4 flex items-center justify-between flex-shrink-0",children:[e.jsx("div",{onClick:s,className:"scale-125",children:e.jsx($e,{})}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-900 focus:outline-none transition-colors","aria-label":"Close menu",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("li",{children:e.jsxs(R,{to:"/login",onClick:s,className:"px-4 py-3 hover:text-gray-900 hover:bg-gray-50 font-light transition-colors text-sm bg-yellow-100 tracking-wider border-b border-gray-100 flex items-center gap-3",style:{color:"#6b7280"},children:[e.jsx(I,{icon:Le,className:"text-sm"}),e.jsx("span",{className:"font-inter",children:"Log in or create an account"})]})}),e.jsx(Fe,{isMobile:!0,onLinkClick:s})]})}),e.jsxs("div",{className:"flex-shrink-0 bg-white ",style:{paddingBottom:"max(1.5rem, calc(1.5rem + env(safe-area-inset-bottom)))",position:"sticky",bottom:0},children:[e.jsx("div",{className:"pt-4",children:e.jsxs("div",{className:"px-4",children:[e.jsx("p",{className:"py-3 hover:text-gray-900 font-light text-sm uppercase",children:"Follow Us"}),e.jsx(Oe,{isMobile:!0})]})}),e.jsx("div",{className:"relative px-4 py-3 border-t border-gray-100",children:e.jsx(ze,{variant:"mobile",onSelect:s})})]})]}):null,ft=()=>{const[t,s]=p.useState(!1),r=()=>s(!t),m=()=>s(!1);return p.useEffect(()=>{if(t){const c=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${c}px`,document.body.style.width="100%",document.body.style.overflow="hidden",()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflow="",window.scrollTo(0,c)}}},[t]),e.jsxs(e.Fragment,{children:[e.jsx(dt,{}),e.jsxs("nav",{className:"flex bg-white border-b border-gray-100 justify-between items-center px-4 py-2 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:flex-none",children:[e.jsx(ut,{isOpen:t,onClick:r}),e.jsx($e,{})]}),e.jsx(Fe,{isMobile:!1}),e.jsxs("div",{className:"flex items-center md:gap-2 md:hidden",children:[e.jsx(Ce,{isMobile:!0}),e.jsx(ke,{isMobile:!0}),e.jsx(we,{isMobile:!0})]}),e.jsx(pt,{isOpen:t,onClose:m}),e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx(Ce,{isMobile:!1}),e.jsx(ke,{isMobile:!1}),e.jsx(we,{isMobile:!1})]})]})]})},V=({children:t,className:s="",delay:r=0})=>{const[m,c]=p.useState(!1);return p.useEffect(()=>{const d=setTimeout(()=>{c(!0)},100+r);return()=>clearTimeout(d)},[r]),e.jsx("span",{className:`block overflow-hidden ${s}`,style:{clipPath:m?"polygon(0 0, 100% 0, 100% 100%, 0 100%)":"polygon(0 100%, 100% 100%, 100% 100%, 0 100%)",transition:"clip-path 1.2s cubic-bezier(0.4, 0, 0.2, 1)",transitionDelay:`${r}ms`},children:t})},yt=F("/assets/videos/hero.webm");function bt(){const t=p.useRef(null),s=he(),[r,m]=p.useState(!1),[c,d]=p.useState(!1),[a,o]=p.useState(!1),i=()=>{window.scrollTo({top:0,behavior:"instant"}),s("/CreateYours")};return p.useEffect(()=>{const h=setTimeout(()=>{m(!0)},1700);return()=>clearTimeout(h)},[]),p.useEffect(()=>{const h=t.current;if(!h)return;let g,f=!0,v=!1,y=!1;g=setTimeout(()=>{f&&!v&&!y&&(console.warn("Video loading timeout - continuing without video"),y=!0,o(!0))},5e3);const u=()=>{h.readyState>=2&&(h.playbackRate=.5)},n=()=>ce(this,null,function*(){if(f)try{u(),yield h.play(),f&&(v=!0,d(!0)),clearTimeout(g)}catch(K){f&&(v=!0,d(!0)),clearTimeout(g)}}),N=()=>{f&&(v=!0,d(!0),clearTimeout(g),n())},U=()=>{f&&(y=!0,o(!0),clearTimeout(g))};return h.addEventListener("loadedmetadata",u,{once:!0}),h.addEventListener("canplay",N,{once:!0}),h.addEventListener("canplaythrough",N,{once:!0}),h.addEventListener("error",U,{once:!0}),h.readyState===0?h.load():h.readyState>=2&&N(),()=>{f=!1,clearTimeout(g),h.removeEventListener("loadedmetadata",u),h.removeEventListener("canplay",N),h.removeEventListener("canplaythrough",N),h.removeEventListener("error",U)}},[]),e.jsxs("section",{className:"w-full h-[80vh] md:h-[80vh] relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsxs("video",{ref:t,autoPlay:!0,muted:!0,playsInline:!0,loop:!0,preload:"metadata",className:"w-full h-full object-cover",onError:h=>{console.error("âŒ Video error:",h),console.error("âŒ Video src:",h.target.src),console.error("âŒ Video error details:",h.target.error),o(!0)},onLoadedData:()=>{d(!0)},style:{zIndex:1,minHeight:"100vh",minWidth:"100vw",opacity:c?1:0,transition:"opacity 0.5s ease-in"},children:[e.jsx("source",{src:yt,type:"video/mp4"}),"Your browser does not support the video tag."]}),a&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-br from-blue-900 to-blue-700 z-0"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 z-10"})]}),e.jsx("div",{className:"relative z-20 h-full flex items-end justify-center lg:justify-start",children:e.jsxs("div",{className:"flex flex-col items-center text-center lg:items-start lg:text-left px-4 mb-10 lg:px-10 lg:ml-10",children:[e.jsx("h1",{className:"text-title sm:text-title-lg md:text-title-xl lg:text-title-xl font-light text-white font-inter tracking-title",style:{textShadow:"2px 2px 8px rgba(0, 0, 0, 0.7)"},children:e.jsx(V,{delay:100,children:"Create Your Own Custom"})}),e.jsx("h1",{className:"text-title sm:text-title-lg md:text-title-xl lg:text-title-xl font-light text-white mb-4 font-inter tracking-title",style:{textShadow:"2px 2px 8px rgba(0, 0, 0, 0.7)"},children:e.jsx(V,{delay:300,children:"Passport Case"})}),e.jsx("button",{onClick:i,className:`px-8 py-3 text-sm uppercase tracking-wider shadow-lg w-fit font-inter bg-btn-primary-blue hover:bg-btn-primary-blue-hover text-btn-primary-blue-text border border-btn-primary-blue-border hover:border-btn-primary-blue-hover transition-opacity duration-700 ease-out ${r?"opacity-100":"opacity-0"}`,children:"Shop Now"})]})})]})}const Ee=["/images/designideas/designidea.webp","/images/designideas/designidea1.webp","/images/designideas/designidea2.webp","/images/designideas/designidea3.webp","/images/designideas/designidea4.webp"],ie=(t={})=>{const[s,r]=p.useState(!1),m=p.useRef(null),{threshold:c=.1,rootMargin:d="0px",triggerOnce:a=!0}=t;return p.useEffect(()=>{const o=m.current;if(!o)return;const i=new IntersectionObserver(([h])=>{h.isIntersecting?(r(!0),a&&i.unobserve(o)):a||r(!1)},{threshold:c,rootMargin:d});return i.observe(o),()=>{o&&i.unobserve(o)}},[c,d,a]),[m,s]},jt=({images:t})=>{const[s,r]=p.useState(new Set),[m,c]=ie({threshold:.1}),d=["Colorful Charms","Bronze Charms","Mixed Charms","Flags"];return p.useEffect(()=>{if(!c)return;const a=[];return t.forEach((o,i)=>{const h=500+i*100,g=setTimeout(()=>{r(f=>new Set([...f,i]))},h);a.push(g)}),()=>{a.forEach(o=>clearTimeout(o))}},[t,c]),e.jsx("div",{ref:m,className:"w-full mb-12 md:mb-16",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-2 w-full px-0",children:t.map((a,o)=>{const i=s.has(o);return e.jsxs("div",{className:`group bg-white transition-all duration-700 ease-out  overflow-hidden ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[e.jsx("div",{className:"relative w-full aspect-square overflow-hidden sm:min-h-[300px] ",children:e.jsx("img",{src:F(a),className:"absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",alt:`Design Idea ${o+1}`,loading:o<2?"eager":"lazy",fetchPriority:o<2?"high":"auto",decoding:"async",width:"400",height:"400"})}),e.jsx("div",{className:"bg-white py-3 md:py-4",children:e.jsx("p",{className:"text-gray-900 text-center text-md md:text-base font-light leading-tight font-inter",children:d[o]||""})})]},o)})})})},vt=({image:t})=>{const[s,r]=ie({threshold:.1}),[m,c]=p.useState(0),d=F(t),a="The Perfect Gift for Every Moment",o="Created with love for all the travelers who carry their stories around the world.";return p.useEffect(()=>{if(!r)return;const i=25,h=2e3,g=60,f=i/g,v=h/g;let y=0;const u=setInterval(()=>{y++;const n=Math.min(Math.floor(f*y),i);c(n),n>=i&&(clearInterval(u),c(i))},v);return()=>clearInterval(u)},[r]),e.jsxs("div",{ref:s,className:"w-full flex flex-col md:flex-row items-stretch",children:[e.jsxs("div",{className:"relative w-full md:w-1/2 h-[400px] sm:h-[450px] md:h-[650px] lg:h-[700px] xl:h-[750px] overflow-hidden bg-gray-100",children:[e.jsx("img",{src:d,className:"absolute inset-0 w-full h-full object-cover",alt:"Perfect Gift",loading:"lazy",fetchPriority:"low",decoding:"async",width:"1200",height:"800",onError:i=>{i.target.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/40 to-black/60 md:hidden flex items-center justify-center z-10",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 max-w-4xl text-center space-y-4 sm:space-y-5",children:[e.jsx("h2",{className:"text-subtitle-lg font-light text-white mb-4 sm:mb-5 font-inter tracking-title",style:{textShadow:"2px 2px 8px rgba(0, 0, 0, 0.5)"},children:r&&e.jsx(V,{delay:100,children:a})}),e.jsx("p",{className:"text-lg text-white leading-relaxed font-light font-inter px-2 sm:px-4 mb-6",style:{textShadow:"1px 1px 4px rgba(0, 0, 0, 0.5)"},children:o}),r&&e.jsxs("div",{className:"flex flex-col items-center gap-4 text-white mt-6",style:{textShadow:"2px 2px 8px rgba(0, 0, 0, 0.7)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-2xl font-light font-inter",children:[m,"+"]}),e.jsx("span",{className:"text-sm font-light font-inter",children:"Happy Customers"})]}),e.jsxs("a",{href:"https://www.etsy.com/shop/TheHappyCaseShop?ref=dashboard-header",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[e.jsx("span",{className:"text-sm font-light font-inter",children:"Reviews on Etsy"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})]}),e.jsx("div",{className:"hidden md:flex md:w-1/2 items-center justify-center bg-white",children:e.jsxs("div",{className:"container mx-auto px-6 md:px-8 lg:px-12 xl:px-16 py-12 lg:py-16 space-y-6 lg:space-y-8",children:[e.jsx("h2",{className:"text-subtitle-lg md:text-title font-light text-gray-900 mb-6 font-inter tracking-title",children:r&&e.jsx(V,{delay:100,children:a})}),e.jsx("p",{className:"text-lg lg:text-xl xl:text-2xl text-gray-700 leading-relaxed font-light font-inter",children:o}),r&&e.jsxs("div",{className:"flex flex-row items-center gap-6 pt-4 border-t border-gray-200 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-3xl font-light font-inter text-gray-900",children:[m,"+"]}),e.jsx("span",{className:"text-base font-light font-inter text-gray-700",children:"Happy Customers"})]}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsxs("a",{href:"https://www.etsy.com/shop/TheHappyCaseShop?ref=dashboard-header",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:opacity-80 transition-opacity text-gray-700 hover:text-gray-900",children:[e.jsx("span",{className:"text-base font-light font-inter",children:"Reviews on Etsy"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})]})},Nt=({image1:t,image2:s})=>{const[r]=ie({threshold:.1}),m=he(),c=F(t),d=F(s);return e.jsx("div",{ref:r,className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4",children:[e.jsxs("div",{className:"relative w-full h-[400px] sm:h-[500px] md:h-[700px] lg:h-[800px] overflow-hidden bg-gray-100",children:[e.jsx("img",{src:c,className:"absolute inset-0 w-full h-full object-cover",alt:"Design idea",loading:"lazy",fetchPriority:"low",decoding:"async",width:"1200",height:"800",onError:a=>{a.target.style.display="none"}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex items-end justify-center z-10 pb-6 md:pb-8",children:e.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"instant"}),m("/CreateYours")},className:"px-8 py-3 text-sm uppercase tracking-wider font-inter bg-btn-primary-blue hover:bg-btn-primary-blue-hover text-btn-primary-blue-text border border-btn-primary-blue-border hover:border-btn-primary-blue-hover transition-all duration-200 shadow-lg",children:"PERSONALISE"})})]}),e.jsxs("div",{className:"relative w-full h-[400px] sm:h-[500px] md:h-[700px] lg:h-[800px] overflow-hidden bg-gray-100",children:[e.jsx("img",{src:d,className:"absolute inset-0 w-full h-full object-cover",alt:"Design idea",loading:"lazy",fetchPriority:"low",decoding:"async",width:"1200",height:"800",onError:a=>{a.target.style.display="none"}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex items-end justify-center z-10 pb-6 md:pb-8",children:e.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"instant"}),m("/CreateYours")},className:"px-8 py-3 text-sm uppercase tracking-wider font-inter bg-btn-primary-blue hover:bg-btn-primary-blue-hover text-btn-primary-blue-text border border-btn-primary-blue-border hover:border-btn-primary-blue-hover transition-all duration-200 shadow-lg",children:"PERSONALISE"})})]})]})})},wt=()=>{const t=Ee.filter((s,r)=>r!==4);return e.jsxs("section",{className:"relative pt-8 md:pt-12 pb-20 md:pb-32 overflow-hidden bg-white",children:[e.jsx(jt,{images:t}),e.jsx(vt,{image:Ee[4]}),e.jsx("div",{className:"relative z-10 mt-12 md:mt-16",children:e.jsx(Nt,{image1:"/images/designideas/designidea5.webp",image2:"/images/designideas/designidea6.webp"})})]})},Ct=()=>{const{formatPrice:t}=le(),s={economy:"Economy Case",business:"Business Class Case",firstclass:"First Class Case"};return e.jsx("section",{className:"bg-white relative items-center justify-center py-20 md:py-24 overflow-hidden",children:e.jsxs("div",{className:"container  mx-auto  relative z-10 ",children:[e.jsx("div",{className:"text-center",children:e.jsx("h2",{className:"text-title md:text-title-lg font-light text-gray-900 mb-3 font-inter tracking-title",children:"Our Cases"})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-12 md:gap-16 w-full xl:max-w-7xl mx-auto items-stretch px-4 sm:px-6 lg:px-8",children:at.cases.map((r,m)=>e.jsx(kt,{item:r,displayName:s[r.type]||r.name,formatPrice:t},m))})]})})},kt=({item:t,displayName:s,formatPrice:r})=>{const[m,c]=p.useState(t.colors[0]||null),[d,a]=p.useState(!1),o=F((m==null?void 0:m.image)||t.images[0]),h=t.type==="firstclass"?F("/images/FirstClassCase/firstclass.webp"):t.type==="economy"?F("/images/SmartCase/economycaseinside.webp"):t.type==="business"?F("/images/BusinessClassCase/businessclass.webp"):null;return e.jsxs("div",{className:"group flex flex-col h-full",children:[e.jsx("div",{className:"relative mt-8",children:e.jsxs("div",{className:"aspect-square overflow-hidden w-full max-w-2xl mx-auto sm:max-w-xl md:max-w-3xl lg:max-w-4xl transition-all duration-300 hover:border-gray-300 h-[250px] sm:h-[300px] md:h-[450px] lg:h-[500px] relative",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[e.jsx("img",{src:o,alt:s,className:`w-full h-full object-contain transition-opacity duration-300 ${d&&h?"opacity-0":"opacity-100"}`,style:{display:d&&h?"none":"block"},loading:"eager",fetchPriority:"high",decoding:"async",width:"400",height:"400"}),h&&e.jsx("img",{src:h,alt:`${s} - Inside view`,className:`absolute inset-0 w-full h-full object-contain transition-all duration-300 ${d?"opacity-100 scale-90":"opacity-0 scale-100"}`,style:{display:d?"block":"none"},loading:"lazy",fetchPriority:"low",decoding:"async",width:"400",height:"400"})]})}),t.colors&&t.colors.length>0&&e.jsx("div",{className:"col-span-2 text-center flex justify-center flex-wrap gap-1.5 sm:gap-2 mt-2 md:mt-4",children:t.colors.map((g,f)=>e.jsx("button",{onClick:()=>{c(g)},className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full border-2 transition-all duration-200 ${(m==null?void 0:m.color)===g.color?"border-gray-900 ring-2 ring-gray-300 scale-110":"border-gray-200 hover:border-gray-400 hover:scale-105"}`,style:{backgroundColor:g.color},title:g.color},f))}),e.jsxs("div",{className:"text-center flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-thin text-lg text-gray-800 mb- mt-4 ",children:s}),e.jsx("p",{className:"text-body-md text-gray-700 mb-3 font-bold font-inter",children:r(t.basePrice||0)}),e.jsx("div",{className:"mt-auto",children:e.jsx(R,{to:"/CreateYours",className:"inline-block w-full py-3 text-sm uppercase tracking-wider text-center shadow-lg font-inter bg-btn-primary-blue hover:bg-btn-primary-blue-hover text-btn-primary-blue-text border border-btn-primary-blue-border hover:border-btn-primary-blue-hover transition-all duration-200",children:"PERSONALIZE"})})]})]})};function Et(){const t=new Date().getFullYear(),[s,r]=p.useState(!1),[m,c]=p.useState(!1),[d,a]=ie({threshold:.1});return e.jsxs("footer",{ref:d,className:"bg-white border-t border-gray-100",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8 md:gap-12",children:[e.jsxs("div",{className:"space-y-5 pb-6 md:pb-0  md:border-0",children:[e.jsx("div",{className:"flex items-center mb-2",children:e.jsxs(R,{to:"/",className:"hover:opacity-90 transition-opacity duration-300","aria-label":"HappyCase home",children:[e.jsxs("div",{className:"flex flex-col cursor-pointer transition-all duration-300 text-gray-900 font-fredoka",children:[e.jsx("span",{className:"text-[10px] md:text-xs font-bold leading-tight tracking-[0.35em] text-blue-900 uppercase",children:"THE"}),e.jsx("span",{className:"text-xl md:text-3xl font-bold leading-none flex items-center gap-0 text-blue-900 uppercase",children:"HAPPY".split("").map((o,i)=>e.jsx("span",{className:"inline-block animate-smile-curve",style:{animationDelay:`${i*.1}s`},children:o},i))}),e.jsx("span",{className:"text-end text-[10px] md:text-xs font-bold leading-tight tracking-[0.35em] text-blue-900 uppercase",children:"CASE"})]}),e.jsx("style",{children:`
                  @keyframes smileCurve {
                    0%, 100% {
                      transform: translateY(0) rotate(0deg);
                    }
                    25% {
                      transform: translateY(-2px) rotate(-2deg);
                    }
                    50% {
                      transform: translateY(-4px) rotate(0deg);
                    }
                    75% {
                      transform: translateY(-2px) rotate(2deg);
                    }
                  }
                  .animate-smile-curve {
                    animation: smileCurve 2s ease-in-out infinite;
                  }
                `})]})}),e.jsx("p",{className:"text-gray-900 text-body-sm leading-relaxed font-light pt-2 font-inter",children:"Creating personalized passport cases that bring joy to your travels. Made with love and attention to detail."}),e.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[e.jsx("p",{className:"text-body-sm text-gray-900 font-light font-inter",children:"Follow us!"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("a",{href:"https://instagram.com/thehappycase.store",target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80","aria-label":"Follow us on Instagram",children:e.jsx(I,{icon:Te,className:"text-lg",style:{color:"#E4405F"}})}),e.jsx("a",{href:"https://tiktok.com/@thehappycase.store",target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80","aria-label":"Follow us on TikTok",children:e.jsx(I,{icon:_e,className:"text-lg",style:{color:"#000000"}})}),e.jsx("a",{href:"https://facebook.com/thehappycase",target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80","aria-label":"Follow us on Facebook",children:e.jsx(I,{icon:Pe,className:"text-lg",style:{color:"#1877F2"}})}),e.jsx("a",{href:"https://www.etsy.com/shop/TheHappyCaseShop?ref=dashboard-header",target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80","aria-label":"Visit our Etsy shop",children:e.jsx(I,{icon:Re,className:"text-lg",style:{color:"#F45800"}})})]})]})]}),e.jsxs("div",{className:"space-y-3  md:pb-0 ",children:[e.jsxs("button",{onClick:()=>r(!s),className:"md:hidden flex items-center justify-between w-full text-caption uppercase tracking-wider text-gray-900 hover:text-gray-800 transition-colors duration-200 mb-2 font-bold ",children:[a&&e.jsx(V,{delay:100,className:"font-bold",children:"Quick Links"}),e.jsx(I,{icon:s?me:Q,className:"text-xs ml-2"})]}),e.jsx("h4",{className:"hidden md:block text-caption uppercase tracking-wider text-gray-900  mb-2 font-bold ",children:a&&e.jsx(V,{delay:100,className:"font-bold",children:"Quick Links"})}),s&&e.jsxs("ul",{className:"md:hidden space-y-3 ",children:[e.jsx("li",{children:e.jsx(R,{to:"/about",className:"text-caption text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"About"})}),e.jsx("li",{children:e.jsx(R,{to:"/",className:"text-caption text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Home"})}),e.jsx("li",{children:e.jsx(R,{to:"/CreateYours",className:"text-caption text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Create Yours"})})]}),e.jsxs("ul",{className:"hidden md:block ",children:[e.jsx("li",{children:e.jsx(R,{to:"/about",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"About"})}),e.jsx("li",{children:e.jsx(R,{to:"/",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Home"})}),e.jsx("li",{children:e.jsx(R,{to:"/CreateYours",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Create Yours"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>c(!m),className:"md:hidden flex items-center justify-between w-full  uppercase tracking-wider text-gray-900 font-bold hover:text-gray-800 transition-colors duration-200 mb-2 text-caption  ",children:[a&&e.jsx(V,{delay:200,className:"font-bold",children:"Customer Service"}),e.jsx(I,{icon:m?me:Q,className:"text-xs ml-2"})]}),e.jsx("h4",{className:"hidden md:block text-caption uppercase tracking-wider text-gray-900 font-bold mb-2 font-inter",children:a&&e.jsx(V,{delay:200,className:"font-bold",children:"Customer Service"})}),m&&e.jsxs("ul",{className:"md:hidden space-y-3 ",children:[e.jsx("li",{children:e.jsx(R,{to:"/shipping",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Shipping and Processing Times"})}),e.jsx("li",{children:e.jsx(R,{to:"/returns",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Refund Policy"})})]}),e.jsxs("ul",{className:"hidden md:block space-y-1 ",children:[e.jsx("li",{children:e.jsx(R,{to:"/shipping",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Shipping and Processing Times"})}),e.jsx("li",{children:e.jsx(R,{to:"/returns",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Refund Policy"})})]})]})]})}),e.jsx("div",{className:" bg-white ",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex space-x-3 items-center",children:[e.jsx(I,{icon:et,className:"text-xl",style:{color:"#1434CB"}}),e.jsx(I,{icon:tt,className:"text-xl",style:{color:"#EB001B"}}),e.jsx(I,{icon:st,className:"text-xl",style:{color:"#006FCF"}}),e.jsx(I,{icon:rt,className:"text-xl",style:{color:"#003087"}})]})}),e.jsx("div",{className:"text-center md:text-right",children:e.jsxs("p",{className:"text-caption text-gray-900 font-light font-inter",children:["Â© ",t," The Happy Case. Made with love for all the travelers out there. All rights reserved."]})})]}),e.jsx("div",{className:"text-center mt-4 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-caption text-gray-600 font-light font-inter",children:["Developed by"," ",e.jsx("a",{href:"https://www.linkedin.com/in/raphaelagil/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-blue-900 transition-colors duration-200 underline",children:"Raphaela Gil"})]})})]})})]})}const Dt=({onClose:t})=>e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 flex-shrink-0",children:[e.jsx("h3",{className:"text-sm font-light uppercase tracking-wider text-gray-900 font-inter",children:"Your Cart"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-900 transition-colors","aria-label":"Close cart",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),It=()=>e.jsx("div",{className:"text-center text-gray-500 text-sm font-light font-inter",children:"Your cart is empty."}),Be=({quantity:t,onDecrement:s,onIncrement:r})=>e.jsxs("div",{className:"flex items-center gap-1 border border-gray-200 rounded-sm p-1",children:[e.jsx("button",{onClick:s,className:"w-6 h-6 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors",children:"âˆ’"}),e.jsx("div",{className:"px-2 py-0.5 text-xs text-gray-900 font-light font-inter",children:t||1}),e.jsx("button",{onClick:r,className:"w-6 h-6 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors",children:"+"})]}),Ue=({item:t,index:s,openNoteIndex:r,noteTexts:m,onToggleNote:c,onNoteChange:d,onSaveNote:a,onCancelNote:o})=>{const i=r===s,h=t.note&&!i;return e.jsxs(e.Fragment,{children:[i&&e.jsxs("div",{className:"mt-3 pt-3 ",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2 font-light font-inter",children:"Add a note for this item:"}),e.jsx("textarea",{value:m[s]!==void 0?m[s]:t.note||"",onChange:g=>d(s,g.target.value),placeholder:"Add any special instructions or notes...",className:"w-full px-3 py-2 text-xs border border-gray-200 rounded-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 font-light resize-none font-inter",rows:"3"}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:o,className:"px-3 py-1 text-xs uppercase tracking-wider text-gray-600 hover:text-gray-900 font-light transition-colors font-inter",children:"Cancel"}),e.jsx("button",{onClick:()=>a(s),className:"px-3 py-1 text-xs uppercase tracking-wider font-light font-inter bg-btn-primary hover:bg-btn-primary-hover text-btn-primary-text border border-btn-primary-border hover:border-btn-primary-hover transition-all duration-200",children:"Save"})]})]}),h&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1 font-light font-inter",children:"Note:"}),e.jsx("div",{className:"text-xs text-gray-700 font-light whitespace-pre-wrap font-inter",children:t.note})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("button",{onClick:()=>c(s),className:"text-xs text-gray-500 hover:text-gray-900 uppercase tracking-wider font-light transition-colors flex items-center gap-1 font-inter",children:[t.note?"Edit Note":"Add Note",e.jsx(I,{icon:i?me:Q,className:"text-xs"})]})})]})},St=t=>{if(!t)return"";let s=t;return s=s.replace(/\s*-\s*(Flag|Colorful Charm|Bronze Charm)$/i,""),s=s.replace(/\s+Flag$/i,""),s.trim()},Tt=({item:t,index:s,formatPrice:r,onRemove:m,onIncrement:c,onDecrement:d,openNoteIndex:a,noteTexts:o,onToggleNote:i,onNoteChange:h,onSaveNote:g,onCancelNote:f,errorMessage:v})=>{var n;const y=St(t.name||((n=t.pin)==null?void 0:n.name)),u=t.quantity||1;return e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex items-start justify-between px-2 py-1",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[t.image?e.jsx("img",{src:F(t.image),alt:y||"Charm",className:"w-20 h-20 object-contain rounded",loading:"lazy",sizes:"80px"}):e.jsx("div",{className:"w-20 h-20 rounded bg-gray-50 border border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:"Image"})}),v&&e.jsx("div",{className:`absolute ${u>1?"-bottom-1 -right-1":"-top-1 -right-1"} bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center z-10 shadow-lg`,children:e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-light text-gray-900 font-inter",children:y||"Charm"}),v&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-sm",children:e.jsx("p",{className:"text-xs text-red-700 font-inter leading-tight",children:v})})]})]})}),e.jsx("div",{className:"mt-3 flex flex-col gap-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Be,{quantity:t.quantity||1,item:t,onDecrement:()=>d(t.id!==void 0?t.id:s),onIncrement:()=>c(t.id!==void 0?t.id:s)}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 font-inter",children:r((t.price||t.totalPrice||0)*(t.quantity||1))})})]})}),e.jsx(Ue,{item:t,index:s,openNoteIndex:a,noteTexts:o,onToggleNote:i,onNoteChange:h,onSaveNote:g,onCancelNote:f})]})},_t=t=>{if(!t)return"";let s=t;return s=s.replace(/\s*-\s*(Flag|Colorful Charm|Bronze Charm)$/i,""),s=s.replace(/\s+Flag$/i,""),s.trim()},Pt=({item:t,index:s,formatPrice:r,onIncrement:m,onDecrement:c,openNoteIndex:d,noteTexts:a,onToggleNote:o,onNoteChange:i,onSaveNote:h,onCancelNote:g,errorMessage:f,charmErrors:v={}})=>{const y=Object.values((t.pinsDetails||[]).reduce((w,E)=>{const W=b({name:(E==null?void 0:E.name)||"Charm",src:(E==null?void 0:E.src)||"",price:(E==null?void 0:E.price)||0,category:(E==null?void 0:E.category)||"colorful"},E),Y=W.src||W.name;return w[Y]=w[Y]||C(b({},W),{quantity:0}),w[Y].quantity+=1,w},{})),n=t.designImage&&typeof t.designImage=="string"&&t.designImage.trim().length>0?t.designImage:t.caseImage||t.image;t.customDesign&&console.log("ðŸ–¼ï¸ CaseItem - Image display debug:",{itemId:t.id,itemName:t.caseName||t.name,hasDesignImage:!!t.designImage,designImageType:t.designImage?t.designImage.startsWith("data:")?"data URL":"file path":"none",designImageLength:t.designImage?t.designImage.length:0,hasCaseImage:!!t.caseImage,caseImagePath:t.caseImage,hasImage:!!t.image,imagePath:t.image,basePreview:n?n.startsWith("data:")?"data URL":n.substring(0,50)+"...":"none",customDesign:t.customDesign});const N=typeof t.basePrice=="number"?t.basePrice:8,U=t.pinsDetails&&t.pinsDetails.length?t.pinsDetails.reduce((w,E)=>w+(E.price||0),0):Math.max(0,(t.totalPrice||0)-N),K=N+U,J=t.quantity||1;return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-start justify-between px-2 py-1",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[n?e.jsx("img",{src:F(n),alt:"Case preview",className:"w-20 h-22 object-contain rounded",loading:"lazy",sizes:"80px",onLoad:()=>{t.customDesign&&console.log("âœ… CaseItem - Image loaded successfully:",{itemId:t.id,srcType:n.startsWith("data:")?"data URL":"file path"})},onError:w=>{console.error("âŒ CaseItem - Image failed to load:",{itemId:t.id,itemName:t.caseName||t.name,src:F(n),srcType:n.startsWith("data:")?"data URL":"file path",srcLength:n.length,hasDesignImage:!!t.designImage,hasCaseImage:!!t.caseImage,hasImage:!!t.image,customDesign:t.customDesign,error:w})}}):t.color?e.jsx("div",{className:"w-20 h-22 rounded border-2 border-gray-300 flex items-center justify-center",style:{backgroundColor:t.color}}):e.jsx("div",{className:"w-20 h-22 rounded bg-gray-50 border border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:"Image"})}),f&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center z-10 shadow-lg",children:e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-light text-gray-900 font-inter",children:t.caseName||t.name||"Passport Case"}),t.color&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("span",{className:"text-xs text-gray-500 font-light font-inter",children:"Color:"}),e.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:t.color}})]}),f&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-sm animate-pulse",children:e.jsx("p",{className:"text-xs text-red-700 font-inter leading-tight font-medium",children:f})})]})]})}),y.length>0&&y.map((w,E)=>{const W=w.name||w.src||"",Y=w.category&&w.category.trim()!==""?w.category:"colorful",x=`${W}-${Y}`,l=v[x];return e.jsx("div",{className:"flex items-center justify-between px-2 py-1",children:e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[w.src?e.jsx("img",{src:F(w.src),alt:w.name||"Charm",className:"w-16 h-16 object-contain",loading:"lazy",sizes:"64px"}):e.jsx("div",{className:"w-8 h-8 rounded bg-gray-200"}),l&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center z-10 shadow-lg",children:e.jsx("svg",{className:"w-2.5 h-2.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsxs("span",{className:"text-sm font-light text-gray-900 font-inter",children:[_t(w.name)||"Charm"," ",w.quantity>1?`(x${w.quantity})`:""]}),l&&e.jsx("div",{className:"mt-1 p-1.5 bg-red-50 border border-red-200 rounded-sm",children:e.jsx("p",{className:"text-xs text-red-700 font-inter leading-tight",children:l})})]})]})},E)})]}),e.jsx("div",{className:"mt-3 flex flex-col gap-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Be,{quantity:t.quantity||1,item:t,onDecrement:()=>c(t.id!==void 0?t.id:s),onIncrement:()=>m(t.id!==void 0?t.id:s)}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 font-inter",children:r(K*J)})})]})}),e.jsx(Ue,{item:t,index:s,openNoteIndex:d,noteTexts:a,onToggleNote:o,onNoteChange:i,onSaveNote:h,onCancelNote:g})]})},Rt=({item:t,index:s,formatPrice:r,onRemove:m,onIncrement:c,onDecrement:d,openNoteIndex:a,noteTexts:o,onToggleNote:i,onNoteChange:h,onSaveNote:g,onCancelNote:f,errorMessage:v,charmErrors:y})=>e.jsx("div",{className:" pb-4 flex items-start gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex justify-end items-end mb-2",children:e.jsx("button",{onClick:()=>m(s),className:"text-xs text-gray-500 hover:text-gray-900 uppercase tracking-wider font-light transition-colors font-inter",children:"Remove"})}),t.type==="charm"?e.jsx(Tt,{item:t,index:s,formatPrice:r,onRemove:m,onIncrement:c,onDecrement:d,openNoteIndex:a,noteTexts:o,onToggleNote:i,onNoteChange:h,onSaveNote:g,onCancelNote:f,errorMessage:v}):e.jsx(Pt,{item:t,index:s,formatPrice:r,onIncrement:c,onDecrement:d,openNoteIndex:a,noteTexts:o,onToggleNote:i,onNoteChange:h,onSaveNote:g,onCancelNote:f,errorMessage:v,charmErrors:y})]})}),Lt=({totalPrice:t,formatPrice:s,cartLength:r,onClose:m})=>{const c=he(),d=Se(),a=()=>{m(),d.pathname==="/CreateYours"&&setTimeout(()=>{window.location.reload()},100)},o=()=>{m(),c("/checkout")};return e.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:[e.jsx("div",{className:"text-sm font-light text-gray-700 uppercase tracking-wider font-inter",children:"Subtotal:"}),e.jsx("div",{className:"text-lg font-medium text-gray-900 font-inter",children:s(t)})]}),e.jsxs("p",{className:"text-xs text-gray-500 text-center mb-4 font-light font-inter",children:[e.jsx(R,{to:"/shipping",className:"text-gray-500 hover:text-gray-900 underline transition-colors",children:"Shipping"})," calculated at checkout."]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{className:"w-full py-2.5 text-xs uppercase tracking-wider text-gray-600 hover:text-gray-900 border border-gray-200 hover:border-gray-400 transition-all duration-200 font-light font-inter",onClick:a,children:"Continue Shopping"}),e.jsx("button",{className:"w-full py-2.5 text-xs uppercase tracking-wider font-light disabled:opacity-50 disabled:cursor-not-allowed font-inter bg-green-600 hover:bg-green-700 text-white border border-green-600 hover:border-green-700 transition-all duration-200",disabled:r===0,onClick:o,children:"Proceed to Checkout"})]})]})},At=()=>{const{cart:t,isDrawerOpen:s,closeCartDrawer:r,getTotalPrice:m,incrementItemQty:c,decrementItemQty:d,removeFromCart:a,updateItemNote:o}=qe(),{formatPrice:i}=le(),[h,g]=p.useState(null),[f,v]=p.useState({}),[y,u]=p.useState({}),n=p.useRef({});p.useEffect(()=>{const x=n.current;return Object.keys(y).forEach(l=>{x[l]&&clearTimeout(x[l]),x[l]=setTimeout(()=>{u(S=>{const D=b({},S);return(typeof D[l]=="string"||D[l]&&typeof D[l]=="object")&&delete D[l],D}),delete x[l]},3e3)}),()=>{Object.values(x).forEach(l=>{clearTimeout(l)})}},[y]);const N=x=>{var l;h===x?g(null):(g(x),!f[x]&&((l=t[x])!=null&&l.note)?v(C(b({},f),{[x]:t[x].note})):f[x]||v(C(b({},f),{[x]:""})))},U=(x,l)=>{v(C(b({},f),{[x]:l}))},K=x=>{o(x,f[x]||""),g(null)},J=x=>{var l;g(null),v(C(b({},f),{[x]:((l=t[x])==null?void 0:l.note)||""}))},w=(x,l)=>{u(S=>{const D=b({},S);return t.forEach(G=>{G.type==="charm"&&oe(x,G)&&(D[G.id]=l)}),D})},E=x=>{u(l=>{const S=b({},l);return t.forEach(D=>{D.type==="charm"&&oe(x,D)&&delete S[D.id]}),S})},W=x=>{var D,G,xe,ge,ue;const l=t.find($=>$.id===x)||t[x];if(!l){console.error("Item not found for increment:",x);return}const S=re(l,t);if(l.type==="charm"){const $=l.category||((D=l.pin)==null?void 0:D.category)||"colorful",j=((G=l.pin)==null?void 0:G.name)||l.name||"",T=((xe=l.pin)==null?void 0:xe.src)||"";if(S!==null&&S===0){const M=`Oops! We don't have any more ${l.name||((ge=l.pin)==null?void 0:ge.name)||"Charm"} in stock right now, so you can't add more to your basket.`;w(l,M);return}if(S===null){c(x),E(l);return}let A=0;t.forEach(_=>{if(_.type==="charm"){const M=_.pin||_,q=M.name||M.src,se=M.category||_.category||$;(q===j||q===T)&&se===$&&(A+=_.quantity||1)}});let H=0;t.forEach(_=>{if(_.type==="charm")return;(_.pins||_.pinsDetails||[]).forEach(q=>{if(!q)return;const se=q.name||q.src,ne=q.src||"",k=q.category||$;(se===j||se===T||ne===j||ne===T)&&k===$&&(H+=_.quantity||1)})});const Z=A+H;let X=0;t.forEach(_=>{_.type==="charm"&&oe(l,_)&&(X+=_.quantity||1)});const ee=S+X,te=Z+1;if(S===0||te>ee){const M=`Oops! We don't have any more ${l.name||((ue=l.pin)==null?void 0:ue.name)||"Charm"} in stock right now, so you can't add more to your basket.`;w(l,M);return}c(x),E(l);return}if(S===null){if(!l.customDesign&&!(l.pins&&Array.isArray(l.pins)&&l.pins.length>0)&&!(l.pinsDetails&&Array.isArray(l.pinsDetails)&&l.pinsDetails.length>0)){c(x),u($=>{const j=b({},$);return delete j[x],j});return}}else if(S<=0){const j=`Oops! We don't have any more ${l.caseName||l.name||"Passport Case"} in stock right now, so you can't add more to your basket.`;u(T=>{var A;return C(b({},T),{[x]:{case:j,charms:((A=T[x])==null?void 0:A.charms)||{}}})});return}if(l.customDesign||l.pins&&Array.isArray(l.pins)&&l.pins.length>0||l.pinsDetails&&Array.isArray(l.pinsDetails)&&l.pinsDetails.length>0){const $=l.pins||l.pinsDetails||[],j=l.quantity||1;for(const T of $){if(!T)continue;const A=T.category&&T.category.trim()!==""?T.category:"colorful",H=T.name||T.src||"",Z=T.src||"",X={name:H,price:T.price||2,totalPrice:T.price||2,pin:T,category:A,type:"charm"},ee=re(X,t);if(ee===null)continue;let te=0;t.forEach(k=>{if(k.type==="charm"){const L=k.pin||k,O=L.name||L.src,B=L.category||k.category||A;(O===H||O===Z)&&B===A&&(te+=k.quantity||1)}});let _=0;t.forEach(k=>{k.id!==x&&(k.pins&&Array.isArray(k.pins)&&k.pins.forEach(L=>{const O=L.name||L.src,B=L.category||A;(O===H||O===Z)&&B===A&&(_+=k.quantity||1)}),k.pinsDetails&&Array.isArray(k.pinsDetails)&&k.pinsDetails.forEach(L=>{const O=L.name||L.src,B=L.category||A;(O===H||O===Z)&&B===A&&(_+=k.quantity||1)}))});const M=$.filter(k=>{const L=k.pin||k,O=L.name||L.src,B=L.category||A;return(O===H||O===Z)&&B===A}).length,q=ee+te,ne=te+_+M*j+M;if(ee===0||ne>q){const k=`Oops! We don't have any more ${T.name||"this charm"} in stock right now, so you can't add more to your basket.`,L=`${H}-${A}`;u(O=>{var B,pe;return C(b({},O),{[x]:{case:((B=O[x])==null?void 0:B.case)||null,charms:C(b({},((pe=O[x])==null?void 0:pe.charms)||{}),{[L]:k})}})}),w(X,k);return}}}c(x),u($=>{const j=b({},$);return l.customDesign||l.pins&&Array.isArray(l.pins)&&l.pins.length>0||l.pinsDetails&&Array.isArray(l.pinsDetails)&&l.pinsDetails.length>0?j[x]&&(j[x]={case:null,charms:j[x].charms||{}},!j[x].case&&(!j[x].charms||Object.keys(j[x].charms).length===0)&&delete j[x]):delete j[x],j}),(l.customDesign||l.pins&&Array.isArray(l.pins)&&l.pins.length>0||l.pinsDetails&&Array.isArray(l.pinsDetails)&&l.pinsDetails.length>0)&&(l.pins||l.pinsDetails||[]).forEach(j=>{if(!j)return;const T={name:j.name||j.src||"",price:j.price||2,totalPrice:j.price||2,image:j.src||"",pin:j,category:j.category&&j.category.trim()!==""?j.category:"colorful",type:"charm"};E(T)})},Y=x=>{const l=t.find(S=>S.id===x)||t[x];d(x),l&&l.type==="charm"?E(l):u(S=>{const D=b({},S);return delete D[x],D})};return e.jsxs("div",{className:`fixed inset-0 z-50  ${s?"pointer-events-auto":"pointer-events-none"}`,children:[e.jsx("div",{className:`absolute inset-0 bg-black  transition-opacity ${s?"opacity-40":"opacity-0"}`,onClick:r}),e.jsxs("div",{className:`absolute right-0 top-0 h-full w-full sm:w-2/3 lg:w-2/5 bg-white shadow-2xl transform transition-transform duration-300 flex flex-col ${s?"translate-x-0":"translate-x-full"}`,children:[e.jsx(Dt,{onClose:r}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:t.length===0?e.jsx(It,{}):t.map((x,l)=>{var S,D;return e.jsx(Rt,{item:x,index:l,formatPrice:i,onRemove:a,onIncrement:W,onDecrement:Y,openNoteIndex:h,noteTexts:f,onToggleNote:N,onNoteChange:U,onSaveNote:K,onCancelNote:J,errorMessage:typeof y[x.id]=="string"?y[x.id]:(S=y[x.id])==null?void 0:S.case,charmErrors:((D=y[x.id])==null?void 0:D.charms)||{}},x.id)})}),e.jsx(Lt,{totalPrice:m(),formatPrice:i,cartLength:t.length,onClose:r})]})]})},Ot=p.lazy(()=>z(()=>import("./index-DJ3Q1KNY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),zt=p.lazy(()=>z(()=>import("./index-BuspNHIi.js"),__vite__mapDeps([8,1,2,3,4]))),$t=p.lazy(()=>z(()=>import("./index-BUllpKKS.js"),__vite__mapDeps([9,1,2,3,4]))),Ft=p.lazy(()=>z(()=>import("./index-Bbv_4C5e.js"),__vite__mapDeps([10,1,2,3,11,4]))),Mt=p.lazy(()=>z(()=>import("./index-CI8O38x0.js"),__vite__mapDeps([12,1,2,3,4]))),qt=p.lazy(()=>z(()=>import("./index-BG-K7cCh.js"),__vite__mapDeps([13,1,2,3,4,14,15]))),Bt=p.lazy(()=>z(()=>import("./index-r_vwDWfs.js"),__vite__mapDeps([16,1,2,3,4,14,15]))),Ut=p.lazy(()=>z(()=>import("./index-B_0c1SEt.js"),__vite__mapDeps([17,1,2,3,4,14,15]))),Ht=p.lazy(()=>z(()=>import("./index-Ce8RMh0C.js"),__vite__mapDeps([18,1,2,3,4,7]))),Vt=p.lazy(()=>z(()=>import("./index-8H37yHbI.js"),__vite__mapDeps([19,1,2,3,15,4,6]))),De=p.lazy(()=>z(()=>import("./index-COa5r-Go.js"),__vite__mapDeps([20,1,2,3]))),Wt=p.lazy(()=>z(()=>import("./index-BB_SP04B.js"),__vite__mapDeps([21,1,2,3]))),Yt=p.lazy(()=>z(()=>import("./index-u4uso363.js"),__vite__mapDeps([22,1,2,3]))),Qt=p.lazy(()=>z(()=>import("./index-BzUy2elC.js"),__vite__mapDeps([23,1,2,3,4]))),Ie=p.lazy(()=>z(()=>import("./index-D46559Gi.js"),__vite__mapDeps([24,1,2,3]))),Kt=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});function Gt(){const t=Se();let s=t.pathname||"/";t.search&&t.search.startsWith("?/")&&(s=t.search.slice(2).split("&")[0].replace(/~and~/g,"&")||"/"),s=s.replace(/\/+$/,"")||"/",s.startsWith("/")||(s="/"+s);const r=s==="/",m=s==="/checkout",c=s==="/CreateYours"||s==="/AddText",d=s==="/checkout"||s==="/AddText",a=s==="/CreateYours";return e.jsxs("div",{className:"App bg-white min-h-screen",children:[!m&&e.jsx("header",{className:`App-header ${c?"hidden md:block":""}`,style:{background:"white"},children:e.jsx(ft,{isHomePage:r})}),e.jsx("main",{children:e.jsx(p.Suspense,{fallback:e.jsx(Kt,{}),children:e.jsxs(Ge,{children:[e.jsx(P,{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(bt,{}),e.jsx(Ct,{}),e.jsx(wt,{})]})}),e.jsx(P,{path:"/CreateYours",element:e.jsx(Ot,{})}),e.jsx(P,{path:"/DesignIdeas",element:e.jsx(zt,{})}),e.jsx(P,{path:"/cart",element:e.jsx($t,{})}),e.jsx(P,{path:"/checkout",element:e.jsx(Ft,{})}),e.jsx(P,{path:"/payment-success",element:e.jsx(Mt,{})}),e.jsx(P,{path:"/Flags",element:e.jsx(qt,{})}),e.jsx(P,{path:"/ColorfulCharms",element:e.jsx(Bt,{})}),e.jsx(P,{path:"/BronzeCharms",element:e.jsx(Ut,{})}),e.jsx(P,{path:"/PassportCases",element:e.jsx(Ht,{})}),e.jsx(P,{path:"/Charms",element:e.jsx(Vt,{})}),e.jsx(P,{path:"/dashboard",element:e.jsx(Qt,{})}),e.jsx(P,{path:"/returns",element:e.jsx(De,{})}),e.jsx(P,{path:"/refund-policy",element:e.jsx(De,{})}),e.jsx(P,{path:"/shipping",element:e.jsx(Wt,{})}),e.jsx(P,{path:"/about",element:e.jsx(Yt,{})}),e.jsx(P,{path:"/login",element:e.jsx(Ie,{})}),e.jsx(P,{path:"/authentication/code",element:e.jsx(Ie,{})}),e.jsx(P,{path:"*",element:e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404 - Page Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist."}),e.jsx("a",{href:"/",className:"text-blue-600 hover:underline",children:"Return to Home"})]})})})})]})})}),!d&&e.jsx("div",{className:a?"hidden md:block":"",children:e.jsx(Et,{})}),e.jsx(At,{})]})}function Zt(){return e.jsx(lt,{children:e.jsx(gt,{children:e.jsx(Ke,{basename:"",children:e.jsx(Gt,{})})})})}const Jt=t=>{t&&t instanceof Function&&z(()=>ce(void 0,null,function*(){const{getCLS:s,getFID:r,getFCP:m,getLCP:c,getTTFB:d}=yield import("./vendor-BupaDLyo.js").then(a=>a.w);return{getCLS:s,getFID:r,getFCP:m,getLCP:c,getTTFB:d}}),__vite__mapDeps([2,1,3])).then(({getCLS:s,getFID:r,getFCP:m,getLCP:c,getTTFB:d})=>{s(t),r(t),m(t),c(t),d(t)}).catch(s=>{})},Xt=Ze.createRoot(document.getElementById("root"));Xt.render(e.jsx(Je.StrictMode,{children:e.jsx(Zt,{})}));Jt(console.log);export{qe as a,le as u};
