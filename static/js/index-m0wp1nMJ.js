var se=Object.defineProperty,te=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var G=(s,n,a)=>n in s?se(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a,N=(s,n)=>{for(var a in n||(n={}))re.call(n,a)&&G(s,a,n[a]);if(_)for(var a of _(n))ne.call(n,a)&&G(s,a,n[a]);return s},w=(s,n)=>te(s,ae(n));var Y=(s,n,a)=>new Promise((r,c)=>{var t=x=>{try{l(a.next(x))}catch(b){c(b)}},m=x=>{try{l(a.throw(x))}catch(b){c(b)}},l=x=>x.done?r(x.value):Promise.resolve(x.value).then(t,m);l((a=a.apply(s,n)).next())});import{j as e,F as O,u as J,i as oe,r as f}from"./react-vendor-oGZ_6Ua-.js";import{n as I,g as C,P as K,f as U,r as le,q as Z}from"./shared-utils-BOp1Mq5I.js";import{l as ie,d as ce,z as de,A as me,B as ue}from"./fontawesome-vendor-DeakGBTR.js";import{A as xe}from"./index-C27VZBeu.js";import{a as pe}from"./index-CpP7Ajis.js";import"./vendor-Q-ueIuah.js";import"./supabase-vendor-rHdX91gy.js";const ge=()=>e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-title text-gray-900 tracking-title mb-1 md:mb-2",children:"PASSPORT CASES"}),e.jsx("div",{className:"w-16 sm:w-20 md:w-24 h-px bg-gray-200 mx-auto mb-4"})]}),ye=()=>e.jsx("div",{className:"min-h-screen bg-white py-8 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 mb-4 font-inter",children:"Loading..."}),e.jsx("p",{className:"text-gray-500 font-inter",children:"Please wait while we load the passport cases."})]})}),he=({cases:s,selectedCaseType:n,onCaseTypeChange:a,isCaseTypeSoldOut:r,getCaseDisplayName:c})=>e.jsx("div",{className:"flex justify-center mb-12 md:mx-0 md:px-0",children:e.jsx("div",{className:"flex gap-2 flex-nowrap",children:s.map(t=>{const m=r(t.type);return e.jsx("button",{onClick:()=>a(t.type),disabled:m,className:`px-3 sm:px-6 py-2.5 sm:py-3 text-xs uppercase tracking-wider transition-all duration-200 relative whitespace-nowrap flex-shrink-0 ${n===t.type?"border-b-2 border-blue-700 text-white bg-blue-600 font-medium":"border-b-2 border-transparent text-white hover:text-white hover:border-blue-300 hover:bg-blue-500 bg-blue-400"} ${m?"opacity-60 cursor-not-allowed":""} font-inter`,children:e.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[c(t.type),m&&e.jsx("span",{className:"text-[8px] sm:text-[10px] text-red-300 font-semibold bg-red-900 px-1 sm:px-1.5 py-0.5 rounded",children:"SOLD OUT"})]})},t.type)})})}),fe=({currentImage:s,detailImages:n,selectedDetailImage:a,selectedCase:r,isSelectedColorSoldOut:c,onDetailImageClick:t})=>e.jsxs("div",{className:"",children:[e.jsx("div",{className:"relative group",children:e.jsxs("div",{className:`relative overflow-hidden ${c()?"pointer-events-none cursor-not-allowed":""}`,children:[e.jsx("img",{src:I(s),alt:`${r.name} - View`,className:`w-full h-[300px] lg:h-[400px] xl:h-[500px] object-contain transition-opacity duration-200 ${c()?"opacity-50 pointer-events-none cursor-not-allowed":""}`,loading:"eager",fetchPriority:"high",decoding:"async",width:"500",height:"500",onError:m=>{m.target.style.display="none",m.target.nextSibling&&(m.target.nextSibling.style.display="flex")}}),e.jsx("div",{className:"hidden w-full h-[300px] lg:h-[400px] xl:h-[500px] items-center justify-center text-gray-400 bg-gray-50",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-500 font-inter",children:"Image not available"})})}),c()&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-20 pointer-events-none",children:e.jsx("span",{className:"text-white text-2xl font-medium uppercase tracking-wider font-inter",children:"Sold Out"})})]})}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-4 lg:grid-cols-7 gap-2",children:n.map((m,l)=>e.jsxs("button",{onClick:()=>t(m),disabled:c(),className:`relative aspect-square overflow-hidden bg-gray-50 border transition-all duration-200 max-w-[80px] mx-auto ${a===m||!a&&l===0&&s===m?"border-gray-900 ring-2 ring-gray-300":"border-gray-200 hover:border-gray-400"} ${c()?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("img",{src:I(m),alt:`${r.name} - Detail ${l+1}`,className:"w-full h-full object-contain",loading:"lazy",fetchPriority:"low",decoding:"async",width:"80",height:"80",onError:x=>{x.target.style.display="none",x.target.nextSibling&&(x.target.nextSibling.style.display="flex")}}),e.jsx("div",{className:"hidden w-full h-full items-center justify-center text-gray-300",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“·"})})]},l))})})]}),be=({colors:s,selectedColor:n,onColorChange:a,isColorSoldOut:r,getColorName:c})=>e.jsxs("div",{className:"pb-2 sm:pb-3 mt-3",children:[e.jsx("h3",{className:"text-sm uppercase tracking-wider text-gray-900 mt-6 mb-6 font-medium font-inter",children:"Colours Available"}),e.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-7 md:grid-cols-8 gap-2 sm:gap-1.5 md:gap-2",children:s.map((t,m)=>{const l=r(t.color),x=c(t.image);return e.jsxs("div",{className:"flex flex-col items-center sm:gap-1",children:[e.jsx("button",{onClick:()=>{l||a(t.color)},disabled:l,className:`w-9 h-9 sm:w-8 sm:h-8 rounded-full border-2 transition-all duration-200 relative ${n===t.color?"border-gray-900 ring-2 ring-gray-300 scale-110":"border-gray-200 hover:border-gray-400"} ${l?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:t.color},title:l?"Sold Out":x||`Color ${m+1}`}),l?e.jsx("span",{className:"text-[9px] mt-1 text-red-600 font-medium text-center",children:"Sold Out"}):x&&e.jsx("span",{className:"text-[10px] sm:text-[9px] text-gray-700 font-medium text-center mt-1 font-inter leading-tight",children:x})]},m)})})]}),je=({specifications:s,isOpen:n,onToggle:a})=>s?e.jsxs("div",{className:"border-b border-gray-100 pb-8",children:[e.jsxs("button",{onClick:a,className:"w-full flex items-center justify-between py-2 text-sm uppercase tracking-wider text-gray-900 font-medium hover:text-gray-700 transition-colors font-inter",children:[e.jsx("span",{children:"Specifications"}),e.jsx(O,{icon:n?ie:ce,className:"text-xs transition-transform duration-200"})]}),n&&e.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[s.dimensions&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Dimensions"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:s.dimensions})]}),s.weight&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Weight"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:s.weight})]}),s.material&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Material"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:s.material})]}),s.closure&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Closure"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:s.closure})]}),s.cardSlots&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Card Slots"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:s.cardSlots})]}),s.interior&&e.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Interior"}),e.jsx("span",{className:"text-sm text-gray-900 text-right font-inter",children:s.interior})]}),s.rfid&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"RFID Protection"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:s.rfid})]}),s.features&&e.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Features"}),e.jsx("span",{className:"text-sm text-gray-900 text-right font-inter",children:s.features})]}),s.passportCapacity&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Capacity"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:s.passportCapacity})]}),s.care&&e.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Care Instructions"}),e.jsx("span",{className:"text-sm text-gray-900 text-right font-inter",children:s.care})]}),s.warranty&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Warranty"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:s.warranty})]})]})]}):null,ve=({specifications:s})=>s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6",children:[s.rfid&&s.rfid.toLowerCase()==="yes"&&e.jsxs("p",{className:"text-sm text-gray-900 font-inter flex items-center gap-2",children:[e.jsx(O,{icon:de,className:"text-blue-600"}),e.jsx("span",{className:"font-bold",children:"RFID Protection"})]}),s.material&&e.jsxs("p",{className:"text-sm text-gray-900 font-inter flex items-center gap-2",children:[e.jsx(O,{icon:me,className:"text-amber-600"}),e.jsx("span",{className:"font-bold",children:"Material:"})," ",s.material]})]})}),e.jsx("div",{className:"pb-4 sm:pb-6",children:e.jsxs("p",{className:"text-sm text-gray-900 font-inter flex items-center gap-2",children:[e.jsx(O,{icon:ue,className:"text-gray-600"}),e.jsx("span",{children:"Standard UK Delivery 2-4 Days"})]})})]}):null,Ne=({selectedCase:s,selectedCaseType:n,selectedColor:a,quantity:r,quantityError:c,currentImage:t,isSelectedColorSoldOut:m,onIncrementQuantity:l,onDecrementQuantity:x,onAddToCart:b})=>{const $=J();return e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-2xl font-light text-gray-900 font-inter",children:["Â£",s.basePrice.toFixed(2)]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center border border-gray-200 rounded-sm h-[42px]",children:[e.jsx("button",{onClick:x,disabled:r<=1,className:"h-full px-3 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Decrease quantity",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 12H4"})})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 text-center font-inter min-w-[2.5rem] px-3 b flex items-center justify-center h-full",children:r}),e.jsx("button",{onClick:l,className:"h-full px-3 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors","aria-label":"Increase quantity",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})})})]}),e.jsx("div",{className:"flex-1",children:e.jsx(xe,{product:{name:(s==null?void 0:s.name)||"Passport Case",caseType:n,caseName:(s==null?void 0:s.name)||"Passport Case",color:a,basePrice:(s==null?void 0:s.basePrice)||0,casePrice:(s==null?void 0:s.basePrice)||0,totalPrice:(s==null?void 0:s.basePrice)||0,price:(s==null?void 0:s.basePrice)||0,image:t,caseImage:t,quantity:r},disabled:m(),onAdd:b,className:"bg-btn-success hover:bg-btn-success-hover text-btn-success-text border border-btn-success-border hover:border-btn-success-hover transition-all duration-200"})})]}),c&&e.jsx("p",{className:"text-sm text-red-600 font-inter ml-1",children:c})]}),e.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"instant"}),$(`/CreateYours?case=${n}&color=${a}`)},className:"w-full py-3 text-sm uppercase tracking-wider font-inter bg-btn-primary-blue hover:bg-btn-primary-blue-hover text-btn-primary-blue-text border border-btn-primary-blue-border hover:border-btn-primary-blue-hover transition-all duration-200",children:"PERSONALIZE"})]})},we=s=>({economy:"Economy Class",business:"Business Class",firstclass:"First Class"})[s]||s,V=s=>{if(!s)return"";let a=s.split("/").pop().replace(".webp","").replace(".png","").replace(".jpg","").toLowerCase().replace(/^economycase/i,"").replace(/^businessclasscase/i,"").replace(/^firstclasscase/i,"").replace(/^smartcase/i,"").replace(/^premiumcase/i,"").replace(/^firstclass/i,"");const r={lightpink:"Light Pink",lightblue:"Light Blue",lightbrown:"Light Brown",darkbrown:"Dark Brown",darkblue:"Dark Blue",jeansblue:"Jeans Blue",brickred:"Brick Red",navyblue:"Navy Blue",gray:"Gray",grey:"Gray",black:"Black",brown:"Brown",red:"Red",pink:"Pink",blue:"Blue",green:"Green",purple:"Purple",yellow:"Yellow",orange:"Orange"};return r[a]?r[a]:(a=a.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/(dark|light|navy|jeans|brick)([a-z]+)/g,"$1 $2").split(/(?=[A-Z])|(?=dark|light|navy|jeans|brick)/).filter(c=>c.length>0).join(" ").toLowerCase().split(" ").map(c=>r[c]?r[c]:c.charAt(0).toUpperCase()+c.slice(1)).join(" "),a||"Color")},Ce=(s,n,a)=>{const r=(n==null?void 0:n.image)||a.images[0]||"",c=[];r&&c.push(I(r));let t=[];return s==="economy"?t=["/images/SmartCase/economycaseinside.webp","/images/SmartCase/economycaseclosure.webp","/images/SmartCase/economycaseclosureinside.webp"]:s==="business"?t=["/images/BusinessClassCase/businessclass.webp","/images/BusinessClassCase/businessclass1.webp"]:s==="firstclass"&&(t=["/images/FirstClassCase/firstclass.webp","/images/FirstClassCase/firstclass1.webp","/images/FirstClassCase/firstclass2.webp"]),t.forEach(m=>{m&&c.push(I(m))}),c.length>0?c:r?[I(r)]:[]},$e=(s,n,a,r)=>{if(!s||!a)return!1;const t=C({caseType:n,color:a},r);return console.log(`ðŸ” Sold-out check - ${s.name||"Passport Case"} (${n}, ${a}):`),console.log(`   Max available (considering cart): ${t===null?"Unlimited":t}`),console.log(`   Status: ${t!==null&&t===0?"SOLD OUT":"Available"}`),t!==null&&t===0},ke=(s,n,a,r)=>{if(!s||!a)return!1;const t=C({caseType:n,color:a},r);return t!==null&&t===0},Se=(s,n)=>{const a=K.cases.find(r=>r.type===s);return a&&a.colors&&a.colors.length>0?!a.colors.some(c=>{const t={caseType:s,color:c.color},m=C(t,n);return m===null||m>0}):!1},F={Economy:"economy",Business:"business",FirstClass:"firstclass",economy:"economy",business:"business",firstclass:"firstclass"},Pe={economy:"Economy",business:"Business",firstclass:"FirstClass"},Ie=()=>{var R,H;const{type:s}=oe(),n=J(),{addToCart:a,cart:r}=pe(),c=s&&F[s]?F[s]:"economy",[t,m]=f.useState(c),[l,x]=f.useState(""),[b,$]=f.useState(null),[Q,E]=f.useState(!1),[y,S]=f.useState(1),[W,k]=f.useState(""),[P,T]=f.useState(!1),A=U(),u=A.cases.find(o=>o.type===t);f.useEffect(()=>{Y(void 0,null,function*(){try{console.log("ðŸ”„ PassportCases: Initializing inventory from Supabase...");const p=yield le();p?(console.log("âœ… PassportCases: Inventory initialized successfully"),console.log("   Cases:",p.cases?"Loaded":"Unlimited"),console.log("   Case Colors:",p.caseColors?"Loaded":"Unlimited")):console.warn("âš ï¸ PassportCases: Inventory fetch returned null/undefined");const i=Z();i?(i.cases&&Array.isArray(i.cases)&&i.cases.some(d=>d!==null)||i.caseColors&&Array.isArray(i.caseColors)&&i.caseColors.some(d=>d&&d.some(g=>g!==null))||i.pins&&(i.pins.flags&&i.pins.flags.some(d=>d!==null)||i.pins.colorful&&i.pins.colorful.some(d=>d!==null)||i.pins.bronze&&i.pins.bronze.some(d=>d!==null))?console.log("âœ… PassportCases: Cache verified - inventory data available"):(console.warn("âš ï¸ PassportCases: Cache exists but contains only null values"),console.warn("   This means Supabase is not configured or inventory_items table is empty"),console.warn('   All items will show as "Unlimited" stock')),T(!0)):(console.warn("âš ï¸ PassportCases: Cache is empty after fetch - inventory may not be configured"),T(!0))}catch(p){console.error("âŒ PassportCases: Error initializing inventory:",p),console.error("   Error details:",{message:p.message,name:p.name,stack:p.stack}),T(!0)}})},[]);const L=f.useCallback(()=>$e(u,t,l,r),[u,t,l,r]),M=f.useCallback(o=>ke(u,t,o,r),[u,t,r]),z=f.useCallback(o=>Se(o,r),[r]);f.useEffect(()=>{if(s&&F[s]){const o=F[s];m(o)}else s||m("economy")},[s]),f.useEffect(()=>{!l&&u&&u.colors&&u.colors.length>0&&x(u.colors[0].color)},[t,l,u]),f.useEffect(()=>{if(!P){console.log("ðŸ“¦ Passport Cases Inventory: Waiting for inventory to load...");return}const o=Z();o?(console.log("ðŸ“¦ Passport Cases Inventory Quantities:"),console.log("====================================="),K.cases.forEach((p,i)=>{console.log(`
${p.name} (${p.type}):`),o.cases&&o.cases[i]!==null&&o.cases[i]!==void 0?console.log(`  Case-level quantity: ${o.cases[i]}`):console.log("  Case-level quantity: Unlimited"),o.caseColors&&o.caseColors[i]?(console.log("  Color quantities:"),p.colors.forEach((j,d)=>{const g=o.caseColors[i][d],h={caseType:p.type,color:j.color},v=C(h,r),q=v===null?"Unlimited":v===0?"SOLD OUT":`${v} available`;console.log(`    - ${j.color}: ${g!=null?g:"Unlimited"} (${q})`)})):console.log("  Color quantities: Unlimited for all colors")}),console.log(`
=====================================`)):(console.warn("âš ï¸ Passport Cases Inventory: Cache is empty - inventory may not be configured in Supabase"),console.warn('   This means all items will show as "Unlimited" stock'))},[r,P]);const D=(R=u==null?void 0:u.colors)==null?void 0:R.find(o=>o.color===l),X=I(b||(D==null?void 0:D.image)||((H=u==null?void 0:u.images)==null?void 0:H[0])),ee=Ce(t,D,u);return{selectedCaseType:t,selectedColor:l,selectedDetailImage:b,isSpecificationsOpen:Q,quantity:y,quantityError:W,productsWithQuantities:A,selectedCase:u,currentImage:X,detailImages:ee,cart:r,inventoryLoaded:P,setIsSpecificationsOpen:E,handleCaseTypeChange:o=>{if(z(o))return;m(o),$(null),S(1);const p=Pe[o]||"Economy";n(`/PassportCases/${p}`,{replace:!0});const j=U().cases.find(d=>d.type===o);if(j&&j.colors.length>0){const d=j.colors.find(g=>{const h={caseType:o,color:g.color},v=C(h,r);return v===null||v>0})||j.colors[0];x(d.color)}},handleColorChange:o=>{if(M(o))return;const i=C({caseType:t,color:o},r);console.log(`ðŸŽ¨ Color changed - ${(u==null?void 0:u.name)||"Passport Case"} (${t}, ${o}):`),console.log(`   Max available (considering cart): ${i===null?"Unlimited":i}`),x(o),$(null),S(1)},handleDetailImageClick:o=>{L()||$(o)},handleAddToCart:o=>{const i=C({caseType:t,color:l},r);if(console.log(`ðŸ›’ Adding to cart - ${(u==null?void 0:u.name)||"Passport Case"} (${t}, ${l}):`),console.log(`   Requested quantity: ${y}`),console.log(`   Max available (considering cart): ${i===null?"Unlimited":i}`),r.findIndex(d=>d.caseType===t&&d.color===l)!==-1){if(i===null){const d=w(N({},o),{quantity:y}),g=w(N({},d),{id:`case-${t}-${l}-${Date.now()}`});a(g);return}if(i>0){const d=w(N({},o),{quantity:y}),g=w(N({},d),{id:`case-${t}-${l}-${Date.now()}`});a(g);return}else{const g=`Oops! We don't have any more ${o.caseName||o.name||"Passport Case"} in stock right now, so you can't add more to your basket.`;k(g);return}}else{const d=y;if(i===null){const g=w(N({},o),{quantity:y}),h=w(N({},g),{id:`case-${t}-${l}-${Date.now()}`});a(h);return}if(i>=d){const g=w(N({},o),{quantity:y}),h=w(N({},g),{id:`case-${t}-${l}-${Date.now()}`});a(h);return}else{const g=o.caseName||o.name||"Passport Case",h=`Oops! We only have ${i} ${g}${i===1?"":"s"} in stock right now.`;k(h);return}}},handleIncrementQuantity:()=>{var i;if(L())return;const p=C({caseType:t,color:l},r);if(console.log(`âž• Increment quantity - ${(u==null?void 0:u.name)||"Passport Case"} (${t}, ${l}):`),console.log(`   Current quantity: ${y}`),console.log(`   Max available (considering cart): ${p===null?"Unlimited":p}`),p===null||p>y)S(y+1),k("");else{const d=U().cases.find(B=>B.type===t),g=(d==null?void 0:d.name)||"Passport Case",h=(i=d==null?void 0:d.colors)==null?void 0:i.find(B=>B.color===l),v=h!=null&&h.image?V(h.image):"",q=v?` in ${v}`:"";k(`We don't have any more ${g}${q} in stock to be added anymore.`)}},handleDecrementQuantity:()=>{y>1&&(S(y-1),k(""))},isSelectedColorSoldOut:L,isColorSoldOut:M,isCaseTypeSoldOut:z}},Re=()=>{const{selectedCaseType:s,selectedColor:n,selectedDetailImage:a,isSpecificationsOpen:r,quantity:c,quantityError:t,productsWithQuantities:m,selectedCase:l,currentImage:x,detailImages:b,setIsSpecificationsOpen:$,handleCaseTypeChange:Q,handleColorChange:E,handleDetailImageClick:y,handleAddToCart:S,handleIncrementQuantity:W,handleDecrementQuantity:k,isSelectedColorSoldOut:P,isColorSoldOut:T,isCaseTypeSoldOut:A,inventoryLoaded:u}=Ie();return!u||!l||!l.images||l.images.length===0?e.jsx(ye,{}):e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(ge,{}),e.jsx(he,{cases:m.cases,selectedCaseType:s,onCaseTypeChange:Q,isCaseTypeSoldOut:A,getCaseDisplayName:we}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-12 mb-16",children:[e.jsx(fe,{currentImage:x,detailImages:b,selectedDetailImage:a,selectedCase:l,isSelectedColorSoldOut:P,onDetailImageClick:y}),e.jsxs("div",{className:"space-y-4 sm:space-y-6 md:space-y-8 flex flex-col justify-between",children:[e.jsx(be,{colors:l.colors,selectedColor:n,onColorChange:E,isColorSoldOut:T,getColorName:V}),e.jsx(je,{specifications:l.specifications,isOpen:r,onToggle:()=>$(!r)}),e.jsx(ve,{specifications:l.specifications}),e.jsx(Ne,{selectedCase:l,selectedCaseType:s,selectedColor:n,quantity:c,quantityError:t,currentImage:x,isSelectedColorSoldOut:P,onIncrementQuantity:W,onDecrementQuantity:k,onAddToCart:S})]})]})]})})};export{Re as default};
