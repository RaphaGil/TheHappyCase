const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/index-BkXH-Wxs.js","static/js/react-vendor-Xg9P_WuX.js","static/js/vendor-D1wWa2FR.js","static/js/fontawesome-vendor-DK2YH0Ml.js","static/js/shared-utils-BFPS16no.js","static/js/fabric-vendor-cjQCy6PH.js","static/js/filterHelpers-BdMq4J7p.js","static/js/index-FlAEI50p.js","static/js/supabase-vendor-BpFasB-U.js","static/js/index-Clsq70Re.js","static/js/index-B64Ci4Vk.js","static/js/index-hEbeDxOO.js","static/js/stripe-vendor-C-FvrBRD.js","static/js/index-Db8KWlIQ.js","static/js/OrderItem-DnIw-Il1.js","static/js/index-COog3pbE.js","static/js/filterFunctions-CHUkIsKi.js","static/js/index-DyIJIwX_.js","static/js/index-DbhmefZp.js","static/js/index-DUFAm2BX.js","static/js/index-DeddYbtY.js","static/js/index-DGmKhCx4.js","static/js/index-CAFF_zXa.js","static/js/index-i7_3ZLnU.js","static/js/index-CARF3BlC.js","static/js/index-CV8KLTH9.js","static/js/index-Ceww45pu.js","static/js/index-Bc1uszsg.js"])))=>i.map(i=>d[i]);
var tt=Object.defineProperty,st=Object.defineProperties;var rt=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var at=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var Ee=(t,s,r)=>s in t?tt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,v=(t,s)=>{for(var r in s||(s={}))at.call(s,r)&&Ee(t,r,s[r]);if(Ce)for(var r of Ce(s))nt.call(s,r)&&Ee(t,r,s[r]);return t},E=(t,s)=>st(t,rt(s));var te=(t,s,r)=>new Promise((d,n)=>{var c=l=>{try{i(r.next(l))}catch(h){n(h)}},a=l=>{try{i(r.throw(l))}catch(h){n(h)}},i=l=>l.done?d(l.value):Promise.resolve(l.value).then(c,a);i((r=r.apply(t,s)).next())});import{r as x,j as e,F as C,L as T,u as oe,a as ye,H as ot,B as it,R as lt,b as D,N as ke,c as ct,d as dt,e as mt}from"./react-vendor-Xg9P_WuX.js";import{f as Me,a as Fe,b as qe,c as Ue,d as ae,e as se,g as Be,h as $e,j as He,k as ht,l as fe,m as ut,n as pt,o as gt,q as xt}from"./fontawesome-vendor-DK2YH0Ml.js";import{g as re,a as he,n as Q,b as ft}from"./shared-utils-BFPS16no.js";import{c as yt}from"./supabase-vendor-BpFasB-U.js";import"./vendor-D1wWa2FR.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function d(n){if(n.ep)return;n.ep=!0;const c=r(n);fetch(n.href,c)}})();const bt="modulepreload",jt=function(t){return"/"+t},Ie={},O=function(s,r,d){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(r.map(l=>{if(l=jt(l),l in Ie)return;Ie[l]=!0;const h=l.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":bt,h||(p.as="script"),p.crossOrigin="",p.href=l,i&&p.setAttribute("nonce",i),document.head.appendChild(p),h)return new Promise((u,f)=>{p.addEventListener("load",u),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function c(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return n.then(a=>{for(const i of a||[])i.status==="rejected"&&c(i.reason);return s().catch(c)})},Ve=x.createContext(),be=()=>{const t=x.useContext(Ve);if(!t)throw new Error("useCurrency must be used within a CurrencyProvider");return t},le={GBP:1,EUR:1.17},ge={GBP:"Â£",EUR:"â‚¬"},vt=({children:t})=>{const[s,r]=x.useState(()=>{const m=localStorage.getItem("selectedCurrency");return m&&m!=="USD"?m:"GBP"}),[d,n]=x.useState(le),[c,a]=x.useState(!1);x.useEffect(()=>{const m=()=>te(void 0,null,function*(){var g;const f=yield fetch("https://api.exchangerate-api.com/v4/latest/GBP");if(f.ok){const b=f.headers.get("content-type");if(b&&b.includes("application/json"))try{const R={GBP:1,EUR:((g=(yield f.json()).rates)==null?void 0:g.EUR)||le.EUR};n(R),console.log("âœ… Exchange rates fetched from direct API:",R)}catch(z){throw new Error(`Failed to parse direct API response: ${z.message}`)}else throw new Error("Direct API returned non-JSON response")}else throw new Error(`Failed to fetch rates: ${f.status}`)}),p=()=>te(void 0,null,function*(){a(!0);try{const f="http://localhost:3001",g=window.location.origin.includes("localhost")||window.location.origin.includes("127.0.0.1");if(f||g){const z=`${f||"http://localhost:3001"}/api/exchange-rates`;try{const R=yield fetch(z),q=R.headers.get("content-type"),j=q&&q.includes("application/json");if(R.ok&&j)try{const w=yield R.json();if(w.success&&w.rates){n(w.rates),console.log("âœ… Exchange rates fetched from backend:",w.rates);return}}catch(w){}else R.ok}catch(R){}}yield m()}catch(f){console.error("âŒ Error fetching exchange rates:",f),console.log("âš ï¸ Using default exchange rates:",le),n(le)}finally{a(!1)}});p();const u=setInterval(p,60*60*1e3);return()=>clearInterval(u)},[]),x.useEffect(()=>{localStorage.setItem("selectedCurrency",s)},[s]);const i=m=>{const p=d[s]||1;return m*p},h={currency:s,setCurrency:r,convertPrice:i,formatPrice:(m,p=2)=>{const u=i(m);return`${ge[s]||"Â£"}${u.toFixed(p)}`},currencySymbol:ge[s]||"Â£",exchangeRates:d,currencySymbols:ge,ratesLoading:c};return e.jsx(Ve.Provider,{value:h,children:t})},Ye=({isMobile:t=!1})=>{const s=t?"text-xl":"text-md",r=t?"flex gap-4":"hidden md:flex items-center gap-4";return e.jsxs("div",{className:r,children:[e.jsx("a",{href:"https://instagram.com/thehappycase.store",target:"_blank",rel:"noopener noreferrer",className:`${t?"w-10 h-10 flex items-center justify-center":""} transition-opacity hover:opacity-80`,"aria-label":"Follow us on Instagram",children:e.jsx(C,{icon:Me,className:s,style:{color:"#E4405F"}})}),e.jsx("a",{href:"https://tiktok.com/@thehappycase.store",target:"_blank",rel:"noopener noreferrer",className:`${t?"w-10 h-10 flex items-center justify-center":""} transition-opacity hover:opacity-80`,"aria-label":"Follow us on TikTok",children:e.jsx(C,{icon:Fe,className:s,style:{color:"#000000"}})}),e.jsx("a",{href:"https://facebook.com/thehappycase",target:"_blank",rel:"noopener noreferrer",className:`${t?"w-10 h-10 flex items-center justify-center":""} transition-opacity hover:opacity-80`,"aria-label":"Follow us on Facebook",children:e.jsx(C,{icon:qe,className:s,style:{color:"#1877F2"}})}),e.jsx("a",{href:"https://www.etsy.com/shop/TheHappyCaseShop?ref=dashboard-header",target:"_blank",rel:"noopener noreferrer",className:`${t?"w-10 h-10 flex items-center justify-center":""} transition-opacity hover:opacity-80`,"aria-label":"Visit our Etsy shop",children:e.jsx(C,{icon:Ue,className:s,style:{color:"#F45800"}})})]})},Nt={GBP:"UK",EUR:"Euro"},wt={GBP:"ðŸ‡¬ðŸ‡§",EUR:"ðŸ‡ªðŸ‡º"},Te=[{code:"GBP",symbol:"Â£",name:"UK",flag:"ðŸ‡¬ðŸ‡§"},{code:"EUR",symbol:"â‚¬",name:"Euro",flag:"ðŸ‡ªðŸ‡º"}],Qe=({variant:t="desktop",onSelect:s})=>{const{currency:r,setCurrency:d,currencySymbol:n}=be(),[c,a]=x.useState(!1),i=x.useRef(null),l=()=>{const u=wt[r]||"",f=Nt[r]||r;return`${u} ${n} ${r} - ${f}`},h=u=>{d(u),a(!1),s&&s()},m=()=>a(!c);return x.useEffect(()=>{const u=f=>{c&&i.current&&!i.current.contains(f.target)&&a(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[c]),t==="mobile"?e.jsxs("div",{className:"relative",ref:i,children:[e.jsxs("button",{onClick:u=>{u.stopPropagation(),m()},className:`w-full text-left hover:text-gray-900 font-light transition-all duration-200 flex items-center justify-between text-sm uppercase tracking-wider font-inter ${c?"bg-gray-50":""}`,style:{color:"#6b7280"},children:[e.jsx("span",{children:l()}),e.jsx(C,{icon:ae,className:`ml-2 text-base transition-transform duration-200 ${c?"rotate-180":""}`})]}),c&&e.jsx("div",{className:"bg-gray-50 border-t border-gray-100 transition-all duration-200 max-h-[70vh] overflow-y-auto w-full mt-1",onClick:u=>u.stopPropagation(),children:Te.map(u=>e.jsx("button",{onClick:f=>{f.stopPropagation(),h(u.code)},className:`w-full text-left px-8 py-2.5 text-sm transition-colors font-light font-inter ${r===u.code?"bg-gray-100":"hover:bg-gray-100"}`,style:{color:r===u.code?"#111827":"#374151"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:u.flag}),e.jsxs("span",{children:[u.symbol," ",u.code]})]}),u.name!=="Euro"&&e.jsx("span",{className:"text-sm text-gray-500 font-light",children:u.name})]})},u.code))})]}):e.jsxs("div",{className:"relative",ref:i,children:[e.jsxs("button",{onClick:u=>{u.stopPropagation(),m()},className:"px-2 md:px-3 py-1 text-gray-700 hover:text-gray-900 focus:outline-none transition-colors flex items-center text-[12px] md:text-xs font-inter","aria-label":"Select currency",children:[e.jsx("span",{className:"mr-1 whitespace-nowrap",children:l()}),e.jsx(C,{icon:ae,className:`text-[6px] md:text-xs transition-transform ml-1 ${c?"rotate-180":""}`})]}),c&&e.jsx("div",{className:"absolute right-0 mt-2 bg-white min-w-40 max-h-[80vh] overflow-y-auto",style:{zIndex:9999},onClick:u=>u.stopPropagation(),children:Te.map(u=>e.jsx("button",{onClick:f=>{f.stopPropagation(),h(u.code)},className:`w-full text-left px-4 py-2 text-xs transition-colors font-inter ${r===u.code?"bg-gray-50":"hover:bg-gray-50"}`,style:{color:r===u.code?"#111827":"#6b7280"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:u.flag}),e.jsxs("span",{children:[u.symbol," ",u.code]})]}),u.name!=="Euro"&&e.jsx("span",{className:"text-xs text-gray-500",children:u.name})]})},u.code))})]})},Ct=()=>{const{formatPrice:t}=be(),[s,r]=x.useState(0),d=x.useMemo(()=>["ðŸŒ SHIP TO EUROPE, USA, AND UK","ðŸ”’ WEBSITE 100% SAFE","â¤ï¸ MADE WITH LOVE "],[t]);return x.useEffect(()=>{const n=setInterval(()=>{r(c=>(c+1)%d.length)},3e3);return()=>clearInterval(n)},[d.length]),e.jsx("div",{className:"text-gray-700 text-center py-2 px-4 relative bg-yellow-100 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[e.jsx("div",{className:"lg:w-20"}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"text-xs font-light font-inter",children:d[s]},s)}),e.jsxs("div",{className:"hidden md:flex items-center justify-end gap-2 md:gap-6",children:[e.jsx(Ye,{}),e.jsx(Qe,{variant:"desktop"})]})]})})},We=()=>e.jsxs(T,{to:"/",className:"hover:opacity-90 transition-opacity duration-300","aria-label":"HappyCase home",children:[e.jsx("img",{src:"/assets/logo.webp",alt:"The Happy Case Logo",className:"h-10 w-auto lg:hidden",loading:"lazy"}),e.jsxs("div",{className:"hidden lg:flex flex-col cursor-pointer transition-all duration-300 text-gray-900 font-inter",children:[e.jsx("span",{className:"text-[9px] font-light leading-tight text-gray-900 font-inter tracking-title uppercase",children:"THE"}),e.jsx("span",{className:"text-2xl md:text-3xl lg:text-4xl font-bold  text-blue-900",children:"HAPPY"}),e.jsx("span",{className:"text-end text-[10px] font-light leading-tight text-gray-900 font-inter tracking-title uppercase",children:"CASE"})]})]}),Ge=({isMobile:t=!1,onLinkClick:s})=>{const r=t?"px-4 py-3 hover:text-gray-900 hover:bg-gray-50 font-light block transition-colors text-sm uppercase tracking-wider hover:border-b-2 hover:border-blue-500":"px-3 py-1.5 hover:text-gray-900 font-light block transition-all duration-200 text-sm uppercase tracking-wider text-gray-600 hover:border-b-2 hover:border-blue-500",d=[{to:"/",label:"Home"},{to:"/CreateYours",label:"Create Yours"},{to:"/PassportCases",label:"Passport Cases"},{to:"/Charms",label:"Charms"}];return t?e.jsx("ul",{className:"flex flex-col space-y-1 font-inter",children:d.map(n=>e.jsx("li",{children:e.jsx(T,{to:n.to,className:r,style:{color:"#6b7280"},onClick:s,children:n.label})},n.to))}):e.jsx("ul",{className:"hidden lg:flex lg:items-center lg:space-x-1 flex-1 justify-center font-inter",children:d.map(n=>e.jsx("li",{children:e.jsx(T,{to:n.to,className:r,children:n.label})},n.to))})},ne="happycase_cart",Je=x.createContext(),Et=(t,s)=>{switch(s.type){case"ADD_TO_CART":const r=E(v({},s.payload),{id:s.payload.id||Date.now(),quantity:s.payload.quantity||1}),d=t.items.findIndex(a=>he(a,r));if(d!==-1){const a=t.items[d],i=re(a,t.items),l=a.quantity||1,h=l+(r.quantity||1),m=r.quantity||1;if(i!==null&&(i===0||m>i))return t;const p=E(v({},a),{quantity:h}),u=t.items.map((f,g)=>g===d?p:f);return console.log("âœ… CartContext - Item quantity incremented in cart:",{itemName:p.name,oldQuantity:l,newQuantity:h,item:p,allItemsInCart:u.map((f,g)=>({itemNumber:g+1,name:f.name,type:f.type,category:f.category,quantity:f.quantity,price:f.price,caseType:f.caseType,color:f.color,customDesign:f.customDesign,pin:f.pin?{name:f.pin.name,src:f.pin.src,category:f.pin.category}:null}))}),E(v({},t),{items:u,isDrawerOpen:!0})}else{const a=re(r,t.items),i=r.quantity||1;if(a!==null&&(a===0||i>a))return t;const l=E(v({},r),{quantity:r.quantity||1}),h=[...t.items,l];return console.log("âœ… CartContext - Item successfully added to cart state:",{item:E(v({},l),{designImage:l.designImage?l.designImage.startsWith("data:")?`data URL (${l.designImage.length} chars)`:l.designImage:"none",caseImage:l.caseImage||"none",image:l.image?l.image.startsWith("data:")?`data URL (${l.image.length} chars)`:l.image:"none"}),cartSize:h.length,allItemsInCart:h.map((m,p)=>({itemNumber:p+1,name:m.name||m.caseName,type:m.type,category:m.category,quantity:m.quantity,price:m.price,caseType:m.caseType,color:m.color,customDesign:m.customDesign,hasDesignImage:!!m.designImage,hasCaseImage:!!m.caseImage,hasImage:!!m.image,pin:m.pin?{name:m.pin.name,src:m.pin.src,category:m.pin.category}:null}))}),E(v({},t),{items:h,isDrawerOpen:!0})}case"REMOVE_FROM_CART":return E(v({},t),{items:t.items.filter((a,i)=>i!==s.payload)});case"CLEAR_CART":try{localStorage.removeItem(ne)}catch(a){console.error("Error clearing cart from localStorage:",a)}return E(v({},t),{items:[]});case"OPEN_CART_DRAWER":return E(v({},t),{isDrawerOpen:!0});case"CLOSE_CART_DRAWER":return E(v({},t),{isDrawerOpen:!1});case"INCREMENT_ITEM_QTY":console.log("ðŸ”„ INCREMENT_ITEM_QTY reducer called:",{payload:s.payload,payloadType:typeof s.payload,itemsCount:t.items.length});const n=t.items.map((a,i)=>{let l=!1;if(typeof s.payload=="string"?l=a.id!==void 0&&a.id===s.payload:typeof s.payload=="number"&&(l=i===s.payload),l){console.log("âœ… Item matched in reducer:",{name:a.name||a.caseName,id:a.id,index:i,currentQty:a.quantity});const h=re(a,t.items),m=a.quantity||1;if(h===null||h>0){const p=E(v({},a),{quantity:m+1});return console.log("âœ… Incrementing quantity:",{oldQty:m,newQty:p.quantity}),p}else console.log("âš ï¸ Inventory limit reached, not incrementing")}return a});return console.log("ðŸ“¦ Updated cart after increment:",n.map((a,i)=>({index:i,name:a.name||a.caseName,qty:a.quantity}))),E(v({},t),{items:n});case"DECREMENT_ITEM_QTY":console.log("ðŸ”„ DECREMENT_ITEM_QTY reducer called:",{payload:s.payload,payloadType:typeof s.payload,itemsCount:t.items.length});const c=t.items.map((a,i)=>{let l=!1;if(typeof s.payload=="string"?l=a.id!==void 0&&a.id===s.payload:typeof s.payload=="number"&&(l=i===s.payload),l){const h=a.quantity||1;if(h>1){const m=E(v({},a),{quantity:h-1});return console.log("âœ… Decrementing quantity:",{name:a.name||a.caseName,id:a.id,index:i,oldQty:h,newQty:m.quantity}),m}else console.log("âš ï¸ Quantity already at minimum (1), not decrementing")}return a});return console.log("ðŸ“¦ Updated cart after decrement:",c.map((a,i)=>({index:i,name:a.name||a.caseName,qty:a.quantity}))),E(v({},t),{items:c});case"SET_CHECKOUT_SESSION":return E(v({},t),{checkoutSession:s.payload});case"UPDATE_ITEM_NOTE":return E(v({},t),{items:t.items.map((a,i)=>i===s.payload.index?E(v({},a),{note:s.payload.note}):a)});default:return t}},kt=()=>{try{const t=localStorage.getItem(ne);if(t){const s=JSON.parse(t);if(Array.isArray(s))return console.log("ðŸ“¦ Cart loaded from localStorage:",{itemCount:s.length,items:s.map((r,d)=>({index:d,id:r.id,name:r.name||r.caseName,customDesign:r.customDesign,hasDesignImage:!!r.designImage,designImageType:r.designImage?r.designImage.startsWith("data:")?"data URL":"file path":"none",designImageLength:r.designImage?r.designImage.length:0,hasCaseImage:!!r.caseImage,hasImage:!!r.image}))}),s}}catch(t){console.error("Error loading cart from localStorage:",t),localStorage.removeItem(ne)}return[]},It={items:kt(),checkoutSession:null,isDrawerOpen:!1},Tt=({children:t})=>{const[s,r]=x.useReducer(Et,It);x.useEffect(()=>{try{s.items&&s.items.length>0?localStorage.setItem(ne,JSON.stringify(s.items)):localStorage.removeItem(ne)}catch(g){console.error("Error saving cart to localStorage:",g)}},[s.items]);const d=g=>{console.log("ðŸ›’ Adding item to cart:",{name:g.name,type:g.type,category:g.category,price:g.price,quantity:g.quantity||1,caseType:g.caseType,color:g.color,pins:g.pins?`${g.pins.length} pins`:"no pins",pinsDetails:g.pinsDetails?`${g.pinsDetails.length} pinsDetails`:"no pinsDetails",customDesign:g.customDesign,pin:g.pin?{name:g.pin.name,src:g.pin.src,category:g.pin.category}:"no pin",fullProduct:g}),r({type:"ADD_TO_CART",payload:g})},n=g=>{r({type:"REMOVE_FROM_CART",payload:g})},c=()=>{r({type:"CLEAR_CART"})},a=()=>{r({type:"OPEN_CART_DRAWER"})},i=()=>{r({type:"CLOSE_CART_DRAWER"})},l=g=>{r({type:"SET_CHECKOUT_SESSION",payload:g})},h=(g,b)=>{r({type:"UPDATE_ITEM_NOTE",payload:{index:g,note:b}})},m=()=>s.items.reduce((g,b)=>{let k=0;if(b.type==="charm")k=(b.price||b.totalPrice||0)*(b.quantity||1);else{const z=typeof b.basePrice=="number"?b.basePrice:b.price||b.totalPrice||0,R=b.pinsDetails&&b.pinsDetails.length?b.pinsDetails.reduce((q,j)=>q+(j.price||0),0):0;k=(z+R)*(b.quantity||1)}return g+k},0),p=()=>s.items.length,u=()=>s.items.reduce((g,b)=>g+(b.quantity||1),0),f={cart:s.items,checkoutSession:s.checkoutSession,isDrawerOpen:s.isDrawerOpen,addToCart:d,removeFromCart:n,clearCart:c,openCartDrawer:a,closeCartDrawer:i,incrementItemQty:g=>r({type:"INCREMENT_ITEM_QTY",payload:g}),decrementItemQty:g=>r({type:"DECREMENT_ITEM_QTY",payload:g}),setCheckoutSession:l,updateItemNote:h,getTotalPrice:m,getTotalItems:p,getTotalQuantity:u};return e.jsx(Je.Provider,{value:f,children:t})},Xe=()=>{const t=x.useContext(Je);if(!t)throw new Error("useCart must be used within a CartProvider");return t},Se=({isMobile:t=!1})=>{const{getTotalQuantity:s}=Xe(),r=s();return e.jsxs(T,{to:"/cart",className:`${t?"flex md:hidden":"hidden md:flex"} items-center p-2 text-gray-900 hover:text-gray-700 relative transition-colors z-10`,"aria-label":"Go to cart",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 640",className:"w-6 h-6",fill:"currentColor",children:e.jsx("path",{d:"M8 64C3.6 64 0 67.6 0 72C0 76.4 3.6 80 8 80L53.7 80C65.1 80 75 88.1 77.2 99.4L136.6 402.8C141.7 429.1 164.8 448 191.6 448L488 448C492.4 448 496 444.4 496 440C496 435.6 492.4 432 488 432L191.5 432C172.4 432 155.9 418.5 152.2 399.7L142.9 352L461.2 352C494.7 352 523.7 328.9 531.3 296.4L566.6 145.1C572.5 120 553.4 96 527.7 96L92.8 96C89 77.4 72.7 64 53.7 64L8 64zM96 112L527.7 112C543.2 112 554.6 126.4 551.1 141.5L515.8 292.7C509.9 318 487.3 336 461.3 336L139.8 336L96 112zM176 528C176 510.3 190.3 496 208 496C225.7 496 240 510.3 240 528C240 545.7 225.7 560 208 560C190.3 560 176 545.7 176 528zM256 528C256 501.5 234.5 480 208 480C181.5 480 160 501.5 160 528C160 554.5 181.5 576 208 576C234.5 576 256 554.5 256 528zM432 496C449.7 496 464 510.3 464 528C464 545.7 449.7 560 432 560C414.3 560 400 545.7 400 528C400 510.3 414.3 496 432 496zM432 576C458.5 576 480 554.5 480 528C480 501.5 458.5 480 432 480C405.5 480 384 501.5 384 528C384 554.5 405.5 576 432 576z"})}),r>0&&e.jsx("span",{className:`absolute top-0 right-0 bg-gray-900 text-white ${t?"text-sm":"text-xs"} rounded-full ${t?"h-6 w-6":"h-5 w-5"} flex items-center justify-center font-light`,children:r})]})},St="https://cjpkfllqvakukzrqtcqc.supabase.co",Dt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqcGtmbGxxdmFrdWt6cnF0Y3FjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NzM5MjcsImV4cCI6MjA4MTQ0OTkyN30.jj4DNt_RTKj-GMR6w6nYTMB-93D0QxktMXv9Nmjchd8";let ce=null;const ue=()=>ce||(ce=yt(St,Dt,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),console.log("âœ… Supabase client initialized (singleton)"),ce);ue();const de=ue(),De=({isMobile:t=!1})=>{const s=oe(),[r,d]=x.useState(!1),[n,c]=x.useState(null),[a,i]=x.useState(!1),l=x.useRef(null);x.useEffect(()=>{const p=typeof window!="undefined"?localStorage.getItem("userEmail"):null,u=typeof window!="undefined"?localStorage.getItem("isLoggedIn")==="true":!1;p&&u&&(c(p),i(!0)),de&&de.auth.getUser().then(({data:f,error:g})=>{var b;if(!g&&(f!=null&&f.user)){const k=((b=f.user)==null?void 0:b.email)||p;c(k),i(!0)}})},[]),x.useEffect(()=>{const p=u=>{l.current&&!l.current.contains(u.target)&&d(!1)};return r&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[r]);const h=()=>{localStorage.removeItem("userEmail"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userId"),de&&de.auth.signOut().catch(p=>{console.error("Error signing out from Supabase:",p)}),i(!1),c(null),d(!1),s("/")},m=p=>{p.preventDefault(),p.stopPropagation(),d(!r)};if(t){const p=a&&n?"/my-orders":"/login";return e.jsx(T,{to:p,className:"hidden lg:flex items-center p-1.5 text-gray-800 hover:text-gray-600 transition-colors z-10","aria-label":a&&n?"View my orders":"Log in or create an account",children:e.jsx(C,{icon:se,className:"w-5 h-5",style:{filter:"opacity(0.85)",transform:"scale(0.9)"}})})}return a&&n?e.jsxs("div",{className:"hidden lg:block relative",ref:l,children:[e.jsx("button",{onClick:m,className:"flex items-center p-1.5 text-gray-800 hover:text-gray-600 transition-colors z-10","aria-label":"User menu",children:e.jsx(C,{icon:se,className:"w-5 h-5",style:{filter:"opacity(0.85)",transform:"scale(0.9)"}})}),r&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:[e.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 font-inter truncate",children:n})}),e.jsxs(T,{to:"/my-orders",onClick:()=>d(!1),className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors font-inter",children:[e.jsx(C,{icon:Be,className:"w-4 h-4"}),e.jsx("span",{children:"My Orders"})]}),e.jsxs("button",{onClick:h,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors font-inter text-left",children:[e.jsx(C,{icon:$e,className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]})]}):e.jsx(T,{to:"/login",className:"hidden lg:flex items-center p-1.5 text-gray-800 hover:text-gray-600 transition-colors z-10","aria-label":"Log in or create an account",children:e.jsx(C,{icon:se,className:"w-5 h-5",style:{filter:"opacity(0.85)",transform:"scale(0.9)"}})})},_e=ue(),_t="thehappycase.shop@gmail.com",Lt=({isMobile:t=!1})=>{const[s,r]=x.useState(!1),[d,n]=x.useState(!0);return x.useEffect(()=>{if(!_e){n(!1),r(!1);return}_e.auth.getUser().then(({data:c,error:a})=>{var h,m;if(n(!1),a||!(c!=null&&c.user)){r(!1);return}const i=(m=(h=c.user)==null?void 0:h.email)==null?void 0:m.toLowerCase().trim(),l=_t.toLowerCase().trim();r(i===l)})},[]),d||!s||t?null:e.jsx(T,{to:"/dashboard",className:"hidden lg:flex items-center p-1.5 text-gray-800 hover:text-gray-600 transition-colors z-10","aria-label":"Go to dashboard",children:e.jsx(C,{icon:He,className:"w-5 h-5",style:{filter:"opacity(0.85)",transform:"scale(0.9)"}})})},Le=({isMobile:t=!1})=>e.jsx("a",{href:"https://wa.me/447450437243",target:"_blank",rel:"noopener noreferrer",className:`${t?"flex md:hidden":"hidden md:flex"} items-center p-2 text-gray-800 hover:text-green-600 transition-colors z-10`,"aria-label":"Contact us on WhatsApp",children:e.jsx(C,{icon:ht,className:"w-6 h-6",style:{filter:"opacity(0.85)",transform:"scale(0.9)"}})}),Pt=({isOpen:t,onClick:s})=>e.jsx("button",{onClick:s,className:"lg:hidden text-gray-600 hover:text-gray-900 focus:outline-none transition-colors","aria-label":"Toggle menu",children:t?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M4 6h16M4 12h16M4 18h16"})})}),me=ue(),Pe="thehappycase.shop@gmail.com",Rt=({isOpen:t,onClose:s})=>{const r=oe(),[d,n]=x.useState(!1),[c,a]=x.useState(!0),[i,l]=x.useState(null),[h,m]=x.useState(!1),p=()=>{localStorage.removeItem("userEmail"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userId"),me&&me.auth.signOut().catch(u=>{console.error("Error signing out from Supabase:",u)}),m(!1),l(null),n(!1),s(),r("/")};return x.useEffect(()=>{const u=()=>{const g=typeof window!="undefined"?localStorage.getItem("userEmail"):null,b=typeof window!="undefined"?localStorage.getItem("isLoggedIn")==="true":!1;if(g&&b?(l(g),m(!0)):(l(null),m(!1)),!me){a(!1),n(!1);return}me.auth.getUser().then(({data:k,error:z})=>{var R;if(a(!1),!z&&(k!=null&&k.user)){const q=((R=k.user)==null?void 0:R.email)||g;l(q),m(!0);const j=q==null?void 0:q.toLowerCase().trim(),w=Pe.toLowerCase().trim();n(j===w)}else if(g&&b){const q=g.toLowerCase().trim(),j=Pe.toLowerCase().trim();n(q===j)}else n(!1)})};u();const f=g=>{(g.key==="userEmail"||g.key==="isLoggedIn")&&u()};return window.addEventListener("storage",f),()=>{window.removeEventListener("storage",f)}},[t]),t?e.jsxs("div",{className:"flex flex-col fixed left-0 top-0 w-[70%] bg-white border-r border-gray-100 font-light z-50 shadow-xl font-inter",style:{height:"100vh",maxHeight:"100vh"},children:[e.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",style:{WebkitOverflowScrolling:"touch",scrollBehavior:"smooth"},children:e.jsxs("ul",{className:"flex flex-col space-y-1 pb-4",children:[e.jsxs("li",{className:"px-4 py-4 flex items-center justify-between flex-shrink-0",children:[e.jsx("div",{onClick:s,className:"scale-125",children:e.jsx(We,{})}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-900 focus:outline-none transition-colors","aria-label":"Close menu",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("li",{children:h&&i?e.jsxs("div",{className:"bg-yellow-100 border-b border-gray-100",children:[e.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[e.jsx(C,{icon:se,className:"text-sm",style:{color:"#6b7280"}}),e.jsx("span",{className:"font-inter text-sm",style:{color:"#6b7280"},children:i})]}),e.jsxs(T,{to:"/my-orders",onClick:s,className:"px-4 py-3 hover:underline font-light transition-colors text-sm tracking-wider flex items-center gap-3 border-t border-yellow-200",style:{color:"#6b7280"},children:[e.jsx(C,{icon:Be,className:"text-sm"}),e.jsx("span",{className:"font-inter",children:"My Orders"})]}),e.jsxs("button",{onClick:p,className:"w-full px-4 py-3 hover:underline font-light transition-colors text-sm tracking-wider flex items-center gap-3 text-left",style:{color:"#6b7280"},children:[e.jsx(C,{icon:$e,className:"text-sm"}),e.jsx("span",{className:"font-inter",children:"Sign Out"})]})]}):e.jsxs(T,{to:"/login",onClick:s,className:"px-4 py-3 hover:text-gray-900 hover:bg-gray-50 font-light transition-colors text-sm bg-yellow-100 tracking-wider border-b border-gray-100 flex items-center gap-3",style:{color:"#6b7280"},children:[e.jsx(C,{icon:se,className:"text-sm"}),e.jsx("span",{className:"font-inter",children:"Log in or create an account"})]})}),!c&&d&&e.jsx("li",{children:e.jsxs(T,{to:"/dashboard",onClick:s,className:"px-4 py-3 hover:text-gray-900 hover:bg-gray-50 font-light transition-colors text-sm bg-blue-100 tracking-wider border-b border-gray-100 flex items-center gap-3",style:{color:"#6b7280"},children:[e.jsx(C,{icon:He,className:"text-sm"}),e.jsx("span",{className:"font-inter",children:"Dashboard"})]})}),e.jsx(Ge,{isMobile:!0,onLinkClick:s})]})}),e.jsxs("div",{className:"flex-shrink-0 bg-white ",style:{paddingBottom:"max(1.5rem, calc(1.5rem + env(safe-area-inset-bottom)))",position:"sticky",bottom:0},children:[e.jsx("div",{className:"pt-4",children:e.jsxs("div",{className:"px-4",children:[e.jsx("p",{className:"py-3 hover:text-gray-900 font-light text-sm uppercase",children:"Follow Us"}),e.jsx(Ye,{isMobile:!0})]})}),e.jsx("div",{className:"relative px-4 py-3 border-t border-gray-100",children:e.jsx(Qe,{variant:"mobile",onSelect:s})})]})]}):null},At=()=>{const[t,s]=x.useState(!1),r=()=>s(!t),d=()=>s(!1);return x.useEffect(()=>{if(t){const n=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${n}px`,document.body.style.width="100%",document.body.style.overflow="hidden",()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflow="",window.scrollTo(0,n)}}},[t]),e.jsxs(e.Fragment,{children:[e.jsx(Ct,{}),e.jsxs("nav",{className:"flex bg-white border-b border-gray-100 justify-between items-center px-4 py-2 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:flex-none",children:[e.jsx(Pt,{isOpen:t,onClick:r}),e.jsx(We,{})]}),e.jsx(Ge,{isMobile:!1}),e.jsxs("div",{className:"flex items-center md:gap-2 md:hidden",children:[e.jsx(De,{isMobile:!0}),e.jsx(Le,{isMobile:!0}),e.jsx(Se,{isMobile:!0})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300",onClick:d,"aria-label":"Close menu"}),e.jsx(Rt,{isOpen:t,onClose:d}),e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx(De,{isMobile:!1}),e.jsx(Lt,{isMobile:!1}),e.jsx(Le,{isMobile:!1}),e.jsx(Se,{isMobile:!1})]})]})]})},Ot=Q("/assets/videos/hero.webm");function zt(){const t=x.useRef(null),s=oe(),[r,d]=x.useState(!1),[n,c]=x.useState(!1),[a,i]=x.useState(!1),l=()=>{window.scrollTo({top:0,behavior:"instant"}),s("/CreateYours")};return x.useEffect(()=>{const h=setTimeout(()=>{d(!0)},1700);return()=>clearTimeout(h)},[]),x.useEffect(()=>{const h=t.current;if(!h)return;let m,p=!0,u=!1,f=!1;m=setTimeout(()=>{p&&!u&&!f&&(console.warn("Video loading timeout - continuing without video"),f=!0,i(!0))},5e3);const g=()=>{h.readyState>=2&&(h.playbackRate=.5)},b=()=>te(this,null,function*(){if(p)try{g(),yield h.play(),p&&(u=!0,c(!0)),clearTimeout(m)}catch(R){p&&(u=!0,c(!0)),clearTimeout(m)}}),k=()=>{p&&(u=!0,c(!0),clearTimeout(m),b())},z=()=>{p&&(f=!0,i(!0),clearTimeout(m))};return h.addEventListener("loadedmetadata",g,{once:!0}),h.addEventListener("canplay",k,{once:!0}),h.addEventListener("canplaythrough",k,{once:!0}),h.addEventListener("error",z,{once:!0}),h.readyState===0?h.load():h.readyState>=2&&k(),()=>{p=!1,clearTimeout(m),h.removeEventListener("loadedmetadata",g),h.removeEventListener("canplay",k),h.removeEventListener("canplaythrough",k),h.removeEventListener("error",z)}},[]),e.jsxs("section",{className:"w-full h-[80vh] md:h-[80vh] relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsxs("video",{ref:t,autoPlay:!0,muted:!0,playsInline:!0,loop:!0,preload:"metadata",className:"w-full h-full object-cover",onError:h=>{console.error("âŒ Video error:",h),console.error("âŒ Video src:",h.target.src),console.error("âŒ Video error details:",h.target.error),i(!0)},onLoadedData:()=>{c(!0)},style:{zIndex:1,minHeight:"100vh",minWidth:"100vw",opacity:n?1:0,transition:"opacity 0.5s ease-in"},children:[e.jsx("source",{src:Ot,type:"video/mp4"}),"Your browser does not support the video tag."]}),a&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-br from-blue-900 to-blue-700 z-0"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 z-10"})]}),e.jsx("div",{className:"relative z-20 h-full flex items-end justify-center lg:justify-start",children:e.jsxs("div",{className:"flex flex-col items-center text-center lg:items-start lg:text-left px-4 mb-10 lg:px-10 lg:ml-10",children:[e.jsx("h1",{className:"text-title sm:text-title-lg md:text-title-xl lg:text-title-xl font-light text-white font-inter tracking-title",style:{textShadow:"2px 2px 8px rgba(0, 0, 0, 0.7)"},children:"Create Your Own Custom"}),e.jsx("h1",{className:"text-title sm:text-title-lg md:text-title-xl lg:text-title-xl font-light text-white mb-4 font-inter tracking-title",style:{textShadow:"2px 2px 8px rgba(0, 0, 0, 0.7)"},children:"Passport Case"}),e.jsx("button",{onClick:l,className:`px-8 py-3 text-sm uppercase tracking-wider shadow-lg w-fit font-inter bg-btn-primary-blue hover:bg-btn-primary-blue-hover text-btn-primary-blue-text border border-btn-primary-blue-border hover:border-btn-primary-blue-hover transition-opacity duration-700 ease-out ${r?"opacity-100":"opacity-0"}`,children:"Shop Now"})]})})]})}const Re=["/images/Designideas/designidea.webp","/images/Designideas/designidea1.webp","/images/Designideas/designidea2.webp","/images/Designideas/designidea3.webp","/images/Designideas/designidea4.webp"],pe=(t={})=>{const[s,r]=x.useState(!1),d=x.useRef(null),{threshold:n=.1,rootMargin:c="0px",triggerOnce:a=!0}=t;return x.useEffect(()=>{const i=d.current;if(!i)return;const l=new IntersectionObserver(([h])=>{h.isIntersecting?(r(!0),a&&l.unobserve(i)):a||r(!1)},{threshold:n,rootMargin:c});return l.observe(i),()=>{i&&l.unobserve(i)}},[n,c,a]),[d,s]},Mt=({images:t})=>{const[s,r]=x.useState(new Set),[d,n]=pe({threshold:.1}),c=["Colorful Charms","Bronze Charms","Mixed Charms","Flags"];return x.useEffect(()=>{if(!n)return;const a=[];return t.forEach((i,l)=>{const h=500+l*100,m=setTimeout(()=>{r(p=>new Set([...p,l]))},h);a.push(m)}),()=>{a.forEach(i=>clearTimeout(i))}},[t,n]),e.jsx("div",{ref:d,className:"w-full mb-12 md:mb-16",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-2 w-full px-0",children:t.map((a,i)=>{const l=s.has(i);return e.jsxs("div",{className:`group bg-white transition-all duration-700 ease-out  overflow-hidden ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[e.jsx("div",{className:"relative w-full aspect-square overflow-hidden sm:min-h-[300px] ",children:e.jsx("img",{src:Q(a),className:"absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",alt:`Design Idea ${i+1}`,loading:i<2?"eager":"lazy",fetchPriority:i<2?"high":"auto",decoding:"async",width:"400",height:"400"})}),e.jsx("div",{className:"bg-white py-3 md:py-4",children:e.jsx("p",{className:"text-gray-900 text-center text-md md:text-base font-light leading-tight font-inter",children:c[i]||""})})]},i)})})})},Ft=({image:t})=>{const[s,r]=pe({threshold:.1}),[d,n]=x.useState(0),c=Q(t),a="The Perfect Gift for Every Moment",i="Created with love for all the travelers who carry their stories around the world.";return x.useEffect(()=>{if(!r)return;const l=25,h=2e3,m=60,p=l/m,u=h/m;let f=0;const g=setInterval(()=>{f++;const b=Math.min(Math.floor(p*f),l);n(b),b>=l&&(clearInterval(g),n(l))},u);return()=>clearInterval(g)},[r]),e.jsxs("div",{ref:s,className:"w-full flex flex-col md:flex-row items-stretch",children:[e.jsxs("div",{className:"relative w-full md:w-1/2 h-[400px] sm:h-[450px] md:h-[650px] lg:h-[700px] xl:h-[750px] overflow-hidden bg-gray-100",children:[e.jsx("img",{src:c,className:"absolute inset-0 w-full h-full object-cover",alt:"Perfect Gift",loading:"lazy",fetchPriority:"low",decoding:"async",width:"1200",height:"800",onError:l=>{l.target.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/40 to-black/60 md:hidden flex items-center justify-center z-10",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 max-w-4xl text-center space-y-4 sm:space-y-5",children:[e.jsx("h2",{className:"text-subtitle-lg font-light text-white mb-4 sm:mb-5 font-inter tracking-title",style:{textShadow:"2px 2px 8px rgba(0, 0, 0, 0.5)"},children:a}),e.jsx("p",{className:"text-lg text-white leading-relaxed font-light font-inter px-2 sm:px-4 mb-6",style:{textShadow:"1px 1px 4px rgba(0, 0, 0, 0.5)"},children:i}),r&&e.jsxs("div",{className:"flex flex-col items-center gap-4 text-white mt-6",style:{textShadow:"2px 2px 8px rgba(0, 0, 0, 0.7)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-2xl font-light font-inter",children:[d,"+"]}),e.jsx("span",{className:"text-sm font-light font-inter",children:"Happy Customers"})]}),e.jsxs("a",{href:"https://www.etsy.com/shop/TheHappyCaseShop?ref=dashboard-header",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[e.jsx("span",{className:"text-sm font-light font-inter",children:"Reviews on Etsy"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})]}),e.jsx("div",{className:"hidden md:flex md:w-1/2 items-center justify-center bg-white",children:e.jsxs("div",{className:"container mx-auto px-6 md:px-8 lg:px-12 xl:px-16 py-12 lg:py-16 space-y-6 lg:space-y-8",children:[e.jsx("h2",{className:"text-subtitle-lg md:text-title font-light text-gray-900 mb-6 font-inter tracking-title",children:a}),e.jsx("p",{className:"text-lg lg:text-xl xl:text-2xl text-gray-700 leading-relaxed font-light font-inter",children:i}),r&&e.jsxs("div",{className:"flex flex-row items-center gap-6 pt-4 border-t border-gray-200 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-3xl font-light font-inter text-gray-900",children:[d,"+"]}),e.jsx("span",{className:"text-base font-light font-inter text-gray-700",children:"Happy Customers"})]}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsxs("a",{href:"https://www.etsy.com/shop/TheHappyCaseShop?ref=dashboard-header",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:opacity-80 transition-opacity text-gray-700 hover:text-gray-900",children:[e.jsx("span",{className:"text-base font-light font-inter",children:"Reviews on Etsy"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})]})},qt=({image1:t,image2:s})=>{const[r]=pe({threshold:.1}),d=oe(),n=Q(t),c=Q(s);return e.jsx("div",{ref:r,className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-4",children:[e.jsxs("div",{className:"relative w-full h-[400px] sm:h-[500px] md:h-[700px] lg:h-[800px] overflow-hidden bg-gray-100",children:[e.jsx("img",{src:n,className:"absolute inset-0 w-full h-full object-cover",alt:"Design idea",loading:"lazy",fetchPriority:"low",decoding:"async",width:"1200",height:"800",onError:a=>{a.target.style.display="none"}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex items-end justify-center z-10 pb-6 md:pb-8",children:e.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"instant"}),d("/CreateYours")},className:"px-8 py-3 text-sm uppercase tracking-wider font-inter bg-btn-primary-blue hover:bg-btn-primary-blue-hover text-btn-primary-blue-text border border-btn-primary-blue-border hover:border-btn-primary-blue-hover transition-all duration-200 shadow-lg",children:"PERSONALISE"})})]}),e.jsxs("div",{className:"relative w-full h-[400px] sm:h-[500px] md:h-[700px] lg:h-[800px] overflow-hidden bg-gray-100",children:[e.jsx("img",{src:c,className:"absolute inset-0 w-full h-full object-cover",alt:"Design idea",loading:"lazy",fetchPriority:"low",decoding:"async",width:"1200",height:"800",onError:a=>{a.target.style.display="none"}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 flex items-end justify-center z-10 pb-6 md:pb-8",children:e.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"instant"}),d("/CreateYours")},className:"px-8 py-3 text-sm uppercase tracking-wider font-inter bg-btn-primary-blue hover:bg-btn-primary-blue-hover text-btn-primary-blue-text border border-btn-primary-blue-border hover:border-btn-primary-blue-hover transition-all duration-200 shadow-lg",children:"PERSONALISE"})})]})]})})},Ut=()=>{const t=Re.filter((s,r)=>r!==4);return e.jsxs("section",{className:"relative pt-8 md:pt-12 pb-20 md:pb-32 overflow-hidden bg-white",children:[e.jsx(Mt,{images:t}),e.jsx(Ft,{image:Re[4]}),e.jsx("div",{className:"relative z-10 mt-12 md:mt-16",children:e.jsx(qt,{image1:"/images/Designideas/designidea5.webp",image2:"/images/Designideas/designidea6.webp"})})]})},Bt="/assets/logo.webp";function $t(){const t=new Date().getFullYear(),[s,r]=x.useState(!1),[d,n]=x.useState(!1);return pe({threshold:.1}),e.jsxs("footer",{className:"bg-white border-t border-gray-100",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8 md:gap-12",children:[e.jsxs("div",{className:"space-y-5 pb-6 md:pb-0  md:border-0",children:[e.jsx("div",{className:"flex items-center mb-2",children:e.jsx(T,{to:"/",className:"hover:opacity-90 transition-opacity duration-300","aria-label":"HappyCase home",children:e.jsx("div",{className:"flex flex-col cursor-pointer transition-all duration-300 text-gray-900 font-fredoka",children:e.jsx("img",{src:Bt,alt:"The Happy Case Logo",className:"h-14 w-auto "})})})}),e.jsx("p",{className:"text-gray-900 text-body-sm leading-relaxed font-light pt-2 font-inter",children:"Creating personalized passport cases that bring joy to your travels."}),e.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[e.jsx("p",{className:"text-body-sm text-gray-900 font-light font-inter",children:"Follow us!"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("a",{href:"https://instagram.com/thehappycase.store",target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80","aria-label":"Follow us on Instagram",children:e.jsx(C,{icon:Me,className:"text-lg",style:{color:"#E4405F"}})}),e.jsx("a",{href:"https://tiktok.com/@thehappycase.store",target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80","aria-label":"Follow us on TikTok",children:e.jsx(C,{icon:Fe,className:"text-lg",style:{color:"#000000"}})}),e.jsx("a",{href:"https://facebook.com/thehappycase",target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80","aria-label":"Follow us on Facebook",children:e.jsx(C,{icon:qe,className:"text-lg",style:{color:"#1877F2"}})}),e.jsx("a",{href:"https://www.etsy.com/shop/TheHappyCaseShop?ref=dashboard-header",target:"_blank",rel:"noopener noreferrer",className:"transition-opacity hover:opacity-80","aria-label":"Visit our Etsy shop",children:e.jsx(C,{icon:Ue,className:"text-lg",style:{color:"#F45800"}})})]})]})]}),e.jsxs("div",{className:"space-y-3  md:pb-0 ",children:[e.jsxs("button",{onClick:()=>r(!s),className:"md:hidden flex items-center justify-between w-full text-caption uppercase tracking-wider text-gray-900 hover:text-gray-800 transition-colors duration-200 mb-2 font-bold ",children:["Quick Links",e.jsx(C,{icon:s?fe:ae,className:"text-xs ml-2"})]}),e.jsx("h4",{className:"hidden md:block text-caption uppercase tracking-wider text-gray-900  mb-2 font-bold ",children:"Quick Links"}),s&&e.jsxs("ul",{className:"md:hidden space-y-3 ",children:[e.jsx("li",{children:e.jsx(T,{to:"/about",className:"text-caption text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"About"})}),e.jsx("li",{children:e.jsx(T,{to:"/",className:"text-caption text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Home"})}),e.jsx("li",{children:e.jsx(T,{to:"/CreateYours",className:"text-caption text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Create Yours"})})]}),e.jsxs("ul",{className:"hidden md:block ",children:[e.jsx("li",{children:e.jsx(T,{to:"/about",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"About"})}),e.jsx("li",{children:e.jsx(T,{to:"/",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Home"})}),e.jsx("li",{children:e.jsx(T,{to:"/CreateYours",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Create Yours"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>n(!d),className:"md:hidden flex items-center justify-between w-full  uppercase tracking-wider text-gray-900 font-bold hover:text-gray-800 transition-colors duration-200 mb-2 text-caption  ",children:["Customer Service",e.jsx(C,{icon:d?fe:ae,className:"text-xs ml-2"})]}),e.jsx("h4",{className:"hidden md:block text-caption uppercase tracking-wider text-gray-900 font-bold mb-2 font-inter",children:"Customer Service"}),d&&e.jsxs("ul",{className:"md:hidden space-y-3 ",children:[e.jsx("li",{children:e.jsx(T,{to:"/shipping",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Shipping and Processing Times"})}),e.jsx("li",{children:e.jsx(T,{to:"/returns",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Refund Policy"})})]}),e.jsxs("ul",{className:"hidden md:block space-y-1 ",children:[e.jsx("li",{children:e.jsx(T,{to:"/shipping",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Shipping and Processing Times"})}),e.jsx("li",{children:e.jsx(T,{to:"/returns",className:"text-sm text-gray-900 hover:text-gray-800 transition-colors duration-200 font-light font-inter",children:"Refund Policy"})})]})]})]})}),e.jsx("div",{className:" bg-white ",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex space-x-3 items-center",children:[e.jsx(C,{icon:ut,className:"text-xl",style:{color:"#1434CB"}}),e.jsx(C,{icon:pt,className:"text-xl",style:{color:"#EB001B"}}),e.jsx(C,{icon:gt,className:"text-xl",style:{color:"#006FCF"}}),e.jsx(C,{icon:xt,className:"text-xl",style:{color:"#003087"}})]})}),e.jsx("div",{className:"text-center md:text-right",children:e.jsxs("p",{className:"text-caption text-gray-900 font-light font-inter",children:["Â© ",t," The Happy Case. Made with love for all the travelers out there. All rights reserved."]})})]}),e.jsx("div",{className:"text-center mt-4 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-caption text-gray-600 font-light font-inter",children:["Developed by"," ",e.jsx("a",{href:"https://www.linkedin.com/in/raphaelagil/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-blue-900 transition-colors duration-200 underline",children:"Raphaela Gil"})]})})]})})]})}const Ht=({onClose:t})=>e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 flex-shrink-0",children:[e.jsx("h3",{className:"text-sm font-light uppercase tracking-wider text-gray-900 font-inter",children:"Your Cart"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-900 transition-colors","aria-label":"Close cart",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})})]}),Vt=()=>e.jsx("div",{className:"text-center text-gray-500 text-sm font-light font-inter",children:"Your cart is empty."}),Ze=({quantity:t,onDecrement:s,onIncrement:r})=>e.jsxs("div",{className:"flex items-center gap-1 border border-gray-200 rounded-sm p-1",children:[e.jsx("button",{onClick:s,className:"w-6 h-6 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors",children:"âˆ’"}),e.jsx("div",{className:"px-2 py-0.5 text-xs text-gray-900 font-light font-inter",children:t||1}),e.jsx("button",{onClick:r,className:"w-6 h-6 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors",children:"+"})]}),Ke=({item:t,index:s,openNoteIndex:r,noteTexts:d,onToggleNote:n,onNoteChange:c,onSaveNote:a,onCancelNote:i})=>{const l=r===s,h=t.note&&!l;return e.jsxs(e.Fragment,{children:[l&&e.jsxs("div",{className:"mt-3 pt-3 ",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2 font-light font-inter",children:"Add a note for this item:"}),e.jsx("textarea",{value:d[s]!==void 0?d[s]:t.note||"",onChange:m=>c(s,m.target.value),placeholder:"Add any special instructions or notes...",className:"w-full px-3 py-2 text-xs border border-gray-200 rounded-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 font-light resize-none font-inter",rows:"3"}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:i,className:"px-3 py-1 text-xs uppercase tracking-wider text-gray-600 hover:text-gray-900 font-light transition-colors font-inter",children:"Cancel"}),e.jsx("button",{onClick:()=>a(s),className:"px-3 py-1 text-xs uppercase tracking-wider font-light font-inter bg-btn-primary hover:bg-btn-primary-hover text-btn-primary-text border border-btn-primary-border hover:border-btn-primary-hover transition-all duration-200",children:"Save"})]})]}),h&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1 font-light font-inter",children:"Note:"}),e.jsx("div",{className:"text-xs text-gray-700 font-light whitespace-pre-wrap font-inter",children:t.note})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("button",{onClick:()=>n(s),className:"text-xs text-gray-500 hover:text-gray-900 uppercase tracking-wider font-light transition-colors flex items-center gap-1 font-inter",children:[t.note?"Edit Note":"Add Note",e.jsx(C,{icon:l?fe:ae,className:"text-xs"})]})})]})},Yt=t=>{if(!t)return"";let s=t;return s=s.replace(/\s*-\s*(Flag|Colorful Charm|Bronze Charm)$/i,""),s=s.replace(/\s+Flag$/i,""),s.trim()},Qt=({item:t,index:s,formatPrice:r,onRemove:d,onIncrement:n,onDecrement:c,openNoteIndex:a,noteTexts:i,onToggleNote:l,onNoteChange:h,onSaveNote:m,onCancelNote:p,errorMessage:u})=>{var b;const f=Yt(t.name||((b=t.pin)==null?void 0:b.name)),g=t.quantity||1;return e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex items-start justify-between px-2 py-1",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[t.image?e.jsx("img",{src:Q(t.image),alt:f||"Charm",className:"w-20 h-20 object-contain rounded",loading:"lazy",sizes:"80px"}):e.jsx("div",{className:"w-20 h-20 rounded bg-gray-50 border border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:"Image"})}),u&&e.jsx("div",{className:`absolute ${g>1?"-bottom-1 -right-1":"-top-1 -right-1"} bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center z-10 shadow-lg`,children:e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-light text-gray-900 font-inter",children:f||"Charm"}),u&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-sm",children:e.jsx("p",{className:"text-xs text-red-700 font-inter leading-tight",children:u})})]})]})}),e.jsx("div",{className:"mt-3 flex flex-col gap-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ze,{quantity:t.quantity||1,item:t,onDecrement:()=>c(t.id!==void 0?t.id:s),onIncrement:()=>n(t.id!==void 0?t.id:s)}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 font-inter",children:r((t.price||t.totalPrice||0)*(t.quantity||1))})})]})}),e.jsx(Ke,{item:t,index:s,openNoteIndex:a,noteTexts:i,onToggleNote:l,onNoteChange:h,onSaveNote:m,onCancelNote:p})]})},Wt=t=>{if(!t)return"";let s=t;return s=s.replace(/\s*-\s*(Flag|Colorful Charm|Bronze Charm)$/i,""),s=s.replace(/\s+Flag$/i,""),s.trim()},Gt=({item:t,index:s,formatPrice:r,onIncrement:d,onDecrement:n,openNoteIndex:c,noteTexts:a,onToggleNote:i,onNoteChange:l,onSaveNote:h,onCancelNote:m,errorMessage:p,charmErrors:u={}})=>{const f=Object.values((t.pinsDetails||[]).reduce((j,w)=>{const W=v({name:(w==null?void 0:w.name)||"Charm",src:(w==null?void 0:w.src)||"",price:(w==null?void 0:w.price)||0,category:(w==null?void 0:w.category)||"colorful"},w),G=W.src||W.name;return j[G]=j[G]||E(v({},W),{quantity:0}),j[G].quantity+=1,j},{})),b=t.designImage&&typeof t.designImage=="string"&&t.designImage.trim().length>0?t.designImage:t.caseImage||t.image;t.customDesign&&console.log("ðŸ–¼ï¸ CaseItem - Image display debug:",{itemId:t.id,itemName:t.caseName||t.name,hasDesignImage:!!t.designImage,designImageType:t.designImage?t.designImage.startsWith("data:")?"data URL":"file path":"none",designImageLength:t.designImage?t.designImage.length:0,hasCaseImage:!!t.caseImage,caseImagePath:t.caseImage,hasImage:!!t.image,imagePath:t.image,basePreview:b?b.startsWith("data:")?"data URL":b.substring(0,50)+"...":"none",customDesign:t.customDesign});const k=typeof t.basePrice=="number"?t.basePrice:8,z=t.pinsDetails&&t.pinsDetails.length?t.pinsDetails.reduce((j,w)=>j+(w.price||0),0):Math.max(0,(t.totalPrice||0)-k),R=k+z,q=t.quantity||1;return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-start justify-between px-2 py-1",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[b?e.jsx("img",{src:Q(b),alt:"Case preview",className:"w-20 h-22 object-contain rounded",loading:"lazy",sizes:"80px",onLoad:()=>{t.customDesign&&console.log("âœ… CaseItem - Image loaded successfully:",{itemId:t.id,srcType:b.startsWith("data:")?"data URL":"file path"})},onError:j=>{console.error("âŒ CaseItem - Image failed to load:",{itemId:t.id,itemName:t.caseName||t.name,src:Q(b),srcType:b.startsWith("data:")?"data URL":"file path",srcLength:b.length,hasDesignImage:!!t.designImage,hasCaseImage:!!t.caseImage,hasImage:!!t.image,customDesign:t.customDesign,error:j})}}):t.color?e.jsx("div",{className:"w-20 h-22 rounded border-2 border-gray-300 flex items-center justify-center",style:{backgroundColor:t.color}}):e.jsx("div",{className:"w-20 h-22 rounded bg-gray-50 border border-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:"Image"})}),p&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center z-10 shadow-lg",children:e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-light text-gray-900 font-inter",children:t.caseName||t.name||"Passport Case"}),t.color&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("span",{className:"text-xs text-gray-500 font-light font-inter",children:"Color:"}),e.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:t.color}})]}),p&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-sm animate-pulse",children:e.jsx("p",{className:"text-xs text-red-700 font-inter leading-tight font-medium",children:p})})]})]})}),f.length>0&&f.map((j,w)=>{const W=j.name||j.src||"",G=j.category&&j.category.trim()!==""?j.category:"colorful",y=`${W}-${G}`,o=u[y];return e.jsx("div",{className:"flex items-center justify-between px-2 py-1",children:e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[j.src?e.jsx("img",{src:Q(j.src),alt:j.name||"Charm",className:"w-16 h-16 object-contain",loading:"lazy",sizes:"64px"}):e.jsx("div",{className:"w-8 h-8 rounded bg-gray-200"}),o&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center z-10 shadow-lg",children:e.jsx("svg",{className:"w-2.5 h-2.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsxs("span",{className:"text-sm font-light text-gray-900 font-inter",children:[Wt(j.name)||"Charm"," ",j.quantity>1?`(x${j.quantity})`:""]}),o&&e.jsx("div",{className:"mt-1 p-1.5 bg-red-50 border border-red-200 rounded-sm",children:e.jsx("p",{className:"text-xs text-red-700 font-inter leading-tight",children:o})})]})]})},w)})]}),e.jsx("div",{className:"mt-3 flex flex-col gap-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ze,{quantity:t.quantity||1,item:t,onDecrement:()=>n(t.id!==void 0?t.id:s),onIncrement:()=>d(t.id!==void 0?t.id:s)}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 font-inter",children:r(R*q)})})]})}),e.jsx(Ke,{item:t,index:s,openNoteIndex:c,noteTexts:a,onToggleNote:i,onNoteChange:l,onSaveNote:h,onCancelNote:m})]})},Jt=({item:t,index:s,formatPrice:r,onRemove:d,onIncrement:n,onDecrement:c,openNoteIndex:a,noteTexts:i,onToggleNote:l,onNoteChange:h,onSaveNote:m,onCancelNote:p,errorMessage:u,charmErrors:f})=>e.jsx("div",{className:" pb-4 flex items-start gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex justify-end items-end mb-2",children:e.jsx("button",{onClick:()=>d(s),className:"text-xs text-gray-500 hover:text-gray-900 uppercase tracking-wider font-light transition-colors font-inter",children:"Remove"})}),t.type==="charm"?e.jsx(Qt,{item:t,index:s,formatPrice:r,onRemove:d,onIncrement:n,onDecrement:c,openNoteIndex:a,noteTexts:i,onToggleNote:l,onNoteChange:h,onSaveNote:m,onCancelNote:p,errorMessage:u}):e.jsx(Gt,{item:t,index:s,formatPrice:r,onIncrement:n,onDecrement:c,openNoteIndex:a,noteTexts:i,onToggleNote:l,onNoteChange:h,onSaveNote:m,onCancelNote:p,errorMessage:u,charmErrors:f})]})}),Xt=({totalPrice:t,formatPrice:s,cartLength:r,onClose:d})=>{const n=oe(),c=ye(),a=()=>{d(),c.pathname==="/CreateYours"&&setTimeout(()=>{window.location.reload()},100)},i=()=>{d(),n("/checkout")};return e.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:[e.jsx("div",{className:"text-sm font-light text-gray-700 uppercase tracking-wider font-inter",children:"Subtotal:"}),e.jsx("div",{className:"text-lg font-medium text-gray-900 font-inter",children:s(t)})]}),e.jsxs("p",{className:"text-xs text-gray-500 text-center mb-4 font-light font-inter",children:[e.jsx(T,{to:"/shipping",className:"text-gray-500 hover:text-gray-900 underline transition-colors",children:"Shipping"})," calculated at checkout."]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{className:"w-full py-2.5 text-xs uppercase tracking-wider text-gray-600 hover:text-gray-900 border border-gray-200 hover:border-gray-400 transition-all duration-200 font-light font-inter",onClick:a,children:"Continue Shopping"}),e.jsx("button",{className:"w-full py-2.5 text-xs uppercase tracking-wider font-light disabled:opacity-50 disabled:cursor-not-allowed font-inter bg-green-600 hover:bg-green-700 text-white border border-green-600 hover:border-green-700 transition-all duration-200",disabled:r===0,onClick:i,children:"Proceed to Checkout"})]})]})},Zt=()=>{const{cart:t,isDrawerOpen:s,closeCartDrawer:r,getTotalPrice:d,incrementItemQty:n,decrementItemQty:c,removeFromCart:a,updateItemNote:i}=Xe(),{formatPrice:l}=be(),[h,m]=x.useState(null),[p,u]=x.useState({}),[f,g]=x.useState({}),b=x.useRef({});x.useEffect(()=>{const y=b.current;return Object.keys(f).forEach(o=>{y[o]&&clearTimeout(y[o]),y[o]=setTimeout(()=>{g(_=>{const S=v({},_);return(typeof S[o]=="string"||S[o]&&typeof S[o]=="object")&&delete S[o],S}),delete y[o]},3e3)}),()=>{Object.values(y).forEach(o=>{clearTimeout(o)})}},[f]);const k=y=>{var o;h===y?m(null):(m(y),!p[y]&&((o=t[y])!=null&&o.note)?u(E(v({},p),{[y]:t[y].note})):p[y]||u(E(v({},p),{[y]:""})))},z=(y,o)=>{u(E(v({},p),{[y]:o}))},R=y=>{i(y,p[y]||""),m(null)},q=y=>{var o;m(null),u(E(v({},p),{[y]:((o=t[y])==null?void 0:o.note)||""}))},j=(y,o)=>{g(_=>{const S=v({},_);return t.forEach(J=>{J.type==="charm"&&he(y,J)&&(S[J.id]=o)}),S})},w=y=>{g(o=>{const _=v({},o);return t.forEach(S=>{S.type==="charm"&&he(y,S)&&delete _[S.id]}),_})},W=y=>{var S,J,je,ve,Ne;const o=t.find(M=>M.id===y)||t[y];if(!o){console.error("Item not found for increment:",y);return}const _=re(o,t);if(o.type==="charm"){const M=o.category||((S=o.pin)==null?void 0:S.category)||"colorful",N=((J=o.pin)==null?void 0:J.name)||o.name||"",P=((je=o.pin)==null?void 0:je.src)||"";if(_!==null&&_===0){const $=`Oops! We don't have any more ${o.name||((ve=o.pin)==null?void 0:ve.name)||"Charm"} in stock right now, so you can't add more to your basket.`;j(o,$);return}if(_===null){n(y),w(o);return}let U=0;t.forEach(L=>{if(L.type==="charm"){const $=L.pin||L,H=$.name||$.src,ee=$.category||L.category||M;(H===N||H===P)&&ee===M&&(U+=L.quantity||1)}});let B=0;t.forEach(L=>{if(L.type==="charm")return;(L.pins||L.pinsDetails||[]).forEach(H=>{if(!H)return;const ee=H.name||H.src,ie=H.src||"",I=H.category||M;(ee===N||ee===P||ie===N||ie===P)&&I===M&&(B+=L.quantity||1)})});const Y=U+B;let X=0;t.forEach(L=>{L.type==="charm"&&he(o,L)&&(X+=L.quantity||1)});const Z=_+X,K=Y+1;if(_===0||K>Z){const $=`Oops! We don't have any more ${o.name||((Ne=o.pin)==null?void 0:Ne.name)||"Charm"} in stock right now, so you can't add more to your basket.`;j(o,$);return}n(y),w(o);return}if(_===null){if(!o.customDesign&&!(o.pins&&Array.isArray(o.pins)&&o.pins.length>0)&&!(o.pinsDetails&&Array.isArray(o.pinsDetails)&&o.pinsDetails.length>0)){n(y),g(M=>{const N=v({},M);return delete N[y],N});return}}else if(_<=0){const M=o.caseName||o.name||"Passport Case",N=o.color?ft(o.color,o.caseImage||o.case_image||o.image):"",P=N?` in ${N}`:"",U=`Oops! We don't have any more ${M}${P} in stock right now, so you can't add more to your basket.`;g(B=>{var Y;return E(v({},B),{[y]:{case:U,charms:((Y=B[y])==null?void 0:Y.charms)||{}}})});return}if(o.customDesign||o.pins&&Array.isArray(o.pins)&&o.pins.length>0||o.pinsDetails&&Array.isArray(o.pinsDetails)&&o.pinsDetails.length>0){const M=o.pins||o.pinsDetails||[],N=o.quantity||1;for(const P of M){if(!P)continue;const U=P.category&&P.category.trim()!==""?P.category:"colorful",B=P.name||P.src||"",Y=P.src||"",X={name:B,price:P.price||2,totalPrice:P.price||2,pin:P,category:U,type:"charm"},Z=re(X,t);if(Z===null)continue;let K=0;t.forEach(I=>{if(I.type==="charm"){const A=I.pin||I,F=A.name||A.src,V=A.category||I.category||U;(F===B||F===Y)&&V===U&&(K+=I.quantity||1)}});let L=0;t.forEach(I=>{I.id!==y&&(I.pins&&Array.isArray(I.pins)&&I.pins.forEach(A=>{const F=A.name||A.src,V=A.category||U;(F===B||F===Y)&&V===U&&(L+=I.quantity||1)}),I.pinsDetails&&Array.isArray(I.pinsDetails)&&I.pinsDetails.forEach(A=>{const F=A.name||A.src,V=A.category||U;(F===B||F===Y)&&V===U&&(L+=I.quantity||1)}))});const $=M.filter(I=>{const A=I.pin||I,F=A.name||A.src,V=A.category||U;return(F===B||F===Y)&&V===U}).length,H=Z+K,ie=K+L+$*N+$;if(Z===0||ie>H){const I=`Oops! We don't have any more ${P.name||"this charm"} in stock right now, so you can't add more to your basket.`,A=`${B}-${U}`;g(F=>{var V,we;return E(v({},F),{[y]:{case:((V=F[y])==null?void 0:V.case)||null,charms:E(v({},((we=F[y])==null?void 0:we.charms)||{}),{[A]:I})}})}),j(X,I);return}}}n(y),g(M=>{const N=v({},M);return o.customDesign||o.pins&&Array.isArray(o.pins)&&o.pins.length>0||o.pinsDetails&&Array.isArray(o.pinsDetails)&&o.pinsDetails.length>0?N[y]&&(N[y]={case:null,charms:N[y].charms||{}},!N[y].case&&(!N[y].charms||Object.keys(N[y].charms).length===0)&&delete N[y]):delete N[y],N}),(o.customDesign||o.pins&&Array.isArray(o.pins)&&o.pins.length>0||o.pinsDetails&&Array.isArray(o.pinsDetails)&&o.pinsDetails.length>0)&&(o.pins||o.pinsDetails||[]).forEach(N=>{if(!N)return;const P={name:N.name||N.src||"",price:N.price||2,totalPrice:N.price||2,image:N.src||"",pin:N,category:N.category&&N.category.trim()!==""?N.category:"colorful",type:"charm"};w(P)})},G=y=>{const o=t.find(_=>_.id===y)||t[y];c(y),o&&o.type==="charm"?w(o):g(_=>{const S=v({},_);return delete S[y],S})};return e.jsxs("div",{className:`fixed inset-0 z-50  ${s?"pointer-events-auto":"pointer-events-none"}`,children:[e.jsx("div",{className:`absolute inset-0 bg-black  transition-opacity ${s?"opacity-40":"opacity-0"}`,onClick:r}),e.jsxs("div",{className:`absolute right-0 top-0 h-full w-full sm:w-2/3 lg:w-2/5 bg-white shadow-2xl transform transition-transform duration-300 flex flex-col ${s?"translate-x-0":"translate-x-full"}`,children:[e.jsx(Ht,{onClose:r}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:t.length===0?e.jsx(Vt,{}):t.map((y,o)=>{var _,S;return e.jsx(Jt,{item:y,index:o,formatPrice:l,onRemove:a,onIncrement:W,onDecrement:G,openNoteIndex:h,noteTexts:p,onToggleNote:k,onNoteChange:z,onSaveNote:R,onCancelNote:q,errorMessage:typeof f[y.id]=="string"?f[y.id]:(_=f[y.id])==null?void 0:_.case,charmErrors:((S=f[y.id])==null?void 0:S.charms)||{}},y.id)})}),e.jsx(Xt,{totalPrice:d(),formatPrice:l,cartLength:t.length,onClose:r})]})]})},Kt=()=>(x.useEffect(()=>{console.log("SUPABASE URL:","https://cjpkfllqvakukzrqtcqc.supabase.co"),console.log("SUPABASE KEY:","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqcGtmbGxxdmFrdWt6cnF0Y3FjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4NzM5MjcsImV4cCI6MjA4MTQ0OTkyN30.jj4DNt_RTKj-GMR6w6nYTMB-93D0QxktMXv9Nmjchd8".slice(0,10))},[]),null),et="https://thehappycase.shop",Ae=`${et}/assets/logo.webp`,xe={"/":{title:"The Happy Case - Custom Passport Cases with Personalized Charms",description:"Create custom passport cases with personalized charms. Choose from 3 case styles, 40+ design ideas, and bronze or colorful pins. Perfect travel gift."},"/CreateYours":{title:"Create Your Passport Case | The Happy Case",description:"Design your custom passport case with our interactive designer. Choose colours, add charms, and create a unique travel accessory."},"/DesignIdeas":{title:"Passport Case Design Ideas | The Happy Case",description:"Explore 40+ passport case design ideas. Get inspired by our gallery of custom passport holders with charms and personalisation."},"/PassportCases":{title:"Passport Cases | Economy, First Class & Business Class | The Happy Case",description:"Shop passport cases in 3 styles: Economy, First Class, and Business Class. Multiple colours and personalisation options."},"/Charms":{title:"Passport Charms & Pins | Bronze & Colorful | The Happy Case",description:"Browse 40+ passport charms and pins. Bronze and colorful options - airplanes, landmarks, and travel-themed designs."},"/Flags":{title:"Flag Charms for Passport Cases | The Happy Case",description:"Add flag charms to your passport case. Show your heritage or commemorate your travels."},"/ColorfulCharms":{title:"Colorful Passport Charms | The Happy Case",description:"Colorful passport charms and pins for your custom passport case. Fun travel-themed designs."},"/BronzeCharms":{title:"Bronze Passport Charms | The Happy Case",description:"Bronze passport charms and pins. Classic metallic finishes for elegant passport case customisation."},"/cart":{title:"Shopping Cart | The Happy Case",description:"Review your custom passport cases and charms. Complete your order at The Happy Case."},"/about":{title:"About Us | The Happy Case",description:"Learn about The Happy Case - custom passport cases with personalised charms. Our story and passion for travel accessories."},"/returns":{title:"Returns & Refund Policy | The Happy Case",description:"The Happy Case returns and refund policy. Easy returns on custom passport cases."},"/refund-policy":{title:"Refund Policy | The Happy Case",description:"The Happy Case refund policy for custom passport cases."},"/shipping":{title:"Shipping Information | The Happy Case",description:"Shipping options and delivery times for The Happy Case custom passport cases."}};function es(t){const s=t.split("/").slice(0,2).join("/")||"/";return xe[t]||xe[s]||xe["/"]}function ts(){const{pathname:t}=ye(),s=t.replace(/\/+$/,"")||"/",r=es(s),d=`${et}${s==="/"?"":s}`;return e.jsxs(ot,{children:[e.jsx("title",{children:r.title}),e.jsx("meta",{name:"description",content:r.description}),e.jsx("link",{rel:"canonical",href:d}),e.jsx("meta",{property:"og:title",content:r.title}),e.jsx("meta",{property:"og:description",content:r.description}),e.jsx("meta",{property:"og:url",content:d}),e.jsx("meta",{property:"og:image",content:Ae}),e.jsx("meta",{name:"twitter:title",content:r.title}),e.jsx("meta",{name:"twitter:description",content:r.description}),e.jsx("meta",{name:"twitter:image",content:Ae})]})}const ss=x.lazy(()=>O(()=>import("./index-BkXH-Wxs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),rs=x.lazy(()=>O(()=>import("./index-Clsq70Re.js"),__vite__mapDeps([9,1,2,3,4]))),as=x.lazy(()=>O(()=>import("./index-B64Ci4Vk.js"),__vite__mapDeps([10,1,2,3,4,8]))),ns=x.lazy(()=>O(()=>import("./index-hEbeDxOO.js"),__vite__mapDeps([11,1,2,3,12,4,8]))),os=x.lazy(()=>O(()=>import("./index-Db8KWlIQ.js"),__vite__mapDeps([13,1,2,3,4,14,8]))),is=x.lazy(()=>O(()=>import("./index-COog3pbE.js"),__vite__mapDeps([15,1,2,3,4,16,17,8]))),ls=x.lazy(()=>O(()=>import("./index-DbhmefZp.js"),__vite__mapDeps([18,1,2,3,4,16,17,8]))),cs=x.lazy(()=>O(()=>import("./index-DUFAm2BX.js"),__vite__mapDeps([19,1,2,3,4,16,17,8]))),ds=x.lazy(()=>O(()=>import("./index-DeddYbtY.js"),__vite__mapDeps([20,1,2,3,4,7,8]))),ms=x.lazy(()=>O(()=>import("./index-DGmKhCx4.js"),__vite__mapDeps([21,1,2,3,17,4,6,8]))),Oe=x.lazy(()=>O(()=>import("./index-CAFF_zXa.js"),__vite__mapDeps([22,1,2,3]))),hs=x.lazy(()=>O(()=>import("./index-i7_3ZLnU.js"),__vite__mapDeps([23,1,2,3]))),us=x.lazy(()=>O(()=>import("./index-CARF3BlC.js"),__vite__mapDeps([24,1,2,3]))),ps=x.lazy(()=>O(()=>import("./index-CV8KLTH9.js"),__vite__mapDeps([25,1,2,3,4,8]))),ze=x.lazy(()=>O(()=>import("./index-Ceww45pu.js"),__vite__mapDeps([26,1,2,3,4,14,8]))),gs=x.lazy(()=>O(()=>import("./index-Bc1uszsg.js"),__vite__mapDeps([27,1,2,3,4,14,8]))),xs=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});function fs(){const t=ye();let s=t.pathname||"/";t.search&&t.search.startsWith("?/")&&(s=t.search.slice(2).split("&")[0].replace(/~and~/g,"&")||"/"),s=s.replace(/\/+$/,"")||"/",s.startsWith("/")||(s="/"+s);const r=s==="/",d=s==="/checkout",n=s==="/CreateYours"||s==="/AddText",c=s==="/checkout"||s==="/AddText",a=s==="/CreateYours";return e.jsxs("div",{className:"App bg-white min-h-screen",children:[e.jsx(ts,{}),e.jsx(Kt,{}),!d&&e.jsx("header",{className:`App-header ${n?"hidden md:block":""}`,style:{background:"white"},children:e.jsx(At,{isHomePage:r})}),e.jsx("main",{children:e.jsx(x.Suspense,{fallback:e.jsx(xs,{}),children:e.jsxs(lt,{children:[e.jsx(D,{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(zt,{}),e.jsx(Ut,{})]})}),e.jsx(D,{path:"/CreateYours",element:e.jsx(ss,{})}),e.jsx(D,{path:"/DesignIdeas",element:e.jsx(rs,{})}),e.jsx(D,{path:"/cart",element:e.jsx(as,{})}),e.jsx(D,{path:"/checkout",element:e.jsx(ns,{})}),e.jsx(D,{path:"/payment-success",element:e.jsx(os,{})}),e.jsx(D,{path:"/Flags",element:e.jsx(is,{})}),e.jsx(D,{path:"/ColorfulCharms",element:e.jsx(ls,{})}),e.jsx(D,{path:"/BronzeCharms",element:e.jsx(cs,{})}),e.jsx(D,{path:"/PassportCases/:type",element:e.jsx(ds,{})}),e.jsx(D,{path:"/PassportCases",element:e.jsx(ke,{to:"/PassportCases/Economy",replace:!0})}),e.jsx(D,{path:"/Charms/:type",element:e.jsx(ms,{})}),e.jsx(D,{path:"/Charms",element:e.jsx(ke,{to:"/Charms/Colorful",replace:!0})}),e.jsx(D,{path:"/dashboard",element:e.jsx(ps,{})}),e.jsx(D,{path:"/my-orders",element:e.jsx(gs,{})}),e.jsx(D,{path:"/returns",element:e.jsx(Oe,{})}),e.jsx(D,{path:"/refund-policy",element:e.jsx(Oe,{})}),e.jsx(D,{path:"/shipping",element:e.jsx(hs,{})}),e.jsx(D,{path:"/about",element:e.jsx(us,{})}),e.jsx(D,{path:"/login",element:e.jsx(ze,{})}),e.jsx(D,{path:"/authentication/code",element:e.jsx(ze,{})}),e.jsx(D,{path:"*",element:e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404 - Page Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist."}),e.jsx("a",{href:"/",className:"text-blue-600 hover:underline",children:"Return to Home"})]})})})})]})})}),!c&&e.jsx("div",{className:a?"hidden md:block":"",children:e.jsx($t,{})}),e.jsx(Zt,{})]})}function ys(){return e.jsx(vt,{children:e.jsx(Tt,{children:e.jsx(it,{basename:"",children:e.jsx(fs,{})})})})}const bs=t=>{t&&t instanceof Function&&O(()=>te(void 0,null,function*(){const{getCLS:s,getFID:r,getFCP:d,getLCP:n,getTTFB:c}=yield import("./vendor-D1wWa2FR.js").then(a=>a.w);return{getCLS:s,getFID:r,getFCP:d,getLCP:n,getTTFB:c}}),__vite__mapDeps([2,1,3])).then(({getCLS:s,getFID:r,getFCP:d,getLCP:n,getTTFB:c})=>{s(t),r(t),d(t),n(t),c(t)}).catch(s=>{})},js=ct.createRoot(document.getElementById("root"));js.render(e.jsx(dt.StrictMode,{children:e.jsx(mt,{children:e.jsx(ys,{})})}));bs(console.log);export{Bt as L,Xe as a,ue as g,be as u};
