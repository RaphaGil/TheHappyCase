var J=Object.defineProperty,K=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var U=(t,a,s)=>a in t?J(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,E=(t,a)=>{for(var s in a||(a={}))_.call(a,s)&&U(t,s,a[s]);if(G)for(var s of G(a))ee.call(a,s)&&U(t,s,a[s]);return t},W=(t,a)=>K(t,X(a));import{j as e,F as D,u as te,e as se,r as g}from"./react-vendor-BwkbXqKG.js";import{n as v,P as re,g as w,b as M}from"./shared-utils-DkooxM7j.js";import{h as ae,d as ne,x as oe,y as ie,z as le}from"./fontawesome-vendor-BEuASCuQ.js";import{A as ce}from"./index-CuP7Ro5G.js";import{a as de}from"./index-CC-rt800.js";import"./vendor-BupaDLyo.js";const me=()=>e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-title text-gray-900 tracking-title mb-1 md:mb-2",children:"PASSPORT CASES"}),e.jsx("div",{className:"w-16 sm:w-20 md:w-24 h-px bg-gray-200 mx-auto mb-4"})]}),xe=()=>e.jsx("div",{className:"min-h-screen bg-white py-8 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900 mb-4 font-inter",children:"Loading..."}),e.jsx("p",{className:"text-gray-500 font-inter",children:"Please wait while we load the passport cases."})]})}),ue=({cases:t,selectedCaseType:a,onCaseTypeChange:s,isCaseTypeSoldOut:i,getCaseDisplayName:n})=>e.jsx("div",{className:"flex justify-center mb-12 md:mx-0 md:px-0",children:e.jsx("div",{className:"flex gap-2 flex-nowrap",children:t.map(o=>{const r=i(o.type);return e.jsx("button",{onClick:()=>s(o.type),disabled:r,className:`px-3 sm:px-6 py-2.5 sm:py-3 text-xs uppercase tracking-wider transition-all duration-200 relative whitespace-nowrap flex-shrink-0 ${a===o.type?"border-b-2 border-blue-700 text-white bg-blue-600 font-medium":"border-b-2 border-transparent text-white hover:text-white hover:border-blue-300 hover:bg-blue-500 bg-blue-400"} ${r?"opacity-60 cursor-not-allowed":""} font-inter`,children:e.jsxs("span",{className:"flex items-center gap-1 sm:gap-2",children:[n(o.type),r&&e.jsx("span",{className:"text-[8px] sm:text-[10px] text-red-300 font-semibold bg-red-900 px-1 sm:px-1.5 py-0.5 rounded",children:"SOLD OUT"})]})},o.type)})})}),pe=({currentImage:t,detailImages:a,selectedDetailImage:s,selectedCase:i,isSelectedColorSoldOut:n,onDetailImageClick:o})=>e.jsxs("div",{className:"",children:[e.jsx("div",{className:"relative group",children:e.jsxs("div",{className:`relative overflow-hidden ${n()?"pointer-events-none cursor-not-allowed":""}`,onClick:r=>{if(n())return r.preventDefault(),r.stopPropagation(),!1},children:[e.jsx("img",{src:v(t),alt:`${i.name} - View`,className:`w-full h-[300px] lg:h-[400px] xl:h-[500px] object-contain transition-opacity duration-200 ${n()?"opacity-50 pointer-events-none cursor-not-allowed":""}`,loading:"eager",fetchPriority:"high",decoding:"async",width:"500",height:"500",onClick:r=>{if(n())return r.preventDefault(),r.stopPropagation(),!1},onError:r=>{r.target.style.display="none",r.target.nextSibling&&(r.target.nextSibling.style.display="flex")}}),e.jsx("div",{className:"hidden w-full h-[300px] lg:h-[400px] xl:h-[500px] items-center justify-center text-gray-400 bg-gray-50",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-500 font-inter",children:"Image not available"})})}),n()&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center z-20 pointer-events-none",children:e.jsx("span",{className:"text-white text-2xl font-medium uppercase tracking-wider font-inter",children:"Sold Out"})})]})}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-4 lg:grid-cols-7 gap-2",children:a.map((r,d)=>e.jsxs("button",{onClick:()=>o(r),disabled:n(),className:`relative aspect-square overflow-hidden bg-gray-50 border transition-all duration-200 max-w-[80px] mx-auto ${s===r||!s&&d===0&&t===r?"border-gray-900 ring-2 ring-gray-300":"border-gray-200 hover:border-gray-400"} ${n()?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("img",{src:v(r),alt:`${i.name} - Detail ${d+1}`,className:"w-full h-full object-contain",loading:"lazy",fetchPriority:"low",decoding:"async",width:"80",height:"80",onError:c=>{c.target.style.display="none",c.target.nextSibling&&(c.target.nextSibling.style.display="flex")}}),e.jsx("div",{className:"hidden w-full h-full items-center justify-center text-gray-300",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“·"})})]},d))})})]}),ge=({colors:t,selectedColor:a,onColorChange:s,isColorSoldOut:i,getColorName:n})=>e.jsxs("div",{className:"pb-2 sm:pb-3 mt-3",children:[e.jsx("h3",{className:"text-sm uppercase tracking-wider text-gray-900 mt-6 mb-6 font-medium font-inter",children:"Colours Available"}),e.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-7 md:grid-cols-8 gap-2 sm:gap-1.5 md:gap-2",children:t.map((o,r)=>{const d=i(o.color),c=n(o.image);return e.jsxs("div",{className:"flex flex-col items-center sm:gap-1",children:[e.jsx("button",{onClick:()=>{d||s(o.color)},disabled:d,className:`w-9 h-9 sm:w-8 sm:h-8 rounded-full border-2 transition-all duration-200 relative ${a===o.color?"border-gray-900 ring-2 ring-gray-300 scale-110":"border-gray-200 hover:border-gray-400"} ${d?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:o.color},title:d?"Sold Out":c||`Color ${r+1}`}),d?e.jsx("span",{className:"text-[9px] text-red-600 font-medium text-center",children:"Sold Out"}):c&&e.jsx("span",{className:"text-[10px] sm:text-[9px] text-gray-700 font-medium text-center mt-0.5 font-inter leading-tight",children:c})]},r)})})]}),he=({specifications:t,isOpen:a,onToggle:s})=>t?e.jsxs("div",{className:"border-b border-gray-100 pb-8",children:[e.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between py-2 text-sm uppercase tracking-wider text-gray-900 font-medium hover:text-gray-700 transition-colors font-inter",children:[e.jsx("span",{children:"Specifications"}),e.jsx(D,{icon:a?ae:ne,className:"text-xs transition-transform duration-200"})]}),a&&e.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[t.dimensions&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Dimensions"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:t.dimensions})]}),t.weight&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Weight"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:t.weight})]}),t.material&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Material"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:t.material})]}),t.closure&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Closure"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:t.closure})]}),t.cardSlots&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Card Slots"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:t.cardSlots})]}),t.interior&&e.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Interior"}),e.jsx("span",{className:"text-sm text-gray-900 text-right font-inter",children:t.interior})]}),t.rfid&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"RFID Protection"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:t.rfid})]}),t.features&&e.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Features"}),e.jsx("span",{className:"text-sm text-gray-900 text-right font-inter",children:t.features})]}),t.passportCapacity&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Capacity"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:t.passportCapacity})]}),t.care&&e.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-50",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Care Instructions"}),e.jsx("span",{className:"text-sm text-gray-900 text-right font-inter",children:t.care})]}),t.warranty&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-500 font-inter",children:"Warranty"}),e.jsx("span",{className:"text-sm text-gray-900 font-inter",children:t.warranty})]})]})]}):null,ye=({specifications:t})=>t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6",children:[t.rfid&&t.rfid.toLowerCase()==="yes"&&e.jsxs("p",{className:"text-sm text-gray-900 font-inter flex items-center gap-2",children:[e.jsx(D,{icon:oe,className:"text-blue-600"}),e.jsx("span",{className:"font-bold",children:"RFID Protection"})]}),t.material&&e.jsxs("p",{className:"text-sm text-gray-900 font-inter flex items-center gap-2",children:[e.jsx(D,{icon:ie,className:"text-amber-600"}),e.jsx("span",{className:"font-bold",children:"Material:"})," ",t.material]})]})}),e.jsx("div",{className:"pb-4 sm:pb-6",children:e.jsxs("p",{className:"text-sm text-gray-900 font-inter flex items-center gap-2",children:[e.jsx(D,{icon:le,className:"text-gray-600"}),e.jsx("span",{children:"Standard UK Delivery 2-4 Days"})]})})]}):null,fe=({selectedCase:t,selectedCaseType:a,selectedColor:s,quantity:i,quantityError:n,currentImage:o,isSelectedColorSoldOut:r,onIncrementQuantity:d,onDecrementQuantity:c,onAddToCart:y})=>{const j=te();return e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-2xl font-light text-gray-900 font-inter",children:["Â£",t.basePrice.toFixed(2)]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center border border-gray-200 rounded-sm h-[42px]",children:[e.jsx("button",{onClick:c,disabled:i<=1,className:"h-full px-3 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Decrease quantity",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 12H4"})})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 text-center font-inter min-w-[2.5rem] px-3 b flex items-center justify-center h-full",children:i}),e.jsx("button",{onClick:d,className:"h-full px-3 flex items-center justify-center text-gray-600 hover:text-gray-900 transition-colors","aria-label":"Increase quantity",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4v16m8-8H4"})})})]}),e.jsx("div",{className:"flex-1",children:e.jsx(ce,{product:{name:(t==null?void 0:t.name)||"Passport Case",caseType:a,caseName:(t==null?void 0:t.name)||"Passport Case",color:s,basePrice:(t==null?void 0:t.basePrice)||0,casePrice:(t==null?void 0:t.basePrice)||0,totalPrice:(t==null?void 0:t.basePrice)||0,price:(t==null?void 0:t.basePrice)||0,image:o,caseImage:o,quantity:i},disabled:r(),onAdd:y,className:"bg-btn-success hover:bg-btn-success-hover text-btn-success-text border border-btn-success-border hover:border-btn-success-hover transition-all duration-200"})})]}),n&&e.jsx("p",{className:"text-sm text-red-600 font-inter ml-1",children:n})]}),e.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"instant"}),j(`/CreateYours?case=${a}&color=${s}`)},className:"w-full py-3 text-sm uppercase tracking-wider font-inter bg-btn-primary-blue hover:bg-btn-primary-blue-hover text-btn-primary-blue-text border border-btn-primary-blue-border hover:border-btn-primary-blue-hover transition-all duration-200",children:"PERSONALIZE"})]})},F={economy:"economy",business:"business",firstclass:"firstclass","first-class":"firstclass","business-class":"business","economy-class":"economy"},be=t=>({economy:"Economy Class",business:"Business Class",firstclass:"First Class"})[t]||t,H=t=>{if(!t)return"";let s=t.split("/").pop().replace(".webp","").replace(".png","").replace(".jpg","").toLowerCase().replace(/^economycase/i,"").replace(/^businessclasscase/i,"").replace(/^firstclasscase/i,"").replace(/^smartcase/i,"").replace(/^premiumcase/i,"").replace(/^firstclass/i,"");const i={lightpink:"Light Pink",lightblue:"Light Blue",lightbrown:"Light Brown",darkbrown:"Dark Brown",darkblue:"Dark Blue",jeansblue:"Jeans Blue",brickred:"Brick Red",navyblue:"Navy Blue",gray:"Gray",grey:"Gray",black:"Black",brown:"Brown",red:"Red",pink:"Pink",blue:"Blue",green:"Green",purple:"Purple",yellow:"Yellow",orange:"Orange"};return i[s]?i[s]:(s=s.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/(dark|light|navy|jeans|brick)([a-z]+)/g,"$1 $2").split(/(?=[A-Z])|(?=dark|light|navy|jeans|brick)/).filter(n=>n.length>0).join(" ").toLowerCase().split(" ").map(n=>i[n]?i[n]:n.charAt(0).toUpperCase()+n.slice(1)).join(" "),s||"Color")},je=(t,a,s)=>{const i=(a==null?void 0:a.image)||s.images[0]||"",n=[];i&&n.push(v(i));let o=[];return t==="economy"?o=["/images/SmartCase/economycaseinside.webp","/images/SmartCase/economycaseclosure.webp","/images/SmartCase/economycaseclosureinside.webp"]:t==="business"?o=["/images/BusinessClassCase/businessclass.webp","/images/BusinessClassCase/businessclass1.webp"]:t==="firstclass"&&(o=["/images/FirstClassCase/firstclass.webp","/images/FirstClassCase/firstclass1.webp","/images/FirstClassCase/firstclass2.webp"]),o.forEach(r=>{r&&n.push(v(r))}),n.length>0?n:i?[v(i)]:[]},Ne=(t,a,s,i)=>{if(!t||!s)return!1;const o=w({caseType:a,color:s},i);return o!==null&&o===0},ve=(t,a,s,i)=>{if(!t||!s)return!1;const o=w({caseType:a,color:s},i);return o!==null&&o===0},we=(t,a)=>{const s=re.cases.find(i=>i.type===t);return s&&s.colors&&s.colors.length>0?!s.colors.some(n=>{const o={caseType:t,color:n.color},r=w(o,a);return r===null||r>0}):!1},Ce=()=>{var R,z;const[t,a]=se(),s=t.get("filter"),{addToCart:i,cart:n}=de(),o=s&&F[s.toLowerCase()]?F[s.toLowerCase()]:"economy",[r,d]=g.useState(o),[c,y]=g.useState(""),[j,C]=g.useState(null),[Q,L]=g.useState(!1),[p,f]=g.useState(1),[O,b]=g.useState(""),S=M(),m=S.cases.find(l=>l.type===r),P=()=>Ne(m,r,c,n),Z=l=>ve(m,r,l,n),q=l=>we(l,n);g.useEffect(()=>{if(s&&F[s.toLowerCase()]){const l=F[s.toLowerCase()];d(l)}},[s]),g.useEffect(()=>{!c&&m&&m.colors&&m.colors.length>0&&y(m.colors[0].color)},[r,c,m]),g.useEffect(()=>{if(!r||!c)return;const x=w({caseType:r,color:c},n);x!==null&&p>x&&f(Math.max(1,x)),b("")},[r,c,n,p]);const T=(R=m==null?void 0:m.colors)==null?void 0:R.find(l=>l.color===c),V=v(j||(T==null?void 0:T.image)||((z=m==null?void 0:m.images)==null?void 0:z[0])),Y=je(r,T,m);return{selectedCaseType:r,selectedColor:c,selectedDetailImage:j,isSpecificationsOpen:Q,quantity:p,quantityError:O,productsWithQuantities:S,selectedCase:m,currentImage:V,detailImages:Y,cart:n,setIsSpecificationsOpen:L,handleCaseTypeChange:l=>{if(q(l))return;d(l),C(null),f(1);const h={economy:"economy",business:"business",firstclass:"firstclass"}[l]||"economy";a({filter:h});const u=M().cases.find(k=>k.type===l);if(u&&u.colors.length>0){const k=u.colors.find(N=>{const A={caseType:l,color:N.color},$=w(A,n);return $===null||$>0})||u.colors[0];y(k.color)}},handleColorChange:l=>{var I;const x=(I=m==null?void 0:m.colors)==null?void 0:I.find(u=>u.color===l);(x==null?void 0:x.quantity)!==void 0&&x.quantity===0||(y(l),C(null),f(1))},handleDetailImageClick:l=>{P()||C(l)},handleAddToCart:l=>{if(P())return;const x=W(E({},l),{quantity:p}),h=W(E({},x),{id:`case-${r}-${c}-${Date.now()}`});console.log("ðŸ’¼ PassportCases page - Adding case to cart:",{caseName:l.caseName||l.name,caseType:l.caseType,color:l.color,quantity:p,product:h}),i(h)},handleIncrementQuantity:()=>{var h;if(P())return;const x=w({caseType:r,color:c},n);if(x===null||x>p)f(p+1),b("");else{const u=M().cases.find(B=>B.type===r),k=(u==null?void 0:u.name)||"Passport Case",N=(h=u==null?void 0:u.colors)==null?void 0:h.find(B=>B.color===c),A=N!=null&&N.image?H(N.image):"",$=A?` in ${A}`:"";b(`We don't have any more ${k}${$} in stock to be added anymore.`)}},handleDecrementQuantity:()=>{p>1&&(f(p-1),b(""))},isSelectedColorSoldOut:P,isColorSoldOut:Z,isCaseTypeSoldOut:q}},Ee=()=>{const{selectedCaseType:t,selectedColor:a,selectedDetailImage:s,isSpecificationsOpen:i,quantity:n,quantityError:o,productsWithQuantities:r,selectedCase:d,currentImage:c,detailImages:y,setIsSpecificationsOpen:j,handleCaseTypeChange:C,handleColorChange:Q,handleDetailImageClick:L,handleAddToCart:p,handleIncrementQuantity:f,handleDecrementQuantity:O,isSelectedColorSoldOut:b,isColorSoldOut:S,isCaseTypeSoldOut:m}=Ce();return!d||!d.images||d.images.length===0?e.jsx(xe,{}):e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(me,{}),e.jsx(ue,{cases:r.cases,selectedCaseType:t,onCaseTypeChange:C,isCaseTypeSoldOut:m,getCaseDisplayName:be}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-12 mb-16",children:[e.jsx(pe,{currentImage:c,detailImages:y,selectedDetailImage:s,selectedCase:d,isSelectedColorSoldOut:b,onDetailImageClick:L}),e.jsxs("div",{className:"space-y-4 sm:space-y-6 md:space-y-8 flex flex-col justify-between",children:[e.jsx(ge,{colors:d.colors,selectedColor:a,onColorChange:Q,isColorSoldOut:S,getColorName:H}),e.jsx(he,{specifications:d.specifications,isOpen:i,onToggle:()=>j(!i)}),e.jsx(ye,{specifications:d.specifications}),e.jsx(fe,{selectedCase:d,selectedCaseType:t,selectedColor:a,quantity:n,quantityError:o,currentImage:c,isSelectedColorSoldOut:b,onIncrementQuantity:f,onDecrementQuantity:O,onAddToCart:p})]})]})]})})};export{Ee as default};
